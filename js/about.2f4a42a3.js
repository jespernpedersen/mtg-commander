(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"062f":function(t,e,n){},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0832":function(t,e,n){},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),s=n("9def"),a=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l,p=e||a;return function(e,a,d){for(var v,g,m=o(e),y=i(m),b=r(a,d,3),w=s(y.length),_=0,E=n?p(e,w):u?p(e,0):void 0;w>_;_++)if((f||_ in y)&&(v=y[_],g=b(v,_,m),t))if(n)E[_]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return _;case 2:E.push(v)}else if(h)return!1;return l?-1:c||h?h:E}}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d3d":function(t,e,n){"use strict";function r(t,e){var n=e.value,r=e.options||{passive:!0};window.addEventListener("resize",n,r),t._onResize={callback:n,options:r},e.modifiers&&e.modifiers.quiet||n()}function i(t){if(t._onResize){var e=t._onResize,n=e.callback,r=e.options;window.removeEventListener("resize",n,r),delete t._onResize}}e["a"]={inserted:r,unbind:i}},"0fc9":function(t,e,n){var r=n("3a38"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},1173:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"181c":function(t,e,n){},1912:function(t,e,n){},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),u=n("520a"),c=a("species"),h=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),p=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e})):void 0;if(!p||!d||"replace"===t&&!h||"split"===t&&!l){var v=/./[f],g=n(s,f,""[t],(function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],y=g[1];r(String.prototype,t,m),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"24c5":function(t,e,n){"use strict";var r,i,o,s,a=n("b8e3"),u=n("e53d"),c=n("d864"),h=n("40c3"),l=n("63b6"),f=n("f772"),p=n("79aa"),d=n("1173"),v=n("a22a"),g=n("f201"),m=n("4178").set,y=n("aba2")(),b=n("656e"),w=n("4439"),_=n("bc13"),E=n("cd78"),x="Promise",T=u.TypeError,S=u.process,I=S&&S.versions,C=I&&I.v8||"",A=u[x],O="process"==h(S),k=function(){},D=i=b.f,N=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n("5168")("species")]=function(t){t(k,k)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==C.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(r){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?n=r:(h&&h.enter(),n=a(r),h&&(h.exit(),s=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=P(n))?o.call(n,u,c):u(n)):c(r)}catch(l){h&&!s&&h.exit(),c(l)}};while(n.length>o)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){m.call(u,(function(){var e,n,r,i=t._v,o=L(t);if(o&&(e=w((function(){O?S.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=O||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,(function(){var e;O?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},V=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=P(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,c(B,r,1),c(V,r,1))}catch(i){V.call(r,i)}})):(n._v=t,n._s=1,M(n,!1))}catch(r){V.call({_w:n,_d:!1},r)}}};N||(A=function(t){d(this,A,x,"_h"),p(t),r.call(this);try{t(c(B,this,1),c(V,this,1))}catch(e){V.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("5c95")(A.prototype,{then:function(t,e){var n=D(g(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(B,t,1),this.reject=c(V,t,1)},b.f=D=function(t){return t===A||t===s?new o(t):i(t)}),l(l.G+l.W+l.F*!N,{Promise:A}),n("45f2")(A,x),n("4c95")(x),s=n("584a")[x],l(l.S+l.F*!N,x,{reject:function(t){var e=D(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(a||!N),x,{resolve:function(t){return E(a&&this===s?A:this,t)}}),l(l.S+l.F*!(N&&n("4ee1")((function(t){A.all(t)["catch"](k)}))),x,{all:function(t){var e=this,n=D(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=D(e),r=n.reject,i=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"26e5":function(t,e,n){},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),s=n("0390"),a=n("9def"),u=n("5f1b"),c=n("520a"),h=n("79e5"),l=Math.min,f=[].push,p="split",d="length",v="lastIndex",g=4294967295,m=!h((function(){RegExp(g,"y")}));n("214f")("split",2,(function(t,e,n,h){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[d]||2!="ab"[p](/(?:ab)*/)[d]||4!="."[p](/(.?)(.?)/)[d]||"."[p](/()()/)[d]>1||""[p](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var o,s,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===e?g:e>>>0,m=new RegExp(t.source,h+"g");while(o=c.call(m,i)){if(s=m[v],s>l&&(u.push(i.slice(l,o.index)),o[d]>1&&o.index<i[d]&&f.apply(u,o.slice(1)),a=o[0][d],l=s,u[d]>=p))break;m[v]===o.index&&m[v]++}return l===i[d]?!a&&m.test("")||u.push(""):u.push(i.slice(l)),u[d]>p?u.slice(0,p):u}:"0"[p](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=h(y,t,this,e,y!==n);if(r.done)return r.value;var c=i(t),f=String(this),p=o(c,RegExp),d=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),b=new p(m?c:"^(?:"+c.source+")",v),w=void 0===e?g:e>>>0;if(0===w)return[];if(0===f.length)return null===u(b,f)?[f]:[];var _=0,E=0,x=[];while(E<f.length){b.lastIndex=m?E:0;var T,S=u(b,m?f:f.slice(E));if(null===S||(T=l(a(b.lastIndex+(m?0:E)),f.length))===_)E=s(f,E,d);else{if(x.push(f.slice(_,E)),x.length===w)return x;for(var I=1;I<=S.length-1;I++)if(x.push(S[I]),x.length===w)return x;E=_=T}}return x.push(f.slice(_)),x}]}))},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},3024:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),i=n("63b6"),o=n("9138"),s=n("35e8"),a=n("481b"),u=n("8f60"),c=n("45f2"),h=n("53e2"),l=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,y,b,w){u(n,e,m);var _,E,x,T=function(t){if(!f&&t in A)return A[t];switch(t){case d:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",I=y==v,C=!1,A=t.prototype,O=A[l]||A[p]||y&&A[y],k=O||T(y),D=y?I?T("entries"):k:void 0,N="Array"==e&&A.entries||O;if(N&&(x=h(N.call(new t)),x!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[l]||s(x,l,g))),I&&O&&O.name!==v&&(C=!0,k=function(){return O.call(this)}),r&&!w||!f&&!C&&A[l]||s(A,l,k),a[e]=k,a[S]=g,y)if(_={values:I?k:T(v),keys:b?k:T(d),entries:D},w)for(E in _)E in A||o(A,E,_[E]);else i(i.P+i.F*(f||C),e,_);return _}},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},3385:function(t,e,n){},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var r=n("335c"),i=n("25eb");t.exports=function(t){return r(i(t))}},3702:function(t,e,n){var r=n("481b"),i=n("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"3c11":function(t,e,n){"use strict";var r=n("63b6"),i=n("584a"),o=n("e53d"),s=n("f201"),a=n("cd78");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},"40c3":function(t,e,n){var r=n("6b4c"),i=n("5168")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},4178:function(t,e,n){var r,i,o,s=n("d864"),a=n("3024"),u=n("32fc"),c=n("1ec9"),h=n("e53d"),l=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,v=h.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},w=function(t){b.call(t.data)};f&&p||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},p=function(t){delete m[t]},"process"==n("6b4c")(l)?r=function(t){l.nextTick(s(b,t,1))}:v&&v.now?r=function(t){v.now(s(b,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(t){h.postMessage(t+"","*")},h.addEventListener("message",w,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:f,clear:p}},4308:function(t,e,n){"use strict";var r=n("b789"),i=n.n(r);i.a},4383:function(t,e,n){t.exports=n.p+"img/island.bfbe2581.png"},"43fc":function(t,e,n){"use strict";var r=n("63b6"),i=n("656e"),o=n("4439");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"44dc":function(t,e,n){},"45f2":function(t,e,n){var r=n("d9f6").f,i=n("07e3"),o=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"47ed":function(t,e,n){"use strict";var r=n("bb7a"),i=n.n(r);i.a},"481b":function(t,e){t.exports={}},"4bbf":function(t,e,n){},"4be4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("5019"),i=n("cd51"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:s,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,c(t))try{this.getOrInitializeService(s)}catch(p){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[0],h=a[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(l);h.resolve(f)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,u(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}();function u(t){return t===s?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=h,e.Provider=a},"4c94":function(t,e,n){},"4c95":function(t,e,n){"use strict";var r=n("e53d"),i=n("584a"),o=n("d9f6"),s=n("8e60"),a=n("5168")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,e,n){var r=n("5168")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(s){}return n}},5019:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){a("next",t)}function h(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5168:function(t,e,n){var r=n("dbdb")("wks"),i=n("62a0"),o=n("e53d").Symbol,s="function"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))};a.store=r},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[a]||0!==e[a]}(),c=void 0!==/()??/.exec("")[1],h=u||c;h&&(s=function(t){var e,n,s,h,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),u&&(e=l[a]),s=i.call(l,t),u&&s&&(l[a]=l.global?s.index+s[0].length:e),c&&s&&s.length>1&&o.call(s[0],n,(function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(s[h]=void 0)})),s}),t.exports=s},"53e2":function(t,e,n){var r=n("07e3"),i=n("241e"),o=n("5559")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},5559:function(t,e,n){var r=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},"584a":function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"58db":function(t,e,n){},"5b4e":function(t,e,n){var r=n("36c3"),i=n("b447"),o=n("0fc9");t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),h=o(s,c);if(t&&n!=n){while(c>h)if(a=u[h++],a!=a)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},"5c95":function(t,e,n){var r=n("35e8");t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},6243:function(t,e,n){t.exports=n.p+"img/mana-r.d02cdb2e.png"},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),o=n("d864"),s=n("35e8"),a=n("07e3"),u="prototype",c=function(t,e,n){var h,l,f,p=t&c.F,d=t&c.G,v=t&c.S,g=t&c.P,m=t&c.B,y=t&c.W,b=d?i:i[e]||(i[e]={}),w=b[u],_=d?r:v?r[e]:(r[e]||{})[u];for(h in d&&(n=e),n)l=!p&&_&&void 0!==_[h],l&&a(b,h)||(f=l?_[h]:n[h],b[h]=d&&"function"!=typeof _[h]?n[h]:m&&l?o(f,r):y&&_[h]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((b.virtual||(b.virtual={}))[h]=f,t&c.R&&w&&!w[h]&&s(w,h,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},6544:function(t,e){t.exports=function(t,e){var n="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var r in"function"===typeof t.exports&&(n.components=t.exports.options.components),n.components=n.components||{},e)n.components[r]=n.components[r]||e[r]}},"656e":function(t,e,n){"use strict";var r=n("79aa");function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},"696e":function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),t.exports=n("584a").Promise},"69e0":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var r=n("c23d");n.d(e,"a",(function(){return r["firebase"]}));n("e89a");var i=r["firebase"].initializeApp({apiKey:"oUYxakS97kUHnOwopW73kw7KeVtiXC5To2y4cizJ",authDomain:"mtg-commander-aaeaf.firebaseapp.com",databaseURL:"https://mtg-commander-aaeaf.firebaseio.com",projectId:"mtg-commander-aaeaf",storageBucket:"mtg-commander-aaeaf.appspot.com",messagingSenderId:"447477765016"}),o=i.firestore(),s=o.collection("library"),a=o.collection("messages")},"6a18":function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n("2b0e"),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){var e=i({},t.props,t.injections),n=s.options.computed.isDark.call(e);return s.options.computed.themeClasses.call({isDark:n})}var s=r["default"].extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.$vuetify.dark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});e["a"]=s},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],u=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),i=n("35e8"),o=n("481b"),s=n("5168")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],h=r[c],l=h&&h.prototype;l&&!l[s]&&i(l,s,c),o[c]=o.Array}},"6cd4":function(t,e,n){"use strict";var r=n("8b05"),i=n.n(r);i.a},"71c1":function(t,e,n){var r=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u),o<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},7496:function(t,e,n){"use strict";n("3385");var r=n("d9bd");function i(t){var e=void 0;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError("Colors can only be numbers or strings, recieved "+(null==t?t:t.constructor.name)+" instead");var n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((function(t){return t+t})).join("")),6!==n.length&&Object(r["c"])("'"+t+"' is not a valid rgb color"),e=parseInt(n,16)}return e<0?(Object(r["c"])("Colors cannot be negative: '"+t+"'"),e=0):(e>16777215||isNaN(e))&&(Object(r["c"])("'"+t+"' is not a valid rgb color"),e=16777215),e}function o(t){var e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function s(t){return o(i(t))}var a=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],u=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},c=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],h=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function l(t){return Math.max(0,Math.min(1,t))}function f(t){for(var e=Array(3),n=u,r=a,i=0;i<3;++i)e[i]=Math.round(255*l(n(r[i][0]*t[0]+r[i][1]*t[1]+r[i][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function p(t){for(var e=[0,0,0],n=h,r=c,i=n((t>>16&255)/255),o=n((t>>8&255)/255),s=n((t>>0&255)/255),a=0;a<3;++a)e[a]=r[a][0]*i+r[a][1]*o+r[a][2]*s;return e}var d=.20689655172413793,v=function(t){return t>Math.pow(d,3)?Math.cbrt(t):t/(3*Math.pow(d,2))+4/29},g=function(t){return t>d?Math.pow(t,3):3*Math.pow(d,2)*(t-4/29)};function m(t){var e=v,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function y(t){var e=g,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}var b=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(t),r={},o=0;o<n.length;++o){var a=n[o],u=t[a];e?("base"===a||a.startsWith("lighten")||a.startsWith("darken"))&&(r[a]=s(u)):"object"===("undefined"===typeof u?"undefined":w(u))?r[a]=_(u,!0):r[a]=C(a,i(u))}return r}var E=function(t,e){return"\n."+t+" {\n  background-color: "+e+" !important;\n  border-color: "+e+" !important;\n}\n."+t+"--text {\n  color: "+e+" !important;\n  caret-color: "+e+" !important;\n}"},x=function(t,e,n){var r=e.split(/(\d)/,2),i=b(r,2),o=i[0],s=i[1];return"\n."+t+"."+o+"-"+s+" {\n  background-color: "+n+" !important;\n  border-color: "+n+" !important;\n}\n."+t+"--text.text--"+o+"-"+s+" {\n  color: "+n+" !important;\n  caret-color: "+n+" !important;\n}"},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-"+t+"-"+e},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var("+T(t,e)+")"};function I(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(t);if(!n.length)return"";var r="",i="",o=e?S("primary"):t.primary.base;i+="a { color: "+o+"; }";for(var s=0;s<n.length;++s){var a=n[s],u=t[a];if("object"===("undefined"===typeof u?"undefined":w(u))){i+=E(a,e?S(a):u.base),e&&(r+="  "+T(a)+": "+u.base+";\n");for(var c=Object.keys(u),h=0;h<c.length;++h){var l=c[h],f=u[l];"base"!==l&&(i+=x(a,l,e?S(a,l):f),e&&(r+="  "+T(a,l)+": "+f+";\n"))}}}return e&&(r=":root {\n"+r+"}\n\n"),r+i}function C(t,e){for(var n={base:o(e)},r=5;r>0;--r)n["lighten"+r]=o(A(e,r));for(var i=1;i<=4;++i)n["darken"+i]=o(O(e,i));return n}function A(t,e){var n=m(p(t));return n[0]=n[0]+10*e,f(y(n))}function O(t,e){var n=m(p(t));return n[0]=n[0]-10*e,f(y(n))}var k={data:function(){return{style:null}},computed:{parsedTheme:function(){return _(this.$vuetify.theme)},generatedStyles:function(){var t=this.parsedTheme,e=void 0;return null!=this.$vuetify.options.themeCache&&(e=this.$vuetify.options.themeCache.get(t),null!=e)||(e=I(t,this.$vuetify.options.customProperties),null!=this.$vuetify.options.minifyTheme&&(e=this.$vuetify.options.minifyTheme(e)),null!=this.$vuetify.options.themeCache&&this.$vuetify.options.themeCache.set(t,e)),e},vueMeta:function(){if(!1===this.$vuetify.theme)return{};var t={cssText:this.generatedStyles,id:"vuetify-theme-stylesheet",type:"text/css"};return this.$vuetify.options.cspNonce&&(t.nonce=this.$vuetify.options.cspNonce),{style:[t]}}},metaInfo:function(){return this.vueMeta},head:function(){return this.vueMeta},watch:{generatedStyles:function(){!this.meta&&this.applyTheme()}},created:function(){if(!1!==this.$vuetify.theme)if(this.$meta);else if("undefined"===typeof document&&this.$ssrContext){var t=this.$vuetify.options.cspNonce?' nonce="'+this.$vuetify.options.cspNonce+'"':"";this.$ssrContext.head=this.$ssrContext.head||"",this.$ssrContext.head+='<style type="text/css" id="vuetify-theme-stylesheet"'+t+">"+this.generatedStyles+"</style>"}else"undefined"!==typeof document&&(this.genStyle(),this.applyTheme())},methods:{applyTheme:function(){this.style&&(this.style.innerHTML=this.generatedStyles)},genStyle:function(){var t=document.getElementById("vuetify-theme-stylesheet");t||(t=document.createElement("style"),t.type="text/css",t.id="vuetify-theme-stylesheet",this.$vuetify.options.cspNonce&&t.setAttribute("nonce",this.$vuetify.options.cspNonce),document.head.appendChild(t)),this.style=t}}},D=n("6a18"),N=n("0d3d"),P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["a"]={name:"v-app",directives:{Resize:N["a"]},mixins:[k,D["a"]],props:{id:{type:String,default:"app"},dark:Boolean},computed:{classes:function(){return P({"application--is-rtl":this.$vuetify.rtl},this.themeClasses)}},watch:{dark:function(){this.$vuetify.dark=this.dark}},mounted:function(){this.$vuetify.dark=this.dark},render:function(t){var e={staticClass:"application",class:this.classes,attrs:{"data-app":!0},domProps:{id:this.id}},n=t("div",{staticClass:"application--wrap"},this.$slots.default);return t("div",e,[n])}}},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7804:function(t,e,n){"use strict";var r=n("4bbf"),i=n.n(r);i.a},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"795b":function(t,e,n){t.exports=n("696e")},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"7cd6":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),o=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},"7e63":function(t,e,n){},"7e90":function(t,e,n){var r=n("d9f6"),i=n("e4ae"),o=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,s=o(e),a=s.length,u=0;while(a>u)r.f(t,n=s[u++],e[n]);return t}},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n("9e1e")&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8436:function(t,e){t.exports=function(){}},8450:function(t,e,n){"use strict";var r=n("c1bc"),i=n.n(r);i.a},"8b05":function(t,e,n){},"8b12":function(t,e,n){},"8e60":function(t,e,n){t.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8f5a":function(t,e,n){t.exports=n.p+"img/mana-w.236c668d.png"},"8f60":function(t,e,n){"use strict";var r=n("a159"),i=n("aebd"),o=n("45f2"),s={};n("35e8")(s,n("5168")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},9138:function(t,e,n){t.exports=n("35e8")},"922f":function(t,e,n){t.exports=n.p+"img/card-back.16e80a3f.png"},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===typeof t,h=e.regeneratorRuntime;if(h)c&&(t.exports=h);else{h=e.regeneratorRuntime=c?t.exports:{},h.wrap=w;var l="suspendedStart",f="suspendedYield",p="executing",d="completed",v={},g={};g[s]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(N([])));y&&y!==r&&i.call(y,s)&&(g=y);var b=T.prototype=E.prototype=Object.create(g);x.prototype=b.constructor=T,T.constructor=x,T[u]=x.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},h.awrap=function(t){return{__await:t}},S(I.prototype),I.prototype[a]=function(){return this},h.AsyncIterator=I,h.async=function(t,e,n,r){var i=new I(w(t,e,n,r));return h.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(b),b[u]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},h.values=N,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:N(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,o=Object.create(i.prototype),s=new D(r||[]);return o._invoke=C(t,n,s),o}function _(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function E(){}function x(){}function T(){}function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function I(t){function e(n,r,o,s){var a=_(t[n],t,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(c).then((function(t){u.value=t,o(u)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}var n;function r(t,r){function i(){return new Promise((function(n,i){e(t,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function C(t,e,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return P()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=A(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=_(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=_(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[s];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"97fb":function(t,e,n){},"9e77":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({8875:function(t,e,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(l){var t,e,n,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,i=/@([^@]*):(\d+):(\d+)\s*$/gi,o=r.exec(l.stack)||i.exec(l.stack),s=o&&o[1]||!1,a=o&&o[2]||!1,u=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");s===u&&(t=document.documentElement.outerHTML,e=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=t.replace(e,"$1").trim());for(var h=0;h<c.length;h++){if("interactive"===c[h].readyState)return c[h];if(c[h].src===s)return c[h];if(s===u&&c[h].innerHTML&&c[h].innerHTML.trim()===n)return c[h]}return null}}return t}))},fb15:function(t,e,n){"use strict";if(n.r(e),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},a=[];function u(t){return"undefined"===typeof t}var c=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[],r=n.length>0;if(!r)return!0;n=n.concat(),e.eventType=t;var i=!1,o=[e],s=0;e.stop=function(){i=!0},e.currentTarget=this;for(var a=arguments.length,u=new Array(a>2?a-2:0),c=2;c<a;c++)u[c-2]=arguments[c];for(u.length>=1&&(o=o.concat(u)),s=0;n[s];s++)n[s].apply(this,o);return!i},e.once=function(t,e){if("object"===typeof t&&u(e)){var n,r=t;for(n in r)this.once(n,r[n]);return this}if("string"===typeof t&&"function"===typeof e){var i=this;this.on(t,(function n(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];e.apply(i,o),i.off(t,n)}))}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"===typeof t&&u(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"===typeof t&&"function"===typeof e){var i=this._eventHandler[t];u(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(u(t))return this._eventHandler={},this;if(u(e)){if("string"===typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var i,o,s=this._eventHandler[t];if(s)for(i=0;void 0!==(o=s[i]);i++)if(o===e){s=s.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}(),h=c;function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function f(t,e){return e.replace(/([^}{]*){/gm,(function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}function p(t,e){return function(n){n&&(t[e]=n)}}function d(t,e,n){return function(r){r&&(t[e][n]=r)}}function v(t,e){return function(n){var r=n.prototype;t.forEach((function(t){e(r,t)}))}}var g=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),m=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),y="function"===typeof Map,b=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){var t=this,e=-1;while(t)t=t.prev,++e;return e},t}();function w(t,e){var n=[],r=[];return t.forEach((function(t){var e=t[0],i=t[1],o=new b;n[e]=o,r[i]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var i=t[0],o=t[1];if(i===o)return[0,0];var s=n[i],a=r[o-1],u=s.getIndex();s.disconnect(),a?s.connect(a,a.next):s.connect(void 0,n[0]);var c=s.getIndex();return[u,c]}))}var _=function(){function t(t,e,n,r,i,o,s,a){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=s,this.fixed=a}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=w(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,r){var i=t[0],o=t[1],s=e[r],a=s[0],u=s[1];if(i!==o)return n.push([a,u]),!0})),this.cachePureChanged=n},t}();function E(t,e,n){var r=y?Map:n?m:g,i=n||function(t){return t},o=[],s=[],a=[],u=t.map(i),c=e.map(i),h=new r,l=new r,f=[],p=[],d={},v=[],b=0,w=0;return u.forEach((function(t,e){h.set(t,e)})),c.forEach((function(t,e){l.set(t,e)})),u.forEach((function(t,e){var n=l.get(t);"undefined"===typeof n?(++w,s.push(e)):d[n]=w})),c.forEach((function(t,e){var n=h.get(t);"undefined"===typeof n?(o.push(e),++b):(a.push([n,e]),w=d[e]||0,f.push([n-w,e-b]),p.push(e===n),n!==e&&v.push([n,e]))})),s.reverse(),new _(t,e,o,s,v,a,f,p)}var x=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}var e=t.prototype;return e.update=function(t){var e=[].slice.call(t),n=E(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),T=x,S="function",I="object",C="string",A="undefined",O=(typeof document!==A&&document,['"',"'",'\\"',"\\'"]);function k(t,e,n,r){return(t*r+e*n)/(n+r)}function D(t){return typeof t===A}function N(t){return t&&typeof t===I}function P(t){return Array.isArray(t)}function M(t){return typeof t===C}function R(t){return typeof t===S}function L(t,e,n,r){for(var i=n;i<r;++i){var o=e[i].trim();if(o===t)return i;var s=i;if("("===o?s=L(")",e,i+1,r):O.indexOf(o)>-1&&(s=L(o,e,i+1,r)),-1===s)break;i=s}return-1}function j(t,e){for(var n=t.split(/(\s*,\s*|\(|\)|"|'|\\"|\\'|\s+)/g).filter(Boolean),r=n.length,i=[],o=[],s=0;s<r;++s){var a=n[s].trim(),u=s;if("("===a)u=L(")",n,s+1,r);else{if(")"===a)throw new Error("invalid format");if(O.indexOf(a)>-1)u=L(a,n,s+1,r);else if(a===e){o.length&&(i.push(o.join("")),o=[]);continue}}-1===u&&(u=r-1),o.push(n.slice(s,u+1).join("")),s=u}return o.length&&i.push(o.join("")),i}function V(t){return j(t,",")}function B(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function z(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2],i=e[3];return{prefix:n,unit:i,value:parseFloat(r)}}function F(t){return t.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()}))}function U(){return Date.now?Date.now():(new Date).getTime()}function q(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function G(t,e,n){var r=q(t,e);return r>-1?t[r]:n}function W(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function H(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function $(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function Y(t,e,n,r){t.addEventListener(e,n,r)}function X(t,e,n){t.removeEventListener(e,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var K=function(t,e){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},K(t,e)};function Q(t,e){function n(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Z=function(){return Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Z.apply(this,arguments)};function J(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function tt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function et(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function nt(t,e){var n=Object.keys(t),r=Object.keys(e),i=E(n,r,(function(t){return t})),o={},s={},a={};return i.added.forEach((function(t){var n=r[t];o[n]=e[n]})),i.removed.forEach((function(e){var r=n[e];s[r]=t[r]})),i.maintained.forEach((function(r){var i=r[0],o=n[i],s=[t[o],e[o]];t[o]!==e[o]&&(a[o]=s)})),{added:o,removed:s,changed:a}}function rt(t){t.forEach((function(t){t()}))}function it(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function ot(t,e,n,r){if(M(t))return new vt("text_"+t,e,n,r,null,{});var i="string"===typeof t.type?gt:t.type.prototype.render?_t:bt;return new i(t.type,e,n,r,t.ref,t.props)}function st(t){var e=[];return t.forEach((function(t){e=e.concat(P(t)?st(t):t)})),e}function at(t){var e=t.className,n=J(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function ut(t,e){if(!e)return t;for(var n in e)D(t[n])&&(t[n]=e[n]);return t}function ct(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},o=i.key,s=i.ref,a=J(i,["key","ref"]);return{type:t,key:o,ref:s,props:Z(Z({},a),{children:st(n).filter((function(t){return null!=t}))})}}var ht=function(){function t(t,e,n,r,i,o){void 0===o&&(o={}),this.type=t,this.key=e,this.index=n,this.container=r,this.ref=i,this.props=o,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,r){if(this.base&&!M(e)&&!r&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var i=this.props;return M(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?i:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function lt(t,e,n){var r=nt(t,e),i=r.added,o=r.removed,s=r.changed;for(var a in i)n.setAttribute(a,i[a]);for(var a in s)n.setAttribute(a,s[a][1]);for(var a in o)n.removeAttribute(a)}function ft(t,e,n){var r=nt(t,e),i=r.added,o=r.removed,s=r.changed;for(var a in o)n.removeEventListener(a);for(var a in i)n.addEventListener(a,i[a]);for(var a in s)n.removeEventListener(a),n.addEventListener(a,s[a][1]);for(var a in o)n.removeEventListener(a)}function pt(t,e,n){var r=n.style,i=nt(t,e),o=i.added,s=i.removed,a=i.changed;for(var u in o)r[u]=o[u];for(var u in a)r[u]=a[u][1];for(var u in s)r[u]=""}function dt(t){var e={},n={};for(var r in t)0===r.indexOf("on")?n[r.replace("on","").toLowerCase()]=t[r]:e[r]=t[r];return{attributes:e,events:n}}var vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Q(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?e._mounted():e._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(ht),gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e}Q(e,t);var n=e.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return et(this.props,t)},n._render=function(t,e){var n=this,r=!this.base;r&&(this.base=document.createElement(this.type)),At(this,this._providers,this.props.children,t,null);var i=this.base,o=dt(e),s=o.attributes,a=o.events,u=dt(this.props),c=u.attributes,h=u.events;return lt(at(s),at(c),i),ft(a,h,this),pt(e.style||{},this.props.style||{},i),t.push((function(){r?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach((function(t){t._unmount()})),this.events={},e.parentNode.removeChild(e)},e}(ht);function mt(t){if(!t)return null;var e=t.base;return e instanceof Node?e:mt(t.container)}function yt(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?yt(e[0].base):null}var bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Q(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return At(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(ht),wt=function(t){function e(e){var n=t.call(this,"container","container",0,null)||this;return n.base=e,n}Q(e,t);var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(ht),_t=function(t){function e(e,n,r,i,o,s){return void 0===s&&(s={}),t.call(this,e,n,r,i,o,ut(s,e.defaultProps))||this}Q(e,t);var n=e.prototype;return n._should=function(t,e){return this.base.shouldComponentUpdate(ut(t,this.type.defaultProps),e||this.base.state)},n._render=function(t,e,n){var r=this;this.props=ut(this.props,this.type.defaultProps);var i=!this.base;i?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var o=this.base,s=o.state,a=o.render();a&&a.props&&!a.props.children.length&&(a.props.children=this.props.children),At(this,this._providers,a?[a]:[],t,n,null),t.push((function(){i?(r._mounted(),o.componentDidMount()):(r._updated(),o.componentDidUpdate(e,s))}))},n._setState=function(t){if(t){var e=this.base;e.state=t}},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},e}(ht),Et=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var r=[],i=this._provider,o=At(i.container,[i],[i.original],r,Z(Z({},this.state),t),n);o&&(e&&r.push(e),rt(r))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Q(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t,e){return et(this.props,t)||et(this.state,e)},e}(Et),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Q(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=new wt(n),Ot(e,n,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props,e=t.element,n=t.container;Ot(e,n,this._portalProvider)},n.componentWillUnmount=function(){var t=this.props.container;Ot(null,t,this._portalProvider),this._portalProvider=null},e}(xt);function St(t,e,n){var r=[];At(t,t._providers,e,r,n),rt(r)}function It(t,e){for(var n=t._providers,r=n.length,i=e.index+1;i<r;++i){var o=yt(n[i].base);if(o)return o}return null}function Ct(t,e,n){var r=n.map((function(t){return M(t)?null:t.key})),i=it(e.map((function(t){return t.key}))),o=it(r),s=E(i,o,(function(t){return t}));s.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),s.ordered.forEach((function(t){var n=t[0],r=t[1],i=e.splice(n,1)[0];e.splice(r,0,i);var o=yt(i.base),s=yt(e[r+1]&&e[r+1].base);o&&o.parentNode.insertBefore(o,s)})),s.added.forEach((function(i){e.splice(i,0,ot(n[i],r[i],i,t))}));var a=s.maintained.filter((function(i){i[0];var o=i[1],s=n[o],a=e[o],u=M(s)?"text_"+s:s.type;return u!==a.type?(a._unmount(),e.splice(o,1,ot(s,r[o],o,t)),!0):(a.index=o,!1)}));return tt(s.added,a.map((function(t){t[0];var e=t[1];return e})))}function At(t,e,n,r,i,o){var s=Ct(t,e,n),a=e.filter((function(t,e){return t._update(r,n[e],i,o)})),u=mt(t);return u&&s.reverse().forEach((function(n){var r=e[n],i=yt(r.base);if(i&&u!==i&&!i.parentNode){var o=It(t,r);u.insertBefore(i,o)}})),a.length>0}function Ot(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var r=!!n;return n||(n=new wt(e)),St(n,t?[t]:[]),r||(e.__REACT_COMPAT__=n),n}function kt(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),Ot(t,e,r),n&&n()}function Dt(t,e){return ct(Tt,{element:t,container:e})}var Nt="undefined"!==typeof window&&window||{},Pt=(Nt.RegExp,Nt.navigator),Mt={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function Rt(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}function Lt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}var jt=void 0;function Vt(t){jt=t}function Bt(t,e){return e&&e.test?!!e.test(t):t.indexOf(e)>-1}function zt(t,e){var n=Rt(t,(function(t){return Bt(jt,t.criteria)}))[0];return n&&n.identity||e.name}function Ft(t,e){return Rt(t,(function(t){var n=t.criteria,r=new RegExp(t.identity,"i").test(e);return!!(n?r&&Bt(jt,n):r)}))[0]}function Ut(){return zt(Mt.browser,Mt.defaultString.browser)}function qt(t){var e=Ft(Mt.browser,t);return e||(e={criteria:t,versionSearch:t,identity:t}),e}function Gt(t,e){var n=Mt.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var i=r.index,o=r[0];if(i>-1){var s=i+o.length+1;n=e.substring(s).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function Wt(t){if(t){var e=qt(t),n=e.versionSearch||t,r=Gt(n,jt);return r}}function Ht(){var t=Mt.webview,e=void 0;return Lt(Rt(t,(function(t){return Bt(jt,t.criteria)})),(function(t){return e=Gt(t.browserVersionSearch,jt),!(!Bt(jt,t.webviewToken)&&!Bt(e,t.webviewBrowserVersion))}))}function $t(t){return Ft(Mt.os,t)}function Yt(){return zt(Mt.os,Mt.defaultString.os)}function Xt(t){var e=$t(t)||{},n=Mt.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var i=e.versionSearch||t,o=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i"),s=o.exec(jt);return s&&(r=o.exec(jt)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function Kt(){var t=Yt(),e=Xt(t);return{name:t,version:e}}function Qt(){var t=Ut(),e=Wt(t);return{name:t,version:e,webview:Ht()}}function Zt(){return-1!==jt.indexOf("Mobi")}function Jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt.userAgent;Vt(t);var e={os:Kt(),browser:Qt(),isMobile:Zt()};return e.browser.name=e.browser.name.toLowerCase(),e.os.name=e.os.name.toLowerCase(),e.os.version=e.os.version.toLowerCase(),"ios"===e.os.name&&e.browser.webview&&(e.browser.version="-1"),e}Jt.VERSION="2.1.5";var te=Jt;function ee(t,e,n,r,i,o){for(var s=n;s<r;++s)t[s]+=t[i+s-n]*o,e[s]+=e[i+s-n]*o}function ne(t,e,n,r,i){for(var o=n;o<r;++o){var s=t[o],a=e[o];t[o]=t[i+o-n],t[i+o-n]=s,e[o]=e[i+o-n],e[i+o-n]=a}}function re(t,e,n,r,i){for(var o=n;o<r;++o)t[o]/=i,e[o]/=i}function ie(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function oe(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Ee(e),i=0;i<e;++i){var o=e*i,s=e*(i+1),a=o+i;if(0===n[a])for(var u=i+1;u<e;++u)if(n[e*u+i]){ne(n,r,o,s,e*u);break}if(!n[a])return[];re(n,r,o,s,n[a]);for(u=0;u<e;++u){var c=e*u,h=c+e,l=c+i,f=n[l];0!==f&&i!==u&&ee(n,r,c,h,o,-f)}}return r}function se(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function ae(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+2*Math.PI}function ue(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}function ce(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function he(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Ee(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var s=0;s<i-1;++s)r[o*n+s]=t[o*e+s];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function le(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ee(t);return e.forEach((function(e){r=fe(r,e,t)})),r}function fe(t,e,n){var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var s=0;s<n;++s)for(var a=0;a<o;++a){r[s*o+a]=0;for(var u=0;u<i;++u)r[s*o+a]+=t[s*i+u]*e[u*o+a]}return r}function pe(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],i=t.length/n,o=e.length/i,s=0;s<n;++s)for(var a=0;a<o;++a){r[s+a*o]=0;for(var u=0;u<i;++u)r[s+a*o]+=t[s+u*i]*e[u+a*o]}return r}function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,r=0,i=n-1;i>=0;--i)r+=t[i];return n?r/n:0}function ve(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function ge(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function me(t,e,n){void 0===n&&(n=e.length);var r=fe(t,e,n),i=r[n-1];return r.map((function(t){return t/i}))}function ye(t,e){return me(_e(e,3),ce(t,3))}function be(t){return 6===t.length?[t[0],t[2],t[4],t[1],t[3],t[5],0,0,1]:se(t)}function we(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:se(t)}function _e(t,e){var n=Math.cos(t),r=Math.sin(t),i=Ee(e);return i[0]=n,i[1]=-r,i[e]=r,i[e+1]=n,i}function Ee(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function xe(t,e){for(var n=Ee(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function Te(t,e){for(var n=Ee(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(i+1)-1]=t[i];return n}function Se(t,e,n,r,i,o,s,a){var u=t[0],c=t[1],h=e[0],l=e[1],f=n[0],p=n[1],d=r[0],v=r[1],g=i[0],m=i[1],y=o[0],b=o[1],w=s[0],_=s[1],E=a[0],x=a[1],T=[u,c,1,0,0,0,-g*u,-g*c,0,0,0,u,c,1,-m*u,-m*c,h,l,1,0,0,0,-y*h,-y*l,0,0,0,h,l,1,-b*h,-b*l,f,p,1,0,0,0,-w*f,-w*p,0,0,0,f,p,1,-_*f,-_*p,d,v,1,0,0,0,-E*d,-E*v,0,0,0,d,v,1,-x*d,-x*v],S=oe(T,8);if(!S.length)return[];var I=fe(S,[g,m,y,b,w,_,E,x],8);return I[8]=1,he(I,3,4)}function Ie(t){var e=5381,n=t.length;while(n)e=33*e^t.charCodeAt(--n);return e>>>0}var Ce=Ie;function Ae(t){return Ce(t).toString(36)}function Oe(t){if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function ke(t,e,n){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=e.replace(/([^}{]*){/gm,(function(e,n){return V(n).map((function(e){return e.indexOf(":global")>-1?e.replace(/\:global/g,""):e.indexOf(":host")>-1?""+e.replace(/\:host/g,"."+t):"."+t+" "+e})).join(", ")+"{"})),(n||document.head||document.body).appendChild(r),r}function De(t){var e,n="rCS"+Ae(t),r=0;return{className:n,inject:function(i){var o,s=Oe(i),a=0===r;return(s||a)&&(o=ke(n,t,s)),a&&(e=o),s||++r,{destroy:function(){s?(i.removeChild(o),o=null):(r>0&&--r,0===r&&e&&(e.parentNode.removeChild(e),e=null))}}}}}var Ne=De,Pe=function(t,e){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Pe(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Me(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Re=function(){return Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Re.apply(this,arguments)};function Le(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function je(t,e){var n=Ne(e);return function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Me(r,e),r.prototype.render=function(){var e=this.props,r=e.className,i=void 0===r?"":r,o=Le(e,["className"]);return ct(t,Re({ref:p(this,"element"),className:i+" "+n.className},o))},r.prototype.componentDidMount=function(){this.injectResult=n.inject(this.element)},r.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},r.prototype.getElement=function(){return this.element},r}(Et)}var Ve=je,Be=function(){return Be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Be.apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ze(t,e,n,r){var i=Ye(t),o=Ye(e),s=Ye(r),a=Xe(r[0],Ke(i,s)),u=Xe(r[0],Ke(o,s));return qe(a,u,n[0])}function Fe(t){return t.touches&&t.touches.length>=2}function Ue(t){return t.touches?He(t.touches):[$e(t)]}function qe(t,e,n){var r=t.clientX,i=t.clientY,o=e.clientX,s=e.clientY,a=n.clientX,u=n.clientY,c=r-o,h=i-s,l=r-a,f=i-u;return{clientX:r,clientY:i,deltaX:c,deltaY:h,distX:l,distY:f}}function Ge(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function We(t,e,n){return t.map((function(t,r){return qe(t,e[r],n[r])}))}function He(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push($e(t[r]));return n}function $e(t){return{clientX:t.clientX,clientY:t.clientY}}function Ye(t){return 1===t.length?t[0]:{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function Xe(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function Ke(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var Qe=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.targets=[],this.onDragStart=function(t){if(n.flag||!1!==t.cancelable){var e=n.options,r=e.container,i=e.pinchOutside,o=e.dragstart,s=e.preventRightClick,a=n.isTouch;if(!n.flag&&a&&i&&setTimeout((function(){Y(r,"touchstart",n.onDragStart)})),n.flag&&a&&i&&X(r,"touchstart",n.onDragStart),Fe(t)){if(!n.flag&&t.touches.length!==t.changedTouches.length)return;n.pinchFlag||n.onPinchStart(t)}if(!n.flag){var u=n.startClients[0]?n.startClients:Ue(t);n.customDist=[0,0],n.flag=!0,n.isDrag=!1,n.startClients=u,n.prevClients=u,n.datas={},n.movement=0;var c=qe(u[0],n.prevClients[0],n.startClients[0]);(s&&3===t.which||!1===(o&&o(Be({type:"dragstart",datas:n.datas,inputEvent:t},c))))&&(n.startClients=[],n.prevClients=[],n.flag=!1),n.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(n.flag){var r=Ue(t);n.pinchFlag&&n.onPinch(t,r);var i=n.move([0,0],t,r);if(i&&(i.deltaX||i.deltaY)){var o=n.options.drag;o&&o(Be({},i,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(n.flag){var e=n.options,r=e.dragend,i=e.pinchOutside,o=e.container;n.isTouch&&i&&X(o,"touchstart",n.onDragStart),n.pinchFlag&&n.onPinchEnd(t),n.flag=!1;var s=n.prevClients,a=n.startClients,u=n.pinchFlag?ze(s,s,a,n.startPinchClients):qe(s[0],s[0],a[0]);n.startClients=[],n.prevClients=[],r&&r(Be({type:"dragend",datas:n.datas,isDrag:n.isDrag,inputEvent:t},u))}};var r=[].concat(t);this.options=Be({container:r.length>1?window:r[0],preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},e);var i=this.options,o=i.container,s=i.events;if(this.isTouch=s.indexOf("touch")>-1,this.isMouse=s.indexOf("mouse")>-1,this.customDist=[0,0],this.targets=r,this.isMouse&&(r.forEach((function(t){Y(t,"mousedown",n.onDragStart)})),Y(o,"mousemove",this.onDrag),Y(o,"mouseup",this.onDragEnd)),this.isTouch){var a={passive:!1};r.forEach((function(t){Y(t,"touchstart",n.onDragStart,a)})),Y(o,"touchmove",this.onDrag,a),Y(o,"touchend",this.onDragEnd,a),Y(o,"touchcancel",this.onDragEnd,a)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isFlag=function(){return this.flag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),r&&this.onDrag(n,!0))},e.move=function(t,e,n){var r=t[0],i=t[1];void 0===n&&(n=this.prevClients);var o=this.customDist,s=this.prevClients,a=this.startClients,u=this.pinchFlag?ze(n,s,a,this.startPinchClients):qe(n[0],s[0],a[0]);o[0]+=r,o[1]+=i,u.deltaX+=r,u.deltaY+=i;var c=u.deltaX,h=u.deltaY;return u.distX+=o[0],u.distY+=o[1],this.movement+=Math.sqrt(c*c+h*h),this.prevClients=n,this.isDrag=!0,Be({type:"drag",datas:this.datas},u,{isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,i=r.pinchstart,o=r.pinchThreshold;if(!(this.isDrag&&this.movement>o)){var s=He(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,s),(n=this.prevClients).push.apply(n,s),this.startDistance=Ge(this.prevClients),this.startPinchClients=this.prevClients.slice(),i){var a=this.prevClients,u=Ye(a),c=qe(u,u,u);i(Be({type:"pinchstart",datas:this.datas,touches:We(a,a,a)},c,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,o=qe(Ye(e),Ye(r),Ye(i)),s=Ge(e);n(Be({type:"pinch",datas:this.datas,touches:We(e,r,i),scale:s/this.startDistance,distance:s},o,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,o=qe(Ye(r),Ye(r),Ye(i));n(Be({type:"pinchend",datas:this.datas,isPinch:e,touches:We(r,r,i)},o,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this,e=this.targets,n=this.options.container;this.isMouse&&(e.forEach((function(e){X(e,"mousedown",t.onDragStart)})),X(n,"mousemove",this.onDrag),X(n,"mouseup",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){X(e,"touchstart",t.onDragStart)})),X(n,"touchstart",this.onDragStart),X(n,"touchmove",this.onDrag),X(n,"touchend",this.onDragEnd),X(n,"touchcancel",this.onDragEnd))},t}();var Ze=Qe,Je=function(t,e){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Je(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function tn(t,e){function n(){this.constructor=t}Je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function en(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var nn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startRect=null,e.startPos=[],e.prevTime=0,e.timer=0,e}tn(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),r=n.top,i=n.left,o=n.width,s=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:r,left:i,width:o,height:s}},n.drag=function(t,e){var n=this,r=t.clientX,i=t.clientY,o=e.container,s=e.threshold,a=void 0===s?0:s,u=e.throttleTime,c=void 0===u?0:u,h=e.getScrollPosition,l=void 0===h?en:h,f=this,p=f.startRect,d=f.startPos,v=U(),g=Math.max(c+this.prevTime-v,0),m=[0,0];if(p.top>i-a?(d[1]>p.top||i<d[1])&&(m[1]=-1):p.top+p.height<i+a&&(d[1]<p.top+p.height||i>d[1])&&(m[1]=1),p.left>r-a?(d[0]>p.left||r<d[0])&&(m[0]=-1):p.left+p.width<r+a&&(d[0]<p.left+p.width||r>d[0])&&(m[0]=1),clearTimeout(this.timer),!m[0]&&!m[1])return!1;if(g>0)return this.timer=window.setTimeout((function(){n.drag(t,e)}),g),!1;this.prevTime=v;var y=l({container:o,direction:m});this.trigger("scroll",{container:o,direction:m,inputEvent:t});var b=l({container:o,direction:m}),w=b[0]-y[0],_=b[1]-y[1];return!(!w&&!_)&&(this.trigger("move",{offsetX:m[0]?w:0,offsetY:m[1]?_:0,inputEvent:t}),c&&(this.timer=window.setTimeout((function(){n.drag(t,e)}),c)),!0)},n.dragEnd=function(){clearTimeout(this.timer)},e}(h),rn=nn,on=function(t,e){return on=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},on(t,e)};function sn(t,e){function n(){this.constructor=t}on(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var an="function"===typeof Map?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),un=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,an)||this}return sn(e,t),e}(T);var cn=un,hn=function(t,e){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},hn(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ln(t,e){function n(){this.constructor=t}hn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var fn=function(){return fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},fn.apply(this,arguments)};function pn(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}function dn(t){var e=pn(1,t),n=pn(2,t),r=45*Math.round(t/45)%180,i=135===r?"nwse-resize":45===r?"nesw-resize":90===r?"ew-resize":"ns-resize";return"cursor:"+i+";cursor: url('"+e+"') 16 16, "+i+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+i+";"}var vn=te(),gn=vn.os.name.indexOf("ios")>-1||vn.browser.name.indexOf("safari")>-1,mn="moveable-",yn=f(mn,"\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --zoom: 1;\n    --zoompx: 1px;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    width: calc(14 * var(--zoompx));\n    height: calc(14 * var(--zoompx));\n    margin-top: calc(-7 * var(--zoompx));\n    margin-left: calc(-7 * var(--zoompx));\n    border: calc(2 * var(--zoompx)) solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    width: var(--zoompx);\n    height: var(--zoompx);\n\tbackground: #4af;\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top: var(--zoompx) dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left: var(--zoompx) dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before, .line.gap.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before, .line.gap.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n    width: 1px;\n    transform-origin: 50% calc(100% - 0.5px);\n    top: -40px;\n    width: var(--zoompx);\n    height: calc(40 * var(--zoompx));\n    top: calc(-40 * var(--zoompx));\n    transform-origin: 50% calc(100% - 0.5 * var(--zoompx));\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n    cursor: alias;\n    left: 50%;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n    width: calc(2 * var(--zoompx));\n}\n.line.horizontal.bold {\n    height: 2px;\n    height: calc(2 * var(--zoompx));\n}\n\n.line.gap {\n    background: #f55;\n}\n.line.gap:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n    width: calc(12 * var(--zoompx));\n    height: calc(12 * var(--zoompx));\n    margin-top: calc(-6 * var(--zoompx));\n    margin-left: calc(-6 * var(--zoompx));\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+dn(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(gn?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n"),bn=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],wn=1e-7,_n=1e-9,En=Math.pow(10,10),xn=-En,Tn={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Sn={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function In(t,e){return[t[0]*e[0],t[1]*e[1]]}function Cn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.apply(void 0,[mn].concat(t))}function An(){return Ee(3)}function On(t){if(!t||"none"===t)return[1,0,0,1,0,0];if(N(t))return t;var e=B(t).value;return e.split(/s*,\s*/g).map((function(t){return parseFloat(t)}))}function kn(t,e,n){return le(e,Te(n,e),t,Te(n.map((function(t){return-t})),e))}function Dn(t,e,n){if("%"===e){var r=Vn(t.ownerSVGElement);return r[n?"width":"height"]/100}return 1}function Nn(t){var e=Pn(dr(t,":before"));return e.map((function(e,n){var r=z(e),i=r.value,o=r.unit;return i*Dn(t,o,0===n)}))}function Pn(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Mn(t,e,n){var r=document.body,i=!t||n?t:t.parentElement,o=!1,s="relative";while(i&&i!==r){e===i&&(o=!0);var a=dr(i),u=a.transform;if(s=a.position,"static"!==s||u&&"none"!==u)break;i=i.parentElement,s="relative"}return{isStatic:"static"===s,isEnd:o||!i||i===r,offsetParent:i||r}}function Rn(t,e,n,r){var i,o=t.tagName.toLowerCase(),s=t.offsetLeft,a=t.offsetTop;if(r){var u=(e||document.documentElement).getBoundingClientRect();s-=u.left,a-=u.top}var c,h=D(s),l=!h;return l||"svg"===o?c=Pn(n).map((function(t){return parseFloat(t)})):(c=gn?Nn(t):Pn(n).map((function(t){return parseFloat(t)})),l=!0,"g"===o?(s=0,a=0):(i=zn(t,c),s=i[0],a=i[1],c[0]=i[2],c[1]=i[3])),{isSVG:h,hasOffset:l,offset:[s,a],origin:c}}function Ln(t,e,n){var r,i,o=t,s=[],a=!1,u=!1,c=3,h=Mn(e,e,!0).offsetParent;n&&(a=t===e,n.length>10&&(u=!0,c=4),e=t.parentElement);while(o&&!a){var l=dr(o),f=o.tagName.toLowerCase(),p=l.position,d="fixed"===p,v=l.transform,g=be(On(v)),m=g.length;if(!u&&16===m){u=!0,c=4;for(var y=s.length,b=0;b<y;++b)s[b]=he(s[b],3,4)}u&&9===m&&(g=he(g,3,4));var w=Rn(o,e,l,d),_=w.hasOffset,E=w.isSVG,x=w.origin,T=w.offset,S=T[0],I=T[1];"svg"===f&&i&&s.push(Bn(o,c),Ee(c));var C=Mn(o,e),A=C.offsetParent,O=C.isEnd,k=C.isStatic;gn&&_&&!E&&k&&"relative"===p&&(S-=A.offsetLeft,I-=A.offsetTop,a=a||O);var D=0,N=0;if(_&&h!==A&&(D=A.clientLeft,N=A.clientTop),s.push(kn(g,c,x),Te(_?[S-o.scrollLeft+D,I-o.scrollTop+N]:[o,x],c)),i||(i=g),r||(r=x),a||d)break;o=A,a=O}return i||(i=Ee(c)),r||(r=[0,0]),{offsetContainer:h,matrixes:s,targetMatrix:i,transformOrigin:r,is3d:u}}function jn(t,e,n,r,i,o){var s=Ln(t,e,r),a=s.matrixes,u=s.is3d,c=s.targetMatrix,h=s.transformOrigin,l=s.offsetContainer,f=Ln(l,n,i),p=f.matrixes,d=f.is3d,v=d||u?4:3,g="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,m=e||document.body,y=r?he(r,o,v):Ee(v),b=c,w=i?he(i,o,v):Ee(v),_=r?he(r,o,v):Ee(v),E=Ee(v),x=a.length,T=Mn(m,m,!0).offsetParent;p.reverse(),a.reverse(),!u&&d&&(b=he(b,3,4),a.forEach((function(t,e){a[e]=he(t,3,4)}))),u&&!d&&p.forEach((function(t,e){p[e]=he(t,3,4)})),i||p.forEach((function(t){w=fe(w,t,v)})),a.forEach((function(t,e){var n;x-2===e&&(_=y.slice()),x-1===e&&(E=y.slice()),N(t[v-1])&&(n=Wn(t[v-1],T,v,t[2*v-1],y,a[e+1]),t[v-1]=n[0],t[2*v-1]=n[1]),y=fe(y,t,v)}));var S=!g&&u;b||(b=Ee(S?4:3));var I=(S?"matrix3d":"matrix")+"("+we(g&&16===b.length?he(b,4,3):b)+")";return w=ie(w,v,v),[w,_,E,y,b,I,h,u||d]}function Vn(t){var e=t.clientWidth,n=t.clientHeight,r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n}}function Bn(t,e){var n=t.clientWidth,r=t.clientHeight,i=Vn(t),o=i.width,s=i.height,a=n/o,u=r/s,c=t.preserveAspectRatio.baseVal,h=c.align,l=c.meetOrSlice,f=[0,0],p=[a,u],d=[0,0];if(1!==h){var v=(h-2)%3,g=Math.floor((h-2)/3);f[0]=o*v/2,f[1]=s*g/2;var m=2===l?Math.max(u,a):Math.min(a,u);p[0]=m,p[1]=m,d[0]=(n-o)/2*v,d[1]=(r-s)/2*g}var y=xe(p,e);return y[e-1]=d[0],y[2*e-1]=d[1],kn(y,e,f)}function zn(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=Vn(t.ownerSVGElement),i=n.x-r.x,o=n.y-r.y;return[i,o,e[0]-i,e[1]-o]}function Fn(t,e,n){return me(t,ce(e,n),n)}function Un(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return Fn(t,e,r)}))}function qn(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),s=Math.max.apply(Math,n),a=o-r,u=s-i;return{left:r,top:i,right:o,bottom:s,width:a,height:u}}function Gn(t,e,n,r){var i=Un(t,e,n,r);return qn(i)}function Wn(t,e,n,r,i,o){var s,a=Zn(t),u=a[0],c=a[1],h=e.getBoundingClientRect(),l=t.getBoundingClientRect(),f=l.left-h.left+e.scrollLeft,p=l.top-h.top+e.scrollTop,d=l.width,v=l.height,g=le(n,i,o),m=Gn(g,u,c,n),y=m.left,b=m.top,w=m.width,_=m.height,E=Fn(g,r,n),x=ge(E,[y,b]),T=[f+x[0]*d/w,p+x[1]*v/_],S=[0,0],I=0;while(++I<10){var C=oe(i,n);s=ge(Fn(C,T,n),Fn(C,E,n)),S[0]=s[0],S[1]=s[1];var A=le(n,i,Te(S,n),o),O=Gn(A,u,c,n),k=O.left,D=O.top,N=k-f,P=D-p;if(Math.abs(N)<2&&Math.abs(P)<2)break;T[0]-=N,T[1]-=P}return S.map((function(t){return Math.round(t)}))}function Hn(t,e,n,r){var i=16===t.length,o=i?4:3,s=Un(t,n,r,o),a=s[0],u=a[0],c=a[1],h=s[1],l=h[0],f=h[1],p=s[2],d=p[0],v=p[1],g=s[3],m=g[0],y=g[1],b=Fn(t,e,o),w=b[0],_=b[1],E=Math.min(u,l,d,m),x=Math.min(c,f,v,y),T=Math.max(u,l,d,m),S=Math.max(c,f,v,y);u=u-E||0,l=l-E||0,d=d-E||0,m=m-E||0,c=c-x||0,f=f-x||0,v=v-x||0,y=y-x||0,w=w-E||0,_=_-x||0;var I=[(u+l+d+m)/4,(c+f+v+y)/4],C=ae(I,[u,c]),A=ae(I,[l,f]),O=C<A&&A-C<Math.PI||C>A&&A-C<-Math.PI?1:-1;return[[E,x,T,S],[w,_],[[u,c],[l,f],[d,v],[m,y]],O]}function $n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Yn(t,e){return $n([e[0]-t[0],e[1]-t[1]])}function Xn(t,e,n){void 0===n&&(n=ae(t,e));var r=Yn(t,e);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"rad)",width:r+"px"}}function Kn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.length,i=e.reduce((function(t,e){return t+e[0]}),0)/r,o=e.reduce((function(t,e){return t+e[1]}),0)/r;return{transform:"translate("+i+"px, "+o+"px) rotate("+t+"rad)"}}function Qn(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}function Zn(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var i=t.offsetWidth,o=t.offsetHeight,s=!D(i);if((n||r)&&s)return[i,o];if(i=t.clientWidth,o=t.clientHeight,!s&&!i&&!o){var a=t.getBBox();return[a.width,a.height]}if(n||r){var u=parseFloat(e.borderLeftWidth)||0,c=parseFloat(e.borderRightWidth)||0,h=parseFloat(e.borderTopWidth)||0,l=parseFloat(e.borderBottomWidth)||0;return[i+u+c,o+h+l]}var f=parseFloat(e.paddingLeft)||0,p=parseFloat(e.paddingRight)||0,d=parseFloat(e.paddingTop)||0,v=parseFloat(e.paddingBottom)||0;return[i-f-p,o-d-v]}function Jn(t,e){return ae(e>0?t[0]:t[1],e>0?t[1]:t[0])}function tr(t,e,n,r,i,o){var s,a,u,c,h,l=0,f=0,p=0,d=0,v=[0,0],g=[[0,0],[0,0],[0,0],[0,0]],m=An(),y=An(),b=An(),w=An(),_=An(),E=0,x=0,T=[0,0],S=1,I=1,C=!1,A="",O=[0,0],k=er(),N=er(),P=er(),M=0,R=o?o.beforeMatrix:void 0,L=o?o.rootMatrix:void 0,j=o?o.is3d?4:3:void 0;if(e){if(o)E=o.width,x=o.height;else{var V=dr(e);E=e.offsetWidth,x=e.offsetHeight,D(E)&&(s=Zn(e,V,!0),E=s[0],x=s[1])}a=jn(e,n,i,R,L,j),m=a[0],b=a[1],y=a[2],w=a[3],_=a[4],A=a[5],T=a[6],C=a[7],u=Hn(w,T,E,x),c=u[0],l=c[0],f=c[1],p=c[2],d=c[3],v=u[1],g=u[2],S=u[3];var B=C?4:3,z=[0,0];h=Hn(y,ve(T,ue(_,B)),E,x),z=h[0],O=h[1],I=h[3],O=[O[0]+z[0]-l,O[1]+z[1]-f],k=nr(e),N=nr(Mn(r,r,!0).offsetParent||document.body,!0),t&&(P=nr(t)),M=Jn([g[0],g[1]],S)}return{rotation:M,targetClientRect:k,containerClientRect:N,moveableClientRect:P,beforeDirection:I,direction:S,target:e,left:l,top:f,right:p,bottom:d,pos1:g[0],pos2:g[1],pos3:g[2],pos4:g[3],width:E,height:x,rootMatrix:m,beforeMatrix:b,offsetMatrix:y,targetMatrix:_,matrix:w,targetTransform:A,is3d:C,beforeOrigin:O,origin:v,transformOrigin:T}}function er(){return{left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function nr(t,e){var n=t.getBoundingClientRect(),r=n.left,i=n.width,o=n.top,s=n.bottom,a=n.right,u=n.height,c={left:r,right:a,top:o,bottom:s,width:i,height:u};return e&&(c.clientLeft=t.clientLeft,c.clientTop=t.clientTop,c.clientWidth=t.clientWidth,c.clientHeight=t.clientHeight,c.scrollWidth=t.scrollWidth,c.scrollHeight=t.scrollHeight),c}function rr(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}}function ir(t,e){return[ve(e,t[0]),ve(e,t[1]),ve(e,t[2]),ve(e,t[3])]}function or(t){var e=t.left,n=t.top,r=t.pos1,i=t.pos2,o=t.pos3,s=t.pos4;return ir([r,i,o,s],[e,n])}function sr(t){return Math.round(t%1===-.5?t-1:t)}function ar(t,e){return e?Math.round(t/e)*e:t}function ur(t,e){return t.forEach((function(n,r){t[r]=ar(t[r],e)})),t}function cr(t,e){t[e]&&(t[e].unset(),t[e]=null)}function hr(t,e,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function lr(t,e,n,r,i){var o=hr(t,e,n),s=hr(t,n,r),a=hr(t,r,e),u=hr(t,n,r),c=hr(t,r,i),h=hr(t,i,n),l=[o,s,a],f=[u,c,h];return!!(l.every((function(t){return t>=0}))||l.every((function(t){return t<=0}))||f.every((function(t){return t>=0}))||f.every((function(t){return t<=0})))}function fr(t,e,n){var r=e.datas;return r.datas||(r.datas={}),fn({},n,{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,datas:r.datas})}function pr(t,e,n,r){return r&&Vr.prototype.triggerEvent.call(t,e,n),t.triggerEvent(e,n)}function dr(t,e){return window.getComputedStyle(t,e)}function vr(t,e,n){var r={},i={};return t.filter((function(t){var o=t.name;if(r[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return r[o]=!0,!0}))}function gr(t,e,n){return t*(e?n:1/n)}function mr(t,e,n){return t*(e?1/n:n)}function yr(t,e){return t===e||null==t&&null==e}function br(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!D(i))return i}return t[n]}function wr(t,e){var n=[],r=[];return t.forEach((function(i,o){var s=e(i,o,t),a=r.indexOf(s),u=n[a]||[];-1===a&&(r.push(s),n.push(u)),u.push(i)})),n}function _r(t,e){var n=[],r={};return t.forEach((function(i,o){var s=e(i,o,t),a=r[s];a||(a=[],r[s]=a,n.push(a)),a.push(i)})),n}function Er(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function xr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function Tr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(t)-Math.abs(e)})),t[0]}function Sr(t,e,n){return me(oe(t,n),ce(e,n),n)}function Ir(t,e){var n,r=t.is3d,i=t.rootMatrix,o=r?4:3;return n=Sr(i,[e.distX,e.distY],o),e.distX=n[0],e.distY=n[1],e}function Cr(t,e,n,r,i){return ge(Fn(t,ve(n,e),i),r)}function Ar(t,e,n){return[[e[0],e[0]*t[1]/t[0]],[e[1]*t[0]/t[1],e[1]]].filter((function(t){return t.every((function(t,r){return n?t<=e[r]:t>=e[r]}))}))[0]||t}function Or(t,e,n,r){if(!r)return t.map((function(t,r){return Math.min(n[r],Math.max(t,e[r]))}));var i=t[0],o=t[1],s=Ar(t,e,!1),a=s[0],u=s[1],c=Ar(t,n,!0),h=c[0],l=c[1];return i<a||o<u?(i=a,o=u):(i>h||o>l)&&(i=h,o=l),[i,o]}function kr(t,e,n){var r=fr(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),pr(t,"onRender"+i+"Start",r)}function Dr(t,e,n){var r=fr(t,n,{isPinch:!!n.isPinch}),i=e?"Group":"";e&&(r.targets=t.props.targets),pr(t,"onRender"+i,r)}function Nr(t,e,n){var r=fr(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),i=e?"Group":"";e&&(r.targets=t.props.targets),pr(t,"onRender"+i+"End",r)}function Pr(t,e,n,r,i,o,s){var a="Start"===i;if(a&&r.indexOf("Control")>-1&&!o.isRequest&&t.areaElement===o.inputEvent.target)return!1;var u=""+n+r+i,c=""+n+r+"Condition",h="End"===i,l=i.indexOf("After")>-1;a&&t.updateRect(i,!0,!1),""!==i||l||Ir(t.state,o);var f=r.indexOf("Group")>-1,p=t[e];if(!p.length)return!1;var d=p.filter((function(t){return t[u]})),v=o.datas,g=v.render||(v.render={}),m=fn({},o,{datas:g,originalDatas:v}),y=d.filter((function(e){var n=a&&e[c],r=e.name,i=v[r]||(v[r]={});return!(n&&!n(o,t))&&e[u](t,fn({},o,{datas:i,originalDatas:v}))})),b=y.length;if(a){if(d.length&&!b)return t.state.dragger=null,t.moveables&&t.moveables.forEach((function(t){t.state.dragger=null})),!1;kr(t,f,m)}else h?Nr(t,f,m):b&&Dr(t,f,m);if(h&&(t.state.dragger=null),t.isUnmounted)return!1;!a&&b&&(y.some((function(t){return t.updateRect}))&&!f?t.updateRect(i,!1,!1):t.updateRect(i,!0,!1)),(!a&&b||h&&!b)&&!s&&t.forceUpdate(),a||h||l||!b||Pr(t,e,n,r,i+"After",o)}function Mr(t,e,n){var r=t.controlBox.getElement(),i=[];i.push(r),t.props.dragArea||i.push(e);var o=function(e){var n=e.inputEvent.target,r=t.areaElement;return n===r||!t.isMoveableElement(n)||n.className.indexOf("moveable-area")>-1||n.className.indexOf("moveable-padding")>-1};return Rr(t,i,"targetAbles",n,{dragstart:o,pinchstart:o})}function Rr(t,e,n,r,i){void 0===i&&(i={});var o=t.props,s=o.pinchOutside,a=o.pinchThreshold,u={container:window,pinchThreshold:a,pinchOutside:s};return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){var s=""+e+o.toLowerCase();u[s]=function(a){return!(i[s]&&!i[s](a))&&Pr(t,n,e,r,o,a)}}))})),new Ze(e,u)}var Lr=Ve("div",yn);function jr(t,e,n,r){var i=ae(e,n),o=t?ar(i/Math.PI*180,15)%180:-1;return ct("div",{key:"line"+r,className:Cn("line","direction",t),"data-rotation":o,"data-direction":t,style:Xn(e,n,i)})}var Vr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={container:null,target:null,beforeMatrix:An(),matrix:An(),targetMatrix:An(),offsetMatrix:An(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],renderPoses:[[0,0],[0,0],[0,0],[0,0]],targetClientRect:er(),containerClientRect:er(),moveableClientRect:er(),rotation:0},e.targetAbles=[],e.controlAbles=[],e.isUnmounted=!1,e}ln(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.state,n=t.edge,r=t.parentPosition,i=t.className,o=t.target,s=t.zoom;this.checkUpdate(),this.updateRenderPoses();var a=r||{left:0,top:0},u=a.left,c=a.top,h=e.left,l=e.top,f=e.target,d=e.direction,v=e.renderPoses,g=t.targets,m=(g&&g.length||o)&&f;return ct(Lr,{ref:p(this,"controlBox"),className:Cn("control-box",-1===d?"reverse":"")+" "+i,style:{position:"absolute",display:m?"block":"none",transform:"translate("+(h-u)+"px, "+(l-c)+"px) translateZ(50px)","--zoom":s,"--zoompx":s+"px"}},this.renderAbles(),jr(n?"n":"",v[0],v[1],0),jr(n?"e":"",v[1],v[3],1),jr(n?"w":"",v[0],v[2],2),jr(n?"s":"",v[2],v[3],3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container;this.updateEvent(t),n||e||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){this.isUnmounted=!0,cr(this,"targetDragger"),cr(this,"controlDragger")},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.container;return n||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf(mn)>-1},n.dragStart=function(t){return this.targetDragger&&this.targetDragger.onDragStart(t),this},n.hitTest=function(t){var e;if(t instanceof Element){var n=t.getBoundingClientRect();e={left:n.left,top:n.top,width:n.width,height:n.height}}else e=fn({width:0,height:0},t);var r=this.state.targetClientRect,i=r.left,o=r.top,s=r.width,a=r.height,u=e.left,c=e.top,h=e.width,l=e.height,f=u+h,p=c+l,d=i+s,v=o+a,g=Math.max(i,u),m=Math.min(d,f),y=Math.max(o,c),b=Math.min(v,p);if(m<g||b<y)return 0;var w=(Math.min(d,f)-Math.max(u,i))*(Math.min(v,p)-Math.max(o,c));return Math.min(100,(m-g)*(b-y)/w*100)},n.isInside=function(t,e){var n=this.state,r=n.pos1,i=n.pos2,o=n.pos3,s=n.pos4,a=n.target,u=n.targetClientRect;if(!a)return!1;var c=u.left,h=u.top,l=[t-c,e-h];return lr(l,r,i,o,s)},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props,i=r.parentMoveable,o=this.state,s=o.target||this.props.target,a=this.getContainer(),u=i?i.props.rootContainer:r.rootContainer;this.updateState(tr(this.controlBox&&this.controlBox.getElement(),s,a,a,u||a,e?o:void 0),!i&&n)},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,r=this.controlAbles.length,i=this.props,o=i.dragTarget||i.target,s=t.dragTarget||t.target,a=i.dragArea,u=t.dragArea,c=!a&&s!==o,h=!n&&this.targetDragger||c||u!==a;h&&(cr(this,"targetDragger"),this.updateState({dragger:null})),r||cr(this,"controlDragger"),o&&n&&!this.targetDragger&&(this.targetDragger=Mr(this,o,"")),!this.controlDragger&&r&&(this.controlDragger=Rr(this,e,"controlAbles","Control")),h&&this.unsetAbles()},n.isDragging=function(){return!!this.targetDragger&&this.targetDragger.isFlag()||!!this.controlDragger&&this.controlDragger.isFlag()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=or(this.state),n=e[0],r=e[1],i=e[2],o=e[3],s=qn(e),a=t.width,u=t.height,c=s.width,h=s.height,l=s.left,f=s.top,p=[t.left,t.top],d=ve(p,t.origin),v=ve(p,t.beforeOrigin);return{width:c,height:h,left:l,top:f,pos1:n,pos2:r,pos3:i,pos4:o,offsetWidth:a,offsetHeight:u,beforeOrigin:v,origin:d}},n.request=function(t,e,n){void 0===e&&(e={});var r=this.props,i=r.ables,o=r.groupable,s=i.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!s||!s.request)return{request:function(){return this},requestEnd:function(){return this}};var a=this,u=s.request(this),c=u.isControl?"controlAbles":"targetAbles",h=(o?"Group":"")+(u.isControl?"Control":""),l={request:function(t){return Pr(a,c,"drag",h,"",fn({},u.request(t),{isRequest:!0}),n),this},requestEnd:function(){return Pr(a,c,"drag",h,"End",fn({},u.requestEnd(),{isRequest:!0})),this}};return Pr(a,c,"drag",h,"Start",fn({},u.requestStart(e),{isRequest:!0}),n),e.isInstant?l.request(e).requestEnd():l},n.updateRenderPoses=function(){var t=this.state,e=this.props,n=t.beforeOrigin,r=t.transformOrigin,i=t.matrix,o=t.is3d,s=t.pos1,a=t.pos2,u=t.pos3,c=t.pos4,h=t.left,l=t.top,f=e.padding||{},p=f.left,d=void 0===p?0:p,v=f.top,g=void 0===v?0:v,m=f.bottom,y=void 0===m?0:m,b=f.right,w=void 0===b?0:b,_=o?4:3,E=e.groupable?n:ve(n,[h,l]);t.renderPoses=[ve(s,Cr(i,[-d,-g],r,E,_)),ve(a,Cr(i,[w,-g],r,E,_)),ve(u,Cr(i,[-d,y],r,E,_)),ve(c,Cr(i,[w,y],r,E,_))]},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,s=i.container;if(o||e){this.updateAbles();var a=!yr(o,e)||!yr(s,n);a&&(this.updateState({target:e,container:n}),r||!n&&!this.controlBox||this.updateRect("End",!1,!1))}},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.unsetAbles=function(){var t=this;this.targetAbles.filter((function(e){return!!e.unset&&(e.unset(t),!0)})).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,r=n.triggerAblesSimultaneously,i=t.filter((function(t){return t&&n[t.name]})),o="drag"+e+"Start",s="pinch"+e+"Start",a="drag"+e+"ControlStart",u=vr(i,[o,s],r),c=vr(i,[a],r);this.targetAbles=u,this.controlAbles=c},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},n.renderAbles=function(){var t=this,e=this.props,n=e.ables,r=e.triggerAblesSimultaneously,i=n.filter((function(t){return t&&e[t.name]})),o={createElement:ct};return _r(Er(vr(i,["render"],r).map((function(e){var n=e.render;return n(t,o)||[]}))).filter((function(t){return t})),(function(t){var e=t.key;return e})).map((function(t){return t[0]}))},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0},e}(xt);function Br(t){return ae([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var zr={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchOutside:Boolean,pinchThreshold:Number},pinchStart:function(t,e){var n=e.datas,r=e.touches,i=e.targets,o=t.props,s=o.pinchable,a=o.ables;if(!s)return!1;var u="onPinch"+(i?"Group":"")+"Start",c="drag"+(i?"Group":"")+"ControlStart",h=(!0===s?t.controlAbles:a.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[c]})),l=fr(t,e,{});i&&(l.targets=i);var f=pr(t,u,l);n.isPinch=!1!==f,n.ables=h;var p=n.isPinch;if(!p)return!1;var d=Br(r);return h.forEach((function(r){if(n[r.name+"Datas"]={},r[c]){var i=fn({},e,{datas:n[r.name+"Datas"],parentRotate:d,isPinch:!0});r[c](t,i)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},p},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.touches,s=e.inputEvent,a=e.targets;if(n.isPinch){var u=Br(o),c=i*(1-1/r),h=fr(t,e,{});a&&(h.targets=a);var l="onPinch"+(a?"Group":"");pr(t,l,h);var f=n.ables,p="drag"+(a?"Group":"")+"Control";return f.forEach((function(r){r[p]&&r[p](t,fn({},e,{datas:n[r.name+"Datas"],inputEvent:s,parentDistance:c,parentRotate:u,isPinch:!0}))})),h}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets;if(n.isPinch){var s="onPinch"+(o?"Group":"")+"End",a=fr(t,e,{isDrag:r});o&&(a.targets=o),pr(t,s,a);var u=n.ables,c="drag"+(o?"Group":"")+"ControlEnd";return u.forEach((function(o){o[c]&&o[c](t,fn({},e,{isDrag:r,datas:n[o.name+"Datas"],inputEvent:i,isPinch:!0}))})),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,fn({},e,{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,fn({},e,{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,fn({},e,{targets:t.props.targets}))}};function Fr(t,e,n,r,i){var o=t.dragger.move(e,n),s=o.originalDatas||o.datas,a=s.draggable||(s.draggable={});return fn({},i?Ir(t,o):o,{isDrag:!0,isPinch:!!r,parentEvent:!0,datas:a})}var Ur=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(t,e){return this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},fn({},this.move(t,e),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,r;return this.isFlag?(n=this.prevX+t[0],r=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0),this.prevX=n,this.prevY=r,{type:"drag",clientX:n,clientY:r,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentDragger:this}},t}();function qr(t,e,n,r,i,o){var s=!!n.match(/Start$/g),a=!!n.match(/End$/g),u=i.inputEvent,c=i.isPinch,h=i.datas,l=t.moveables.map((function(t,i){var l={};s?l=(new Ur).dragStart(r,u):(t.state.dragger||(t.state.dragger=h.childDraggers[i]),l=Fr(t.state,r,u,c,o));var f=e[n](t,fn({},l,{parentFlag:!0}));return a&&(t.state.dragger=null),f}));return s&&(h.childDraggers=t.moveables.map((function(t){return t.state.dragger}))),l}function Gr(t,e,n,r,i,o){var s=e.name,a=r[s]||(r[s]=[]),u=!!n.match(/End$/g),c=t.moveables.map((function(t,r){var s=a[r]||(a[r]={}),c=R(i)?i(t,s):i,h=e[n](t,fn({},c,{datas:s,parentFlag:!0}));return h&&o&&o(t,s,h,r),u&&(t.state.dragger=null),h}));return c}function Wr(t,e){var n=e.datas,r=t.state,i=r.matrix,o=r.beforeMatrix,s=r.is3d,a=r.left,u=r.top,c=r.origin,h=r.offsetMatrix,l=r.targetMatrix,f=r.transformOrigin,p=s?4:3;n.is3d=s,n.matrix=i,n.targetMatrix=l,n.beforeMatrix=o,n.offsetMatrix=h,n.transformOrigin=f,n.inverseMatrix=oe(i,p),n.inverseBeforeMatrix=oe(o,p),n.absoluteOrigin=ce(ve([a,u],c),p),n.startDragBeforeDist=me(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=me(n.inverseMatrix,n.absoluteOrigin,p)}function Hr(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,s=n.inverseMatrix,a=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,h=n.absoluteOrigin,l=a?4:3;return ge(me(e?o:s,ve(h,[r,i]),l),e?u:c)}function $r(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.beforeMatrix,s=n.matrix,a=n.is3d,u=n.startDragBeforeDist,c=n.startDragDist,h=n.absoluteOrigin,l=a?4:3;return ge(me(e?o:s,ve(e?u:c,[r,i]),l),h)}function Yr(t,e,n,r,i,o){return void 0===r&&(r=e),void 0===i&&(i=n),void 0===o&&(o=[0,0]),t?t.map((function(t,s){var a=z(t),u=a.value,c=a.unit,h=s?i:r,l=s?n:e;if("%"===t||isNaN(u)){var f=h?o[s]/h:0;return l*f}return"%"!==c?u:l*u/100})):o}function Xr(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function Kr(t,e){return Xr(e).map((function(e){return t[e]}))}function Qr(t,e){var n=Kr(t,e);return[de.apply(void 0,n.map((function(t){return t[0]}))),de.apply(void 0,n.map((function(t){return t[1]})))]}function Zr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];return Qr([o,i,r,n],e)}function Jr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];return Zr([n,r,i,o],e)}function ti(t,e,n,r,i,o){var s=Un(e,n,r,i),a=Zr(s,o),u=t[0]-a[0],c=t[1]-a[1];return[u,c]}function ei(t,e,n,r){return fe(t,kn(e,r,n),r)}function ni(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,s=i?4:3;return ei(r,fe(o,xe(e,s),s),n,s)}function ri(t,e,n,r){var i=t.state,o=i.is3d,s=i.left,a=i.top,u=i.width,c=i.height,h=o?4:3,l=t.props.groupable,f=ni(t.state,e),p=l?s:0,d=l?a:0,v=ti(r,f,u,c,h,n);return ge(v,[p,d])}function ii(t,e,n,r,i,o){var s=t.props.groupable,a=t.state,u=a.transformOrigin,c=a.targetMatrix,h=a.offsetMatrix,l=a.is3d,f=a.width,p=a.height,d=a.left,v=a.top,g=l?4:3,m=Yr(o,e,n,f,p,u),y=s?d:0,b=s?v:0,w=ei(h,c,m,g),_=ti(i,w,e,n,g,r);return ge(_,[y,b])}function oi(t,e){if(!e[0]&&!e[1])return[0,0];var n=t.props.baseDirection,r=void 0===n?[-1,-1]:n;return[e[0]?e[0]:-1*r[0],e[1]?e[1]:-1*r[1]]}function si(t,e){return Jr(or(t.state),e)}function ai(t){return t.isRequest?t.parentDirection:W(t.inputEvent.target,Cn("direction"))}function ui(t,e,n,r,i,o){var s=i[0],a=i[1],u=o[0],c=o[1],h=[],l=r?0:1,f="vertical"===e?"horizontal":"vertical",p=wr(t.filter((function(t){var n=t.type;return n===e})),(function(t){var e=t.element;return e})).map((function(t){return t[0]})).filter((function(t){var e=t.pos,n=t.sizes;return e[l]<=c&&u<=e[l]+n[l]}));return p.forEach((function(t){var e=t.pos[r],i=e+t.sizes[r];p.forEach((function(t){var o=t.pos,u=t.sizes,c=t.element,l=o[r],d=l+u[r],v=0,g=0,m=!0;if(i<=l)g=i-l,v=d-g,s<v-n&&(m=!1);else{if(!(d<=e))return;g=e-d,v=l-g,a>v+n&&(m=!1)}if(m&&h.push({pos:"vertical"===f?[v,o[1]]:[o[0],v],element:c,sizes:u,size:0,type:f,gap:g,gapGuidelines:p}),i<=s&&a<=l){var y=(l+i-(a-s))/2;ar(s-(y-n),.1)>=0&&h.push({pos:"vertical"===f?[y,o[1]]:[o[0],y],element:c,sizes:u,size:0,type:f,gap:i-s,gapGuidelines:p})}}))})),h}function ci(t){var e=t.state,n=e.guidelines,r=e.containerClientRect,i=r.scrollHeight,o=r.scrollWidth,s=t.props,a=s.snapHorizontal,u=void 0===a||a,c=s.snapVertical,h=void 0===c||c,l=s.snapGap,f=void 0===l||l,p=s.verticalGuidelines,d=s.horizontalGuidelines,v=s.snapThreshold,g=void 0===v?5:v,m=n.slice();if(f){var y=qn(or(t.state)),b=y.top,w=y.left,_=y.bottom,E=y.right,x=n.filter((function(t){var e=t.element;return e}));m.push.apply(m,ui(x,"horizontal",g,0,[w,E],[b,_]).concat(ui(x,"vertical",g,1,[b,_],[w,E])))}return u&&d&&d.forEach((function(t){m.push({type:"horizontal",pos:[0,ar(t,.1)],size:o})})),h&&p&&p.forEach((function(t){m.push({type:"vertical",pos:[ar(t,.1),0],size:i})})),m}function hi(t,e,n,r,i){var o=ci(t),s=t.props,a=s.snapElement,u=void 0===a||a,c=br(i,s.snapThreshold,5);return{vertical:di(o,"vertical",e,c,r,u),horizontal:di(o,"horizontal",n,c,r,u)}}function li(t,e,n){var r=n[0],i=n[1],o=e[0],s=e[1],a=ge(n,e),u=a[0],c=a[1],h=c>0,l=u>0,f={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(0===u&&0===c)return{vertical:f,horizontal:p};var d=hi(t,u?[r]:[],c?[i]:[]),v=d.vertical,g=d.horizontal;v.posInfos.filter((function(t){var e=t.pos;return l?e>=o:e<=o})),g.posInfos.filter((function(t){var e=t.pos;return h?e>=s:e<=s})),v.isSnap=v.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=pi(v),y=m.isSnap,b=m.guideline,w=pi(g),_=w.isSnap,E=w.guideline,x=_?E.pos[1]:0,T=y?b.pos[0]:0;if(0===u)_&&(p.isSnap=!0,p.pos=E.pos[1],p.offset=i-p.pos);else if(0===c)y&&(f.isSnap=!0,f.pos=T,f.offset=r-T);else{var S=c/u,I=n[1]-S*r,C=0,A=0,O=!1;y?(A=T,C=S*A+I,O=!0):_&&(C=x,A=(C-I)/S,O=!0),O&&(f.isSnap=!0,f.pos=A,f.offset=r-A,p.isSnap=!0,p.pos=C,p.offset=i-C)}return{vertical:f,horizontal:p}}function fi(t,e,n,r){var i=t.props.snapCenter,o=i&&n,s=["left","right"],a=["top","bottom"];return o&&(s.push("center"),a.push("middle")),s=s.filter((function(t){return t in e})),a=a.filter((function(t){return t in e})),hi(t,s.map((function(t){return e[t]})),a.map((function(t){return e[t]})),o,r)}function pi(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,s=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:s}}function di(t,e,n,r,i,o){if(!t||!t.length)return{isSnap:!1,posInfos:[]};var s="vertical"===e,a=s?0:1,u=n.map((function(n){var s=t.map((function(t){var e=t.pos,r=n-e[a];return{offset:r,dist:Math.abs(r),guideline:t}})).filter((function(t){var n=t.guideline,s=t.dist,a=n.type,u=n.center,c=n.element;return!(!o&&c||!i&&u||a!==e||s>r)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,guidelineInfos:s}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist}));return{isSnap:u.length>0,posInfos:u}}function vi(t,e,n){var r=[];if(n[0]&&n[1])r=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return Qr(e,t)}));else if(n[0]||n[1])t.props.keepRatio?r=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return Qr(e,t)})):(r=Kr(e,n),r.length>1&&r.push([(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]));else for(var i=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)r.push(i[o]),r.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);return hi(t,r.map((function(t){return t[0]})),r.map((function(t){return t[1]})),!0,1)}function gi(t,e){return t.slice().sort((function(t,n){var r=t.sign[e],i=n.sign[e],o=t.offset[e],s=n.offset[e],a=Math.abs(o),u=Math.abs(s);return r?i?t.isBound&&n.isBound?u-a:t.isBound?-1:n.isBound?1:t.isSnap&&n.isSnap?a-u:t.isSnap?-1:n.isSnap||a<wn?1:u<wn?-1:a-u:-1:1}))[0]}function mi(t,e){var n=de(e[0][0],e[1][0]),r=de(e[0][1],e[1][1]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function yi(t,e){var n,r,i=e[0],o=e[1],s=o[0]-i[0],a=o[1]-i[1];if(s)if(a){var u=a/s;n=u*(t[0]-i[0])+i[1],r=t[1]}else n=i[1],r=t[1];else n=i[0],r=t[0];return n-r}function bi(t,e,n){void 0===n&&(n=wn);var r=yi(t[0],e)<=0;return t.slice(1).every((function(t){var i=yi(t,e),o=i<=0;return o===r||Math.abs(i)<=n}))}function wi(t,e,n,r,i){return void 0===i&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function _i(t,e,n){var r=t.props.innerBounds;if(!r)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var i=r.left,o=r.top,s=r.width,a=r.height,u=[[i,o],[i,o+a]],c=[[i,o],[i+s,o]],h=[[i+s,o],[i+s,o+a]],l=[[i,o+a],[i+s,o+a]],f=mi(n,e),p=f.horizontal,d=f.vertical;if(bi([n,[i,o],[i+s,o],[i,o+a],[i+s,o+a]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=Ei(e,c,d),g=Ei(e,l,d),m=Ei(e,u,p),y=Ei(e,h,p),b=v.isBound&&g.isBound,w=v.isBound||g.isBound,_=m.isBound&&y.isBound,E=m.isBound||y.isBound,x=xr(v.offset,g.offset),T=xr(m.offset,y.offset),S=[0,0],I=!1,C=!1;return Math.abs(T)<Math.abs(x)?(S=[x,0],I=w,C=b):(S=[0,T],I=E,C=_),{isAllBound:C,isVerticalBound:w,isHorizontalBound:E,isBound:I,offset:S}}function Ei(t,e,n,r){var i=t[0],o=t[1],s=e[0],a=e[1],u=o[1]-i[1],c=o[0]-i[0],h=a[1]-s[1],l=a[0]-s[0];if(l){if(!h&&u){var f=u/c,p=c?(s[1]-i[1])/f+i[0]:i[0];return wi(p,s[0],a[0],n,r)}}else if(c){var d=u?u/c*(s[0]-i[0])+i[1]:i[1];return wi(d,s[1],a[1],n,r)}return{isBound:!1,offset:0}}function xi(t,e,n,r){return e.map((function(e){var i=e[0],o=e[1],s=e[2],a=_i(t,[o,s],n),u=a.isBound,c=a.offset,h=a.isVerticalBound,l=a.isHorizontalBound,f=Hr({datas:r,distX:c[0],distY:c[1]}).map((function(t,e){return t*(i[e]?2/i[e]:0)}));return{sign:i,isBound:u,isVerticalBound:h,isHorizontalBound:l,isSnap:!1,offset:f}}))}function Ti(t,e,n){var r,i=Ii(e,[0,0],!1).map((function(t){var e=t[0],n=t[1],r=t[2];return[e.map((function(t){return 2*Math.abs(t)})),n,r]})),o=xi(t,i,Qr(e,[0,0]),n),s=gi(o,0),a=gi(o,1),u=0,c=0,h=s.isVerticalBound||a.isVerticalBound,l=s.isHorizontalBound||a.isHorizontalBound;return(h||l)&&(r=$r({datas:n,distX:-s.offset[0],distY:-a.offset[1]}),u=r[0],c=r[1]),{vertical:{isBound:h,offset:u},horizontal:{isBound:l,offset:c}}}function Si(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,2*i],t,[-r,i]],[[2*r,0],t,[r,-i]]):r?(n.push([[2*r,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,2*i],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function Ii(t,e,n){return Si(e,n).map((function(e){var n=e[0],r=e[1],i=e[2];return[n,Qr(t,r),Qr(t,i)]}))}function Ci(t,e,n,r){var i=r?t.map((function(t){return ye(t,r)})):t,o=[n].concat(e);return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t,e){return!bi(o,t)}))}function Ai(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return Math.abs(e[0]);if(!i)return Math.abs(e[1]);var o=i/r;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function Oi(t){var e=t[0],n=t[1],r=n[0]-e[0],i=n[1]-e[1];if(!r)return[e[0],0];if(!i)return[0,e[1]];var o=i/r,s=-o*e[0]+e[1];return[-s/(o+1/o),s/(o*o+1)]}function ki(t,e,n,r,i){var o=t.props.innerBounds,s=i*Math.PI/180;if(!o)return[];var a=o.left,u=o.top,c=o.width,h=o.height,l=a-r[0],f=a+c-r[0],p=u-r[1],d=u+h-r[1],v=[[l,p],[f,p],[l,d],[f,d]],g=Qr(n,[0,0]);if(!Ci(n,v,g,0))return[];var m=[],y=v.map((function(t){return[$n(t),ae([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=ae([0,0],Oi(t)),r=Ai(t);m.push.apply(m,y.filter((function(t){var e=t[0];return e&&r<=e})).map((function(t){var e=t[0],i=t[1],o=Math.acos(e?r/e:0),a=i+o,u=i-o;return[s+a-n,s+u-n]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!Ci(e,v,g,t)})).map((function(t){return ar(180*t/Math.PI,wn)})))})),m}function Di(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),r=n.pos1,i=n.pos2,o=n.pos3,s=n.pos4,a=[r,i,o,s],u=Qr(a,[0,0]),c=e.left,h=e.top,l=e.width,f=e.height,p=[[c,h],[c,h+f]],d=[[c,h],[c+l,h]],v=[[c+l,h],[c+l,h+f]],g=[[c,h+f],[c+l,h+f]],m=[[r,i],[i,s],[s,o],[o,r]],y=[],b=[],w={top:!1,bottom:!1,left:!1,right:!1};return m.forEach((function(t){var e=mi(u,t),n=e.horizontal,r=e.vertical,i=Ei(t,d,r,1),o=Ei(t,g,r,1),s=Ei(t,p,n,1),a=Ei(t,v,n,1);i.isBound&&!w.top&&(y.push(h),w.top=!0),o.isBound&&!w.bottom&&(y.push(h+f),w.bottom=!0),s.isBound&&!w.left&&(b.push(c),w.left=!0),a.isBound&&!w.right&&(b.push(c+l),w.right=!0)})),{horizontal:y,vertical:b}}function Ni(t,e,n){var r=t.props.bounds||{},i=r.left,o=void 0===i?-1/0:i,s=r.top,a=void 0===s?-1/0:s,u=r.right,c=void 0===u?1/0:u,h=r.bottom,l=void 0===h?1/0:h,f={left:o,top:a,right:c,bottom:l};return{vertical:Mi(f,e,!0),horizontal:Mi(f,n,!1)}}function Pi(t,e,n){var r=t.props.bounds||{},i=r.left,o=void 0===i?-1/0:i,s=r.top,a=void 0===s?-1/0:s,u=r.right,c=void 0===u?1/0:u,h=r.bottom,l=void 0===h?1/0:h,f=n[0],p=n[1],d=ge(n,e),v=d[0],g=d[1],m=g>0,y=v>0,b={isBound:!1,offset:0,pos:0},w={isBound:!1,offset:0,pos:0};if(0===v&&0===g)return{vertical:b,horizontal:w};if(0===v)m?l<p&&(w.pos=l,w.offset=p-l):a>p&&(w.pos=a,w.offset=p-a);else if(0===g)y?c<f&&(b.pos=c,b.offset=f-c):o>f&&(b.pos=o,b.offset=f-o);else{var _=g/v,E=n[1]-_*f,x=0,T=0,S=!1;y&&c<=f?(x=_*c+E,T=c,S=!0):!y&&f<=o?(x=_*o+E,T=o,S=!0):m&&l<=p?(x=l,T=(x-E)/_,S=!0):!m&&p<=a&&(x=a,T=(x-E)/_,S=!0),S&&(b.isBound=!0,b.pos=T,b.offset=f-T,w.isBound=!0,w.pos=x,w.offset=p-x)}return{vertical:b,horizontal:w}}function Mi(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return r+1>o?{isBound:!0,offset:o-r,pos:r}:i-1<s?{isBound:!0,offset:s-i,pos:i}:{isBound:!1,offset:0,pos:0}}function Ri(t,e,n){var r=n?t.map((function(t){return ye(t,n)})):t;return r.some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}function Li(t,e,n){var r=$n(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort((function(e,r){return Math.abs(e-t[n?0:1])-Math.abs(r-t[n?0:1])})).map((function(t){return ae([0,0],n?[t,e]:[e,t])}))}function ji(t,e,n,r,i){var o=t.props.bounds,s=i*Math.PI/180;if(!o)return[];var a=o.left,u=void 0===a?-1/0:a,c=o.top,h=void 0===c?-1/0:c,l=o.right,f=void 0===l?1/0:l,p=o.bottom,d=void 0===p?1/0:p,v=u-r[0],g=f-r[0],m=h-r[1],y=d-r[1],b={left:v,top:m,right:g,bottom:y};if(!Ri(n,b,0))return[];var w=[];return[[v,0],[g,0],[m,1],[y,1]].forEach((function(t,r){var i=t[0],o=t[1];n.forEach((function(t){var n=ae([0,0],t);w.push.apply(w,Li(t,i,o).map((function(t){return s+t-n})).filter((function(t){return!Ri(e,b,t)})).map((function(t){return ar(180*t/Math.PI,wn)})))}))})),w}function Vi(t,e,n){var r=Fn(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}function Bi(t){var e=t.state;if(!e.guidelines||!e.guidelines.length){var n=t.props,r=n.horizontalGuidelines,i=void 0===r?[]:r,o=n.verticalGuidelines,s=void 0===o?[]:o,a=n.elementGuidelines,u=void 0===a?[]:a,c=n.bounds,h=n.snapCenter;if(c||i.length||s.length||u.length){var l=e.containerClientRect,f=e.targetClientRect,p=f.top,d=f.left,v=e.rootMatrix,g=e.is3d,m=g?4:3,y=Vi(v,l,m),b=y[0],w=y[1],_=or(e),E=Math.min.apply(Math,_.map((function(t){return t[0]}))),x=Math.min.apply(Math,_.map((function(t){return t[1]}))),T=ge([E,x],Sr(v,[d-b,p-w],m)).map((function(t){return sr(t)})),S=T[0],I=T[1],C=[];u.forEach((function(t){var e=t.getBoundingClientRect(),n=e.left-b,r=e.top-w,i=r+e.height,o=n+e.width,s=Sr(v,[n,r],m),a=s[0],u=s[1],c=Sr(v,[o,i],m),l=c[0],f=c[1],p=l-a,d=f-u,g=[p,d];C.push({type:"vertical",element:t,pos:[ar(a+S,.1),u],size:d,sizes:g}),C.push({type:"vertical",element:t,pos:[ar(l+S,.1),u],size:d,sizes:g}),C.push({type:"horizontal",element:t,pos:[a,ar(u+I,.1)],size:p,sizes:g}),C.push({type:"horizontal",element:t,pos:[a,ar(f+I,.1)],size:p,sizes:g}),h&&(C.push({type:"vertical",element:t,pos:[ar((a+l)/2+S,.1),u],size:d,sizes:g,center:!0}),C.push({type:"horizontal",element:t,pos:[a,ar((u+f)/2+I,.1)],size:p,sizes:g,center:!0}))})),e.guidelines=C,e.enableSnap=!0}}}function zi(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.verticalGuidelines,s=n.horizontalGuidelines,a=t.state,u=a.guidelines,c=a.enableSnap;return!(!r||!c||e&&!0!==r&&r.indexOf(e)<0)&&!!(i||u&&u.length||o&&o.length||s&&s.length)}function Fi(t,e,n,r,i){var o=no(t,e,-n,r);if(!o)return[0,0];var s=Hr({datas:i,distX:o[0],distY:o[1]}),a=s[0],u=s[1];return[a,u]}function Ui(t,e,n,r,i,o){var s=Un(t,e,n,o?4:3),a=Zr(s,i);return ir(s,ge(r,a))}function qi(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function Gi(t,e){return t.isBound?t.offset:e.isSnap?pi(e).offset:0}function Wi(t,e,n,r){var i=Pi(t,e,n),o=i.horizontal,s=i.vertical,a=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:li(t,e,n),u=a.horizontal,c=a.vertical,h=qi(o,u),l=qi(s,c),f=Math.abs(h),p=Math.abs(l);return{horizontal:{isBound:o.isBound,isSnap:u.isSnap,offset:h,dist:f},vertical:{isBound:s.isBound,isSnap:c.isSnap,offset:l,dist:p}}}function Hi(t,e,n,r){void 0===r&&(r=n);var i=Ni(t,r.map((function(t){return t[0]})),r.map((function(t){return t[1]}))),o=i.horizontal,s=i.vertical,a=e?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:hi(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]}))),u=a.horizontal,c=a.vertical,h=Gi(o,u),l=Gi(s,c),f=Math.abs(h),p=Math.abs(l);return{horizontal:{isBound:o.isBound,isSnap:u.isSnap,offset:h,dist:f},vertical:{isBound:s.isBound,isSnap:c.isSnap,offset:l,dist:p}}}function $i(t,e,n,r,i,o,s){var a=[-i[0],-i[1]],u=t.props.bounds,c=1/0,h=1/0;if(u){var l=[[i[0],-i[1]],[-i[0],i[1]]],f=u.left,p=void 0===f?-1/0:f,d=u.top,v=void 0===d?-1/0:d,g=u.right,m=void 0===g?1/0:g,y=u.bottom,b=void 0===y?1/0:y;l.forEach((function(t){var i=t[0]!==a[0],u=t[1]!==a[1],l=Qr(r,t);if(u){var f=Fi(o,l,(o[1]<l[1]?b:v)-l[1],!1,s),d=f[1];isNaN(d)||(h=n+d)}if(i){var g=Fi(o,l,(o[0]<l[0]?m:p)-l[0],!0,s)[0];isNaN(g)||(c=e+g)}}))}return{maxWidth:c,maxHeight:h}}function Yi(t,e,n,r,i,o){return n.map((function(n){var s=n[0],a=n[1],u=Qr(e,s),c=Qr(e,a),h=r?Wi(t,u,c,i):Hi(t,i,[c]),l=h.horizontal,f=l.dist,p=l.offset,d=l.isBound,v=l.isSnap,g=h.vertical,m=g.dist,y=g.offset,b=g.isBound,w=g.isSnap,_=ge(a,s);if(!y&&!p)return{isBound:b||d,isSnap:w||v,sign:_,offset:[0,0]};var E=f<m,x=Fi(u,c,E?y:p,E,o).map((function(t,e){return t*(_[e]?2/_[e]:0)}));return{sign:_,isBound:E?b:d,isSnap:E?w:v,offset:x}}))}function Xi(t,e){var n=[],r=[-t[0],-t[1]];return t[0]&&t[1]?(n.push([r,[t[0],-t[1]]],[r,[-t[0],t[1]]]),e&&n.push([r,t])):t[0]?e?n.push([r,[r[0],-1]],[r,[r[0],1]],[r,[t[0],-1]],[r,t],[r,[t[0],1]]):n.push([[r[0],-1],[t[0],-1]],[[r[0],0],[t[0],0]],[[r[0],1],[t[0],1]]):t[1]?e?n.push([r,[-1,r[1]]],[r,[1,r[1]]],[r,[-1,t[1]]],[r,[1,t[1]]],[r,t]):n.push([[-1,r[1]],[-1,t[1]]],[[0,r[1]],[0,t[1]]],[[1,r[1]],[1,t[1]]]):n.push([r,[1,0]],[r,[-1,0]],[r,[0,-1]],[r,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}function Ki(t,e,n,r,i,o){var s=Xi(n,r),a=Ii(e,n,r),u=Yi(t,e,s,r,i,o).concat(xi(t,a,Qr(e,[0,0]),o)),c=gi(u,0),h=gi(u,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:h.isBound,offset:h.offset[1]}}}function Qi(t,e,n,r,i,o,s,a,u){var c=Qr(e,s),h=Hi(t,a,[c]),l=h.horizontal.offset,f=h.vertical.offset;if(f||l){var p=Hr({datas:u,distX:-f,distY:-l}),d=p[0],v=p[1],g=Math.min(i||1/0,n+s[0]*d),m=Math.min(o||1/0,r+s[1]*v);return[g-n,m-r]}return[0,0]}function Zi(t,e,n,r,i,o,s,a){for(var u=or(t.state),c=t.props.keepRatio,h=0,l=0,f=0;f<2;++f){var p=e(h,l),d=Ki(t,p,i,c,s,a),v=d.width,g=d.height,m=v.isBound,y=g.isBound,b=v.offset,w=g.offset;if(1===f&&(m||(b=0),y||(w=0)),0===f&&s&&!m&&!y)return[0,0];if(c){var _=Math.abs(b)*(n?1/n:1),E=Math.abs(w)*(r?1/r:1),x=m&&y?_<E:y||!m&&_<E;x?b=n*w/r:w=r*b/n}h+=b,l+=w}if(i[0]&&i[1]){var T=$i(t,n,r,u,i,o,a),S=T.maxWidth,I=T.maxHeight,C=Qi(t,e(h,l),n+h,r+l,S,I,i,s,a);b=C[0],w=C[1];h+=b,l+=w}return[h,l]}function Ji(t,e,n,r){if(!zi(t,"rotatable"))return r;var i=e.pos1,o=e.pos2,s=e.pos3,a=e.pos4,u=r*Math.PI/180,c=[i,o,s,a].map((function(t){return ge(t,n)})),h=c.map((function(t){return ye(t,u)})),l=ji(t,c,h,n,r).concat(ki(t,c,h,n,r));return l.sort((function(t,e){return Math.abs(t-r)-Math.abs(e-r)})),l.length?l[0]:r}function to(t,e,n,r,i,o,s){if(!zi(t,"resizable"))return[0,0];var a=t.state,u=a.matrix,c=a.is3d;return Zi(t,(function(t,o){return Ui(u,e+t,n+o,i,r,c)}),e,n,r,i,o,s)}function eo(t,e,n,r,i,o){var s=o.width,a=o.height;if(!zi(t,"scalable"))return[0,0];var u=o.is3d,c=Zi(t,(function(t,i){return Ui(ni(o,ve(e,[t/s,i/a])),s,a,r,n,u)}),s,a,n,r,i,o);return[c[0]/s,c[1]/a]}function no(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(Math.abs(i)<wn&&(i=0),Math.abs(o)<wn&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var s=o/i,a=t[1]-s*t[0];if(r){var u=s*(e[0]+n)+a;return[n,u-e[1]]}var c=(e[1]+n-a)/s;return[c-e[0],n]}function ro(t,e){e.absolutePoses=or(t.state)}function io(t,e,n,r,i){var o=e[0],s=e[1],a=n[0],u=n[1],c=r[0],h=r[1],l=i[0],f=i[1],p=-l,d=-f;if(t&&o&&s){p=0,d=0;var v=[];if(a&&u?v.push([0,f],[l,0]):a?v.push([l,0]):u?v.push([0,f]):c&&h?v.push([0,f],[l,0]):c?v.push([l,0]):h&&v.push([0,f]),v.length){v.sort((function(t,e){return $n(ge([o,s],t))-$n(ge([o,s],e))}));var g=v[0];if(g[0]&&Math.abs(o)>wn)p=-g[0],d=s*Math.abs(o+p)/Math.abs(o)-s;else if(g[1]&&Math.abs(s)>wn){var m=s;d=-g[1],p=o*Math.abs(s+d)/Math.abs(m)-o}if(t&&u&&a)if(Math.abs(p)>wn&&Math.abs(p)<Math.abs(l)){var y=Math.abs(l)/Math.abs(p);p*=y,d*=y}else if(Math.abs(d)>wn&&Math.abs(d)<Math.abs(f)){y=Math.abs(f)/Math.abs(d);p*=y,d*=y}else p=xr(-l,p),d=xr(-f,d)}}else p=o||a?-l:0,d=s||u?-f:0;return[p,d]}function oo(t,e,n,r,i,o){if(!zi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var s=ir(o.absolutePoses,[e,n]),a=qn(s),u=a.left,c=a.right,h=a.top,l=a.bottom,f=t.props.snapCenter,p=[[u,h],[c,h],[u,l],[c,l]];f&&p.push([(u+c)/2,(h+l)/2]);var d=Hi(t,i,p,s),v=d.vertical,g=d.horizontal,m=Ti(t,s,o),y=m.vertical,b=m.horizontal,w=v.isSnap,_=g.isSnap,E=v.isBound||y.isBound,x=g.isBound||b.isBound,T=xr(v.offset,y.offset),S=xr(g.offset,b.offset),I=io(r,[e,n],[E,x],[w,_],[T,S]),C=I[0],A=I[1];return[{isBound:E,isSnap:w,offset:C},{isBound:x,isSnap:_,offset:A}]}function so(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;e.indexOf(n)>-1||e.push(n)}))})),e}function ao(t,e,n,r){var i=t-n,o=i<0?i+e:r,s=i<0?0:i,a=s-o;return{size:a,pos:o}}function uo(t,e,n,r){var i=[],o=wr(t.filter((function(t){var e=t.element,n=t.gap;return e&&!n})),(function(t){var n=t.element,o=t.pos,s=o[r],a=Math.min(0,s-e)<0?-1:1,u=a+"_"+o[r?0:1],c=G(i,(function(t){var e=t[0],r=t[1];return n===e&&s===r}));return c?c[2]:(i.push([n,s,u]),u)}));return o.forEach((function(t){t.sort((function(t,i){var o=ao(t.pos[r],t.size,e,n).size-ao(i.pos[r],t.size,e,n).size;return o||t.pos[r?0:1]-i.pos[r?0:1]}))})),o}function co(t,e,n,r,i,o,s,a,u,c,h,l){var f=e[0],p=e[1],d=e[2],v=e[3];return Er(t.map((function(t,e){var g=!0;return t.map((function(t,m){var y,b=t.pos,w=t.size,_=ao(b[c],w,r,i),E=_.pos,x=_.size;if(x<s)return null;var T=g;g=!1;var S=a&&T?parseFloat(x.toFixed(u)):0;return l.createElement("div",{className:Cn("line",f,"guideline","dashed"),"data-size":S>0?h(S):"",key:f+"LinkGuidline"+e+"-"+m,style:(y={},y[p]=n+E+"px",y[d]=-o+b[c?0:1]+"px",y[v]=x+"px",y)})}))})))}function ho(t,e,n,r,i,o){var s=e[0],a=e[1],u=e[2],c=e[3];return t.map((function(t,e){var h;return o.createElement("div",{className:Cn("line",s,"guideline","target","bold"),key:s+"TargetGuidline"+e,style:(h={},h[a]=n+"px",h[u]=-r+t+"px",h[c]=i+"px",h)})}))}function lo(t,e,n,r,i,o){var s=e[0],a=e[1],u=e[2],c=e[3];return t.map((function(t,e){var h,l=t.pos,f=t.size,p=t.element;return o.createElement("div",{className:Cn("line",s,"guideline",p?"bold":""),key:s+"Guidline"+e,style:(h={},h[a]=-n+l[i]+"px",h[u]=-r+l[i?0:1]+"px",h[c]=f+"px",h)})}))}function fo(t,e,n,r,i,o,s){var a=Math.abs(o),u=i[e]+(o>0?r[0]:0);return t.filter((function(t){var r=t.pos;return r[e]<=n[e]})).sort((function(t,n){var r=t.pos,i=n.pos;return i[e]-r[e]})).filter((function(t){var n=t.pos,r=t.sizes,i=n[e];return ar(i+r[e],1e-4)===ar(u-a,1e-4)&&(u=i,!0)})).map((function(t){var r=-n[e]+t.pos[e]+t.sizes[e];return fn({},t,{gap:o,renderPos:e?[s,r]:[r,s]})}))}function po(t,e,n,r,i,o,s){var a=Math.abs(o),u=i[e]+(o<0?r[e]:0);return t.filter((function(t){var r=t.pos;return r[e]>n[e]})).sort((function(t,n){var r=t.pos,i=n.pos;return r[e]-i[e]})).filter((function(t){var n=t.pos,r=t.sizes,i=n[e];return ar(i,1e-4)===ar(u+a,1e-4)&&(u=i+r[e],!0)})).map((function(t){var r=-n[e]+t.pos[e]-a;return fn({},t,{gap:o,renderPos:e?[s,r]:[r,s]})}))}function vo(t,e,n,r){var i=t.filter((function(t){var n=t.element,r=t.gap,i=t.type;return n&&r&&i===e})),o="vertical"===e?[0,1]:[1,0],s=o[0],a=o[1];return Er(i.map((function(t,e){var i=t.pos,o=t.gap,u=t.gapGuidelines,c=t.sizes,h=Tr(i[a]+c[a]-n[a],i[a]-n[a]-r[a]),l=Math.min(c[a],r[a]);h>0&&h>l?h=2*(h-l/2):h<0&&h<-l&&(h=2*(h+l/2));var f=(h>0?0:r[a])+h/2;return fo(u,s,n,r,i,o,f).concat(po(u,s,n,r,i,o,f))})))}function go(t,e,n,r,i,o){var s=r[0],a=r[1],u=r[2],c=r[3],h=t.props,l=h.snapDigit,f=void 0===l?0:l,p=h.isDisplaySnapDigit,d=void 0===p||p,v="vertical"===n?"horizontal":"vertical",g="vertical"===n?[0,1]:[1,0],m=g[0],y=g[1];return e.map((function(t,e){var n,r=t.renderPos,h=t.gap,l=Math.abs(h),p=d?parseFloat(l.toFixed(f)):0;return o.createElement("div",{className:Cn("line",s,"guideline","gap"),"data-size":p>0?i(p):"",key:v+"GapGuideline"+e,style:(n={},n[a]=r[m]+"px",n[u]=r[y]+"px",n[c]=l+"px",n)})}))}function mo(t,e,n,r,i){var o=Ni(t,e,n),s=o.vertical,a=s.isBound,u=s.pos,c=o.horizontal,h=c.isBound,l=c.pos;a&&r.indexOf(u)<0&&r.push(u),h&&i.indexOf(l)<0&&i.push(l);var f=Di(t),p=f.vertical,d=f.horizontal;r.push.apply(r,p.filter((function(t){return r.indexOf(t)<0}))),i.push.apply(i,d.filter((function(t){return i.indexOf(t)<0})))}var yo={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object},render:function(t,e){var n=t.state,r=n.top,i=n.left,o=n.pos1,s=n.pos2,a=n.pos3,u=n.pos4,c=n.snapRenderInfo,h=n.targetClientRect,l=n.containerClientRect,f=n.is3d,p=n.rootMatrix;if(!c||!zi(t,""))return[];var d=f?4:3,v=Math.min(o[0],s[0],a[0],u[0]),g=Math.min(o[1],s[1],a[1],u[1]),m=Vi(p,l,d),y=Sr(p,[h.left-m[0],h.top-m[1]],d),b=y[0],w=y[1],_=t.props,E=_.snapThreshold,x=void 0===E?5:E,T=_.snapDigit,S=void 0===T?0:T,I=_.isDisplaySnapDigit,C=void 0===I||I,A=_.snapDistFormat,O=void 0===A?function(t){return t}:A,k=or(t.state),D=qn(k),N=D.width,P=D.height,M=D.top,R=D.left,L=D.bottom,j=D.right,V=[],B=[],z=[],F=[],U=[];if(!c.request){if(c.direction&&U.push(vi(t,k,c.direction)),c.snap){var q=qn(k);c.center&&(q.middle=(q.top+q.bottom)/2,q.center=(q.left+q.right)/2),U.push(fi(t,q,!0,1))}U.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;V.push.apply(V,e.map((function(t){return t.pos}))),B.push.apply(B,n.map((function(t){return t.pos}))),z.push.apply(z,so(e)),F.push.apply(F,so(n))}))}mo(t,[R,j],[M,L],V,B);var G=uo(F,b,N,0),W=uo(z,w,P,1),H=["horizontal","left","top","width"],$=["vertical","top","left","height"],Y=vo(z,"vertical",[i,r],[N,P]),X=vo(F,"horizontal",[i,r],[N,P]),K=z.concat(F);return pr(t,"onSnap",{guidelines:K.filter((function(t){var e=t.element;return!e})),elements:wr(K.filter((function(t){var e=t.element;return e})),(function(t){var e=t.element;return e})),gaps:Y.concat(X)},!0),go(t,Y,"vertical",H,O,e).concat(go(t,X,"horizontal",$,O,e),co(G,H,v,b,N,r,x,C,S,0,O,e),co(W,$,g,w,P,i,x,C,S,1,O,e),ho(B,H,v,r,N,e),ho(V,$,g,i,P,e),lo(F,H,i,r,0,e),lo(z,$,r,i,1,e))},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Bi(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return ai(t)||So(t)},dragControlStart:function(t,e){t.state.snapRenderInfo=null,Bi(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,e){t.state.snapRenderInfo=null,Bi(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},bo={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,e){var n=t.props.throttleDragRotate,r=t.state,i=r.dragInfo,o=r.beforeOrigin;if(n&&i){var s=i.dist;if(s[0]||s[1]){var a=$n(s),u=ae(s,[0,0]);return e.createElement("div",{className:Cn("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:a+"px",transform:"translate("+o[0]+"px, "+o[1]+"px) rotate("+u+"rad)"}})}}},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentDragger,o=t.state,s=o.targetTransform,a=o.target,u=o.dragger;if(u)return!1;o.dragger=i||t.targetDragger;var c=window.getComputedStyle(a);n.datas={},n.left=parseFloat(c.left||"")||0,n.top=parseFloat(c.top||"")||0,n.bottom=parseFloat(c.bottom||"")||0,n.right=parseFloat(c.right||"")||0,n.transform=s,n.startTranslate=[0,0],Wr(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,ro(t,n);var h=fr(t,e,{set:function(t){n.startTranslate=t}}),l=r||pr(t,"onDragStart",h);return!1!==l?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.dragger=null,n.isPinch=!1),!!n.isDrag&&h},drag:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.isPinch,s=e.isRequest,a=e.distX,u=e.distY,c=n.isDrag,h=n.prevDist,l=n.prevBeforeDist,f=n.transform,p=n.startTranslate;if(c){var d=t.props,v=d.parentMoveable,g=r?0:d.throttleDrag||0,m=r?0:d.throttleDragRotate||0,y=!1,b=0;if(m>0&&(a||u)){var w=ar(180*ae([0,0],[a,u])/Math.PI,m),_=$n([a,u]);b=w*Math.PI/180,a=_*Math.cos(b),u=_*Math.sin(b)}if(!o&&!r&&!i&&(a||u)){var E=oo(t,a,u,m,s,n),x=E[0],T=E[1],S=x.isSnap,I=x.isBound,C=x.offset,A=T.isSnap,O=T.isBound,k=T.offset;y=S||A||I||O,a+=C,u+=k}n.passDeltaX=a-(n.passDistX||0),n.passDeltaY=u-(n.passDistY||0),n.passDistX=a,n.passDistY=u;var D=ve(Hr({datas:n,distX:a,distY:u},!0),p),N=ve(Hr({datas:n,distX:a,distY:u},!1),p);m||y||(ur(N,g),ur(D,g));var P=ge(D,p),M=ge(N,p),R=ge(M,h),L=ge(P,l);n.prevDist=M,n.prevBeforeDist=P;var j=n.left+P[0],V=n.top+P[1],B=n.right-P[0],z=n.bottom-P[1],F=f+" translate("+M[0]+"px, "+M[1]+"px)";if(t.state.dragInfo.dist=r?[0,0]:M,r||v||!R.every((function(t){return!t}))||!L.some((function(t){return!t}))){var U=fr(t,e,{transform:F,dist:M,delta:R,translate:N,beforeDist:P,beforeDelta:L,beforeTranslate:D,left:j,top:V,right:B,bottom:z,isPinch:o});return!r&&pr(t,"onDrag",U),U}}},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas,i=e.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,r.isDrag)return r.isDrag=!1,!n&&pr(t,"onDragEnd",fr(t,e,{isDrag:i})),i},dragGroupStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var s=qr(t,this,"dragStart",[r||0,i||0],e,!1),a=fn({},o,{targets:t.props.targets,events:s}),u=pr(t,"onDragGroupStart",a);return n.isDrag=!1!==u,!!n.isDrag&&o},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,e),i=e.datas,o=i.passDeltaX,s=i.passDeltaY,a=qr(t,this,"drag",[o,s],e,!1);if(r){var u=fn({targets:t.props.targets,events:a},r);return pr(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag)return this.dragEnd(t,e),qr(t,this,"dragEnd",[0,0],e,!1),pr(t,"onDragGroupEnd",fr(t,e,{targets:t.props.targets,isDrag:n})),n},request:function(t){var e={},n=t.getRect(),r=0,i=0;return{isControl:!1,requestStart:function(t){return{datas:e}},request:function(t){return"x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:r,distY:i}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function wo(t,e,n,r,i,o){var s=t.state.is3d?4:3,a=Fn(t.state.rootMatrix,i,s),u=ve([o.left,o.top],a);e.startAbsoluteOrigin=u,e.prevDeg=ae(u,[n,r])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function _o(t,e,n,r,i,o){var s=n.prevDeg,a=o+r,u=Ji(t,e,n.origin,r);n.prevDeg=u;var c=i*(u-s);return[c,u,a]}function Eo(t,e,n,r,i,o,s,a){var u=n.prevDeg,c=n.prevSnapDeg,h=n.startDeg,l=n.loop;u>r&&u>270&&r<90?++n.loop:u<r&&u<90&&r>270&&--n.loop;var f=n.loop,p=360*l+c-h+o,d=360*f+r-h+o;n.prevDeg=d-360*f+h-o,d=ar(d,s);var v=i*(d-o);a&&(v=Ji(t,e,n.origin,v),d=v/i+o),n.prevSnapDeg=d-360*f+h-o;var g=i*(d-p);return[g,v,d]}function xo(t,e,n,r,i,o,s,a){return Eo(t,e,n,ae(n.startAbsoluteOrigin,[i,o])/Math.PI*180,r,s,a,!0)}function To(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];return"left"===t?[i,n]:"right"===t?[r,o]:"bottom"===t?[o,i]:[n,r]}function So(t){return!!t.isRequest||W(t.inputEvent.target,Cn("rotation"))}var Io={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,e){var n=t.props,r=n.rotatable,i=n.rotationPosition;if(!r)return null;var o=t.state,s=o.renderPoses,a=o.direction,u=To(i,s),c=Jn(u,a);return e.createElement("div",{key:"rotation",className:Cn("line rotation-line"),style:{transform:"translate(-50%) translate("+(u[0][0]+u[1][0])/2+"px, "+(u[0][1]+u[1][1])/2+"px) rotate("+c+"rad)"}},e.createElement("div",{className:Cn("control","rotation")}))},dragControlCondition:So,dragControlStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.parentRotate,s=e.parentFlag,a=e.isPinch,u=e.isRequest,c=t.state,h=c.target,l=c.left,f=c.top,p=c.origin,d=c.beforeOrigin,v=c.direction,g=c.beforeDirection,m=c.targetTransform;if(!u&&!h)return!1;var y=t.getRect();if(n.rect=y,n.transform=m,n.left=l,n.top=f,u||a||s){var b=o||0;n.beforeInfo={origin:y.beforeOrigin,prevDeg:b,startDeg:b,prevSnapDeg:b,loop:0},n.afterInfo={origin:y.origin,prevDeg:b,startDeg:b,prevSnapDeg:b,loop:0}}else{n.beforeInfo={origin:y.beforeOrigin},n.afterInfo={origin:y.origin};var w=nr(t.controlBox.getElement());wo(t,n.beforeInfo,r,i,d,w),wo(t,n.afterInfo,r,i,p,w)}n.direction=v,n.beforeDirection=g,n.startRotate=0,n.datas={};var _=fr(t,e,{set:function(t){n.startRotate=t}}),E=pr(t,"onRotateStart",_);return n.isRotate=!1!==E,t.state.snapRenderInfo={request:e.isRequest},!!n.isRotate&&_},dragControl:function(t,e){var n,r,i,o,s,a,u=e.datas,c=e.clientX,h=e.clientY,l=e.parentRotate,f=e.parentFlag,p=e.isPinch,d=u.direction,v=u.beforeDirection,g=u.beforeInfo,m=u.afterInfo,y=u.isRotate,b=u.startRotate,w=u.rect;if(y){var _,E,x,T,S,I,C=t.props,A=C.throttleRotate,O=void 0===A?0:A,k=C.parentMoveable;if("parentDist"in e){var D=e.parentDist;n=_o(t,w,m,D,d,b),_=n[0],E=n[1],x=n[2],r=_o(t,w,g,D,d,b),T=r[0],S=r[1],I=r[2]}else p||f?(i=Eo(t,w,m,l,d,b,O),_=i[0],E=i[1],x=i[2],o=Eo(t,w,g,l,d,b,O),T=o[0],S=o[1],I=o[2]):(s=xo(t,w,m,d,c,h,b,O),_=s[0],E=s[1],x=s[2],a=xo(t,w,g,v,c,h,b,O),T=a[0],S=a[1],I=a[2]);if(_||T||k){var N=fr(t,e,{delta:_,dist:E,rotate:x,beforeDist:S,beforeDelta:T,beforeRotate:I,transform:u.transform+" rotate("+E+"deg)",isPinch:!!p});return pr(t,"onRotate",N),N}}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,pr(t,"onRotateEnd",fr(t,e,{isDrag:r})),r)},dragGroupControlCondition:So,dragGroupControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.state,o=i.left,s=i.top,a=i.beforeOrigin,u=this.dragControlStart(t,e);if(!u)return!1;u.set(t.rotation);var c=Gr(t,this,"dragControlStart",n,fn({},e,{parentRotate:0}),(function(t,e,n){var i=t.state,u=i.left,c=i.top,h=i.beforeOrigin,l=ve(ge([u,c],[o,s]),ge(h,a));e.prevClient=l,n.dragStart=bo.dragStart(t,(new Ur).dragStart(l,r))})),h=fn({},u,{targets:t.props.targets,events:c}),l=pr(t,"onRotateGroupStart",h);return n.isRotate=!1!==l,!!n.isRotate&&u},dragGroupControl:function(t,e){var n=e.inputEvent,r=e.datas;if(r.isRotate){var i=this.dragControl(t,e);if(i){var o=i.beforeDist,s=i.beforeDelta,a=s/180*Math.PI,u=Gr(t,this,"dragControl",r,fn({},e,{parentRotate:o}),(function(t,r,i,o){var s=r.prevClient,u=s[0],c=s[1],h=ye([u,c],a),l=h[0],f=h[1],p=[l-u,f-c];r.prevClient=[l,f];var d=bo.drag(t,Fr(t.state,p,n,!!e.isPinch,!1));i.drag=d}));t.rotation=i.beforeRotate;var c=fn({targets:t.props.targets,events:u,set:function(e){t.rotation=e}},i);return pr(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate){this.dragControlEnd(t,e),Gr(t,this,"dragControlEnd",r,e);var i=fr(t,e,{targets:t.props.targets,isDrag:n});return pr(t,"onRotateGroupEnd",i),n}},request:function(){var t={},e=0;return{isControl:!0,requestStart:function(e){return{datas:t}},request:function(n){return e+=n.deltaRotate,{datas:t,parentDist:e}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Co(t,e,n){var r=t.state,i=r.renderPoses,o=r.rotation,s=t.props.renderDirections,a=void 0===s?e:s,u={};return a.forEach((function(t){u[t]=!0})),a.map((function(t){var e=Tn[t];if(!e||!u[t])return null;var r=(ar(o/Math.PI*180,15)+Sn[t])%180;return n.createElement("div",{className:Cn("control","direction",t),"data-rotation":r,"data-direction":t,key:"direction-"+t,style:Kn.apply(void 0,[o].concat(e.map((function(t){return i[t]}))))})}))}function Ao(t,e){return Co(t,["nw","ne","sw","se","n","w","s","e"],e)}function Oo(t,e){return Co(t,["nw","ne","sw","se"],e)}var ko={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.edge;if(r)return i?Oo(t,e):Ao(t,e)},dragControlCondition:ai,dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.parentDirection,s=e.datas,a=e.parentFlag,u=o||(i?[0,0]:rr(r.target)),c=t.state,h=c.target,l=c.width,f=c.height;if(!u||!h)return!1;!i&&Wr(t,{datas:s}),s.datas={},s.direction=u,s.startOffsetWidth=l,s.startOffsetHeight=f,s.prevWidth=0,s.prevHeight=0,n=Qn(h),s.startWidth=n[0],s.startHeight=n[1];var p=[Math.max(0,l-s.startWidth),Math.max(0,f-s.startHeight)];if(s.minSize=p,s.maxSize=[1/0,1/0],!a){var d=window.getComputedStyle(h);s.minSize=ve([parseFloat(d.minWidth)||0,parseFloat(d.minHeight)||0],p),s.maxSize=ve([parseFloat(d.maxWidth)||1/0,parseFloat(d.maxHeight)||1/0],p)}s.transformOrigin=t.props.transformOrigin,s.startDirection=oi(t,u),s.fixedPosition=si(t,s.startDirection),s.fixedOriginalPosition=si(t,u);var v=fr(t,e,{direction:u,set:function(t){var e=t[0],n=t[1];s.startWidth=e,s.startHeight=n},setOrigin:function(t){s.transformOrigin=t},dragStart:bo.dragStart(t,(new Ur).dragStart([0,0],r))}),g=pr(t,"onResizeStart",v);return!1!==g&&(s.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),!!s.isResize&&v},dragControl:function(t,e){var n,r=e.datas,i=e.distX,o=e.distY,s=e.parentFlag,a=e.isPinch,u=e.parentDistance,c=e.parentScale,h=e.inputEvent,l=e.parentKeepRatio,f=e.dragClient,p=e.parentDist,d=e.isRequest,v=r.direction,g=r.isResize,m=r.transformOrigin;if(g){var y=r.startWidth,b=r.startHeight,w=r.startOffsetWidth,_=r.startOffsetHeight,E=r.prevWidth,x=r.prevHeight,T=r.minSize,S=r.maxSize,I=t.props,C=I.throttleResize,A=void 0===C?0:C,O=I.parentMoveable,k=v;v[0]||v[1]||(k=[1,1]);var D=t.props.keepRatio||l,N=k[0]||!k[1],P=N?_/w:w/_,M=D||s?v:r.startDirection,R=f,L=0,j=0;if(f||(R=!s&&a?si(t,[0,0]):D?r.fixedOriginalPosition:r.fixedPosition),p)L=p[0],j=p[1];else if(c)L=(c[0]-1)*w,j=(c[1]-1)*_;else if(a)u&&(L=u,j=u*_/w);else{var V=Hr({datas:r,distX:i,distY:o});if(L=k[0]*V[0],j=k[1]*V[1],D&&w&&_){var B=ae([0,0],V),z=ae([0,0],k),F=ae([0,0],[w,_]),U=$n([L,j]),q=Math.cos(B-z)*U;k[0]?k[1]?(L=Math.cos(F)*q,j=Math.sin(F)*q):(L=q,j=gr(L,N,P)):(j=q,L=mr(j,N,P))}}var G=k[0]||D?Math.max(w+L,wn):w,W=k[1]||D?Math.max(_+j,wn):_;D&&w&&_&&(W=G*_/w);var H=[0,0];if(a||(H=to(t,G,W,v,r.fixedOriginalPosition,d,r)),p&&(!p[0]&&(H[0]=0),!p[1]&&(H[1]=0)),D){k[0]&&k[1]&&H[0]&&H[1]&&(Math.abs(H[0])>Math.abs(H[1])?H[1]=0:H[0]=0);var $=!H[0]&&!H[1];$&&(N?G=ar(G,A):W=ar(W,A)),k[0]&&!k[1]||H[0]&&!H[1]||$&&N?(G+=H[0],W=gr(G,N,P)):(!k[0]&&k[1]||!H[0]&&H[1]||$&&!N)&&(W+=H[1],G=mr(W,N,P))}else G+=H[0],W+=H[1],H[0]||(G=ar(G,A)),H[1]||(W=ar(W,A));n=Or([G,W],T,S,D),G=n[0],W=n[1],G=Math.round(G),W=Math.round(W),L=G-w,j=W-_;var Y=[L-E,j-x];if(r.prevWidth=L,r.prevHeight=j,O||!Y.every((function(t){return!t}))){var X=ii(t,G,W,M,R,m),K=fr(t,e,{width:y+L,height:b+j,offsetWidth:G,offsetHeight:W,direction:v,dist:[L,j],delta:Y,isPinch:!!a,drag:bo.drag(t,Fr(t.state,X,h,!!a,!1))});return pr(t,"onResize",K),K}}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,s=n.prevWidth,a=n.prevHeight;if(r){var u=t.state,c=u.width,h=u.height,l=c-(i+s),f=h-(o+a),p=Math.abs(l)>3,d=Math.abs(f)>3;return p&&(n.startWidth+=l,n.startOffsetWidth+=l,n.prevWidth+=l),d&&(n.startHeight+=f,n.startOffsetHeight+=f,n.prevHeight+=f),p||d?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;if(!n.isResize)return!1;n.isResize=!1;var i=fr(t,e,{isDrag:r});return pr(t,"onResizeEnd",i),r},dragGroupControlCondition:ai,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=r.direction,o=si(t,i),s=Gr(t,this,"dragControlStart",n,(function(n,r){var s=si(n,i),a=me(_e(-t.rotation/180*Math.PI,3),[s[0]-o[0],s[1]-o[1],1],3),u=a[0],c=a[1];return r.originalX=u,r.originalY=c,e})),a=fn({},r,{targets:t.props.targets,events:s}),u=pr(t,"onResizeGroupStart",a);return n.isResize=!1!==u,!!n.isResize&&r},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=this.dragControl(t,e);if(r){var i=r.offsetWidth,o=r.offsetHeight,s=r.dist,a=t.props.keepRatio,u=[i/(i-s[0]),o/(o-s[1])],c=si(t,n.direction),h=Gr(t,this,"dragControl",n,(function(n,r){var i=me(_e(t.rotation/180*Math.PI,3),[r.originalX*u[0],r.originalY*u[1],1],3),o=i[0],s=i[1];return fn({},e,{parentDist:null,parentScale:u,dragClient:ve(c,[o,s]),parentKeepRatio:a})})),l=fn({targets:t.props.targets,events:h},r);return pr(t,"onResizeGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize){this.dragControlEnd(t,e),Gr(t,this,"dragControlEnd",r,e);var i=fr(t,e,{targets:t.props.targets,isDrag:n});return pr(t,"onResizeGroupEnd",i),n}},request:function(t){var e={},n=0,r=0,i=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?r=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(r+=t.deltaHeight),{datas:e,parentDist:[n,r]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Do={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.edge;if(!r&&i)return o?Oo(t,e):Ao(t,e)},dragControlCondition:ai,dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.parentDirection,s=o||(r?[0,0]:rr(i.target)),a=t.state,u=a.width,c=a.height,h=a.targetTransform,l=a.target;if(!s||!l)return!1;r||Wr(t,{datas:n}),n.datas={},n.transform=h,n.prevDist=[1,1],n.direction=s,n.width=u,n.height=c,n.startScale=[1,1],n.fixedPosition=si(t,s);var f=fr(t,e,{direction:s,set:function(t){n.startScale=t},dragStart:bo.dragStart(t,(new Ur).dragStart([0,0],i))}),p=pr(t,"onScaleStart",f);return!1!==p&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:s}),!!n.isScale&&f},dragControl:function(t,e){var n=e.datas,r=e.distX,i=e.distY,o=e.parentScale,s=e.parentDistance,a=e.parentKeepRatio,u=e.parentFlag,c=e.isPinch,h=e.inputEvent,l=e.dragClient,f=e.parentDist,p=e.isRequest,d=n.prevDist,v=n.direction,g=n.width,m=n.height,y=n.transform,b=n.isScale,w=n.startScale;if(!b)return!1;var _=t.props,E=_.throttleScale,x=_.parentMoveable,T=v;v[0]||v[1]||(T=[1,1]);var S=t.props.keepRatio||a,I=t.state,C=T[0]||!T[1],A=g*w[0],O=m*w[1],k=C?O/A:A/O,D=1,N=1,M=l;if(l||(M=!u&&c?si(t,[0,0]):n.fixedPosition),f)D=(g+f[0])/g,N=(m+f[1])/m;else if(o)D=o[0],N=o[1];else if(c)s&&(D=(g+s)/g,N=(m+s*m/g)/m);else{var R=Hr({datas:n,distX:r,distY:i}),L=T[0]*R[0],j=T[1]*R[1];if(S&&g&&m){var V=ae([0,0],R),B=ae([0,0],T),z=ae([0,0],[A,O]),F=$n([L,j]),U=Math.cos(V-B)*F;T[0]?T[1]?(L=Math.cos(z)*U,j=Math.sin(z)*U):(L=U,j=gr(L,C,k)):(j=U,L=mr(j,C,k))}D=(g+L)/g,N=(m+j)/m}D=T[0]||S?D*w[0]:w[0],N=T[1]||S?N*w[1]:w[1],0===D&&(D=(d[0]>0?1:-1)*_n),0===N&&(N=(d[1]>0?1:-1)*_n);var q=[D/w[0],N/w[1]],G=[D,N];if(!c&&t.props.groupable){var W=I.snapRenderInfo||{},H=W.direction;P(H)&&(H[0]||H[1])&&(I.snapRenderInfo={direction:v,request:e.isRequest})}var $=[0,0];if(c||($=eo(t,q,v,n.fixedPosition,p,n)),S){T[0]&&T[1]&&$[0]&&$[1]&&(Math.abs($[0])>Math.abs($[1])?$[1]=0:$[0]=0);var Y=!$[0]&&!$[1];if(Y&&(C?q[0]=ar(q[0]*w[0],E)/w[0]:q[1]=ar(q[1]*w[1],E)/w[1]),T[0]&&!T[1]||$[0]&&!$[1]||Y&&C){q[0]+=$[0];var X=gr(g*q[0]*w[0],C,k);q[1]=X/m/w[1]}else if(!T[0]&&T[1]||!$[0]&&$[1]||Y&&!C){q[1]+=$[1];var K=mr(m*q[1]*w[1],C,k);q[0]=K/g/w[0]}}else q[0]+=$[0],q[1]+=$[1],$[0]||(q[0]=ar(q[0]*w[0],E)/w[0]),$[1]||(q[1]=ar(q[1]*w[1],E)/w[1]);0===q[0]&&(q[0]=(d[0]>0?1:-1)*_n),0===q[1]&&(q[1]=(d[1]>0?1:-1)*_n);var Q=[q[0]/d[0],q[1]/d[1]];if(G=In(q,w),n.prevDist=q,D===d[0]&&N===d[1]&&!x)return!1;var Z=ri(t,Q,v,M),J=fr(t,e,{scale:G,direction:v,dist:q,delta:Q,transform:y+" scale("+D+", "+N+")",isPinch:!!c,drag:bo.drag(t,Fr(t.state,Z,h,c,!1))});return pr(t,"onScale",J),J},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isScale&&(n.isScale=!1,pr(t,"onScaleEnd",fr(t,e,{isDrag:r})),r)},dragGroupControlCondition:ai,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=r.direction,o=si(t,i),s=Gr(t,this,"dragControlStart",n,(function(n,r){var s=si(n,i),a=me(_e(-t.rotation/180*Math.PI,3),[s[0]-o[0],s[1]-o[1],1],3),u=a[0],c=a[1];return r.originalX=u,r.originalY=c,e})),a=fn({},r,{targets:t.props.targets,events:s}),u=pr(t,"onScaleGroupStart",a);return n.isScale=!1!==u,!!n.isScale&&a},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){var r=this.dragControl(t,e);if(r){var i=t.props.keepRatio,o=r.scale,s=si(t,n.direction),a=Gr(t,this,"dragControl",n,(function(n,r){var a=me(_e(t.rotation/180*Math.PI,3),[r.originalX*o[0],r.originalY*o[1],1],3),u=a[0],c=a[1];return fn({},e,{parentDist:null,parentScale:o,parentKeepRatio:i,dragClient:ve(s,[u,c])})})),u=fn({targets:t.props.targets,events:a},r);return pr(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale){this.dragControlEnd(t,e),Gr(t,this,"dragControlEnd",r,e);var i=fr(t,e,{targets:t.props.targets,isDrag:n});return pr(t,"onScaleGroupEnd",i),n}},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(r){return e+=r.deltaWidth,n+=r.deltaHeight,{datas:t,parentDist:[e,n]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function No(t,e){return t.map((function(t,n){return k(t,e[n],1,2)}))}function Po(t,e,n){var r=ae(t,e),i=ae(t,n),o=i-r;return o>=0?o:o+2*Math.PI}function Mo(t,e){var n=Po(t[0],t[1],t[2]),r=Po(e[0],e[1],e[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}var Ro={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable;if(!r&&!i&&o){var s=t.state,a=s.pos1,u=s.pos2,c=s.pos3,h=s.pos4,l=No(a,u),f=No(u,a),p=No(a,c),d=No(c,a),v=No(c,h),g=No(h,c),m=No(u,h),y=No(h,u);return[e.createElement("div",{className:Cn("line"),key:"middeLine1",style:Xn(l,v)}),e.createElement("div",{className:Cn("line"),key:"middeLine2",style:Xn(f,g)}),e.createElement("div",{className:Cn("line"),key:"middeLine3",style:Xn(p,m)}),e.createElement("div",{className:Cn("line"),key:"middeLine4",style:Xn(d,y)})].concat(Ao(t,e))}},dragControlCondition:function(t){return!t.isRequest&&W(t.inputEvent.target,Cn("direction"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=r.target,s=rr(o);if(!s||!i)return!1;var a=t.state,u=a.transformOrigin,c=a.is3d,h=a.targetTransform,l=a.targetMatrix,f=a.width,p=a.height,d=a.left,v=a.top;n.datas={},n.targetTransform=h,n.warpTargetMatrix=c?l:he(l,3,4),n.targetInverseMatrix=ie(oe(n.warpTargetMatrix,4),3,4),n.direction=s,n.left=d,n.top=v,Wr(t,{datas:n}),n.poses=[[0,0],[f,0],[0,p],[f,p]].map((function(t){return ge(t,u)})),n.nextPoses=n.poses.map((function(t){var e=t[0],r=t[1];return me(n.warpTargetMatrix,[e,r,0,1],4)})),n.startMatrix=Ee(4),n.prevMatrix=Ee(4),n.absolutePoses=or(a),n.posIndexes=Xr(s),a.snapRenderInfo={request:e.isRequest,direction:s};var g=fr(t,e,{set:function(t){n.startMatrix=t}}),m=pr(t,"onWarpStart",g);return!1!==m&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,s=n.targetInverseMatrix,a=n.prevMatrix,u=n.isWarp,c=n.startMatrix,h=n.poses,l=n.posIndexes,f=n.absolutePoses;if(!u)return!1;if(zi(t,"warpable")){var p=l.map((function(t){return f[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var d=Hi(t,r,p.map((function(t){return[t[0]+i,t[1]+o]}))),v=d.horizontal,g=d.vertical;o-=v.offset,i-=g.offset}var m=Hr({datas:n,distX:i,distY:o},!0),y=n.nextPoses.slice();if(l.forEach((function(t){y[t]=ve(y[t],m)})),!bn.every((function(t){return Mo(t.map((function(t){return h[t]})),t.map((function(t){return y[t]})))})))return!1;var b=Se(h[0],h[1],h[2],h[3],y[0],y[1],y[2],y[3]);if(!b.length)return!1;var w=we(fe(s,b,4)),_=n.targetTransform+" matrix3d("+w.join(",")+")",E=pe(oe(a,4),w,4);return n.prevMatrix=w,pr(t,"onWarp",fr(t,e,{delta:E,matrix:pe(c,w,4),multiply:pe,dist:w,transform:_})),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,pr(t,"onWarpEnd",fr(t,e,{isDrag:r})),r)}},Lo=Cn("area"),jo=Cn("area-pieces"),Vo=Cn("area-piece"),Bo=Cn("avoid");function zo(t){var e=t.areaElement,n=t.state,r=n.width,i=n.height;$(e,Bo),e.style.cssText+="left: 0px; top: 0px; width: "+r+"px; height: "+i+"px"}function Fo(t){return t.createElement("div",{key:"area_pieces",className:jo},t.createElement("div",{className:Vo}),t.createElement("div",{className:Vo}),t.createElement("div",{className:Vo}),t.createElement("div",{className:Vo}))}var Uo={name:"dragArea",props:{dragArea:Boolean},render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,s=t.state,a=s.width,u=s.height,c=s.renderPoses;if(o)return[e.createElement("div",{key:"area",ref:p(t,"areaElement"),className:Lo}),Fo(e)];if(!r||!i)return[];var h=Se([0,0],[a,0],[0,u],[a,u],c[0],c[1],c[2],c[3]),l=h.length?"matrix3d("+we(h).join(",")+")":"none";return[e.createElement("div",{key:"area",ref:p(t,"areaElement"),className:Lo,style:{top:"0px",left:"0px",width:a+"px",height:u+"px",transformOrigin:"0 0",transform:l}}),Fo(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.inputEvent;if(!o)return!1;n.isDragArea=!1,n.inputTarget=o.target;var s=t.areaElement,a=t.state,u=a.moveableClientRect,c=a.renderPoses,h=a.rootMatrix,l=a.is3d,f=u.left,p=u.top,d=qn(c),v=d.left,g=d.top,m=d.width,y=d.height,b=l?4:3,w=Sr(h,[r-f,i-p],b),_=w[0],E=w[1];_-=v,E-=g;var x=[{left:v,top:g,width:m,height:E-10},{left:v,top:g,width:_-10,height:y},{left:v,top:g+E+10,width:m,height:y-E-10},{left:v+_+10,top:g,width:m-_-10,height:y}],T=[].slice.call(s.nextElementSibling.children);return x.forEach((function(t,e){T[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),H(s,Bo),!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(!r)return!1;n.isDragArea||(n.isDragArea=!0,zo(t))},dragEnd:function(t,e){if(!e.inputEvent)return!1;var n=e.inputEvent,r=e.isDragArea,i=e.datas;i.isDragArea||zo(t);var o=t.state.target,s=n.target;if(!r&&!t.isMoveableElement(s)){var a=o.contains(s);pr(t,"onClick",fr(t,e,{inputTarget:s,isTarget:o===s,containsTarget:a}))}},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.isDragArea,i=e.datas;if(!n)return!1;r||zo(t);var o=i.inputTarget,s=n.target;if(!r&&!t.isMoveableElement(s)&&o!==s){var a=t.props.targets,u=a.indexOf(s),c=u>-1,h=!1;-1===u&&(u=q(a,(function(t){return t.contains(s)})),h=u>-1),pr(t,"onClickGroup",fr(t,e,{targets:a,inputTarget:s,targetIndex:u,isTarget:c,containsTarget:h}))}}},qo={name:"origin",props:{origin:Boolean},render:function(t,e){if(!t.props.origin)return null;var n=t.state,r=n.beforeOrigin,i=n.rotation;return[e.createElement("div",{className:Cn("control","origin"),style:Kn(i,r),key:"beforeOrigin"})]}};function Go(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Wo={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=void 0===r?t.getContainer():r,o=new rn;e.datas.dragScroll=o;var s=e.isControl?"controlDragger":"targetDragger",a=e.targets;o.on("scroll",(function(n){var r=n.container,i=n.direction,o=fr(t,e,{scrollContainer:r,direction:i}),s=a?"onScrollGroup":"onScroll";a&&(o.targets=a),pr(t,s,o)})).on("move",(function(n){var r=n.offsetX,i=n.offsetY;t[s].scrollBy(r,i,e.inputEvent,!1)})),o.dragStart(e,{container:i})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=void 0===i?t.getContainer():i,s=r.scrollThreshold,a=void 0===s?0:s,u=r.getScrollPosition,c=void 0===u?Go:u;return n.drag(e,{container:o,threshold:a,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,fn({},e,{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,fn({},e,{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,fn({},e,{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,fn({},e,{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,fn({},e,{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,fn({},e,{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,fn({},e,{targets:t.props.targets}))}},Ho={name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},$o={name:"padding",props:{padding:Object},render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=n.padding||{},i=r.left,o=void 0===i?0:i,s=r.top,a=void 0===s?0:s,u=r.right,c=void 0===u?0:u,h=r.bottom,l=void 0===h?0:h,f=t.state,p=f.renderPoses,d=f.pos1,v=f.pos2,g=f.pos3,m=f.pos4,y=[d,v,g,m],b=[];return o>0&&b.push([0,2]),a>0&&b.push([0,1]),c>0&&b.push([1,3]),l>0&&b.push([2,3]),b.map((function(t,n){var r=t[0],i=t[1],o=y[r],s=y[i],a=p[r],u=p[i],c=Se([0,0],[100,0],[0,100],[100,100],o,s,a,u);if(c.length)return e.createElement("div",{key:"padding"+n,className:Cn("padding"),style:{transform:"matrix3d("+we(c).join(",")+")"}})}))}},Yo=[Ho,yo,zr,bo,Io,ko,Do,Ro,Wo,Uo,$o,qo],Xo={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(t,e){var n=t.props.targets||[];t.moveables=[];var r=t.state,i=r.left,o=r.top,s={left:i,top:o};return n.map((function(n,r){return e.createElement(Vr,{key:"moveable"+r,ref:d(t,"moveables",r),target:n,origin:!1,parentMoveable:t,parentPosition:s})}))}};function Ko(t,e){return Math.max.apply(Math,t.map((function(t){var n=t[0],r=t[1],i=t[2],o=t[3];return Math.max(n[e],r[e],i[e],o[e])})))}function Qo(t,e){return Math.min.apply(Math,t.map((function(t){var n=t[0],r=t[1],i=t[2],o=t[3];return Math.min(n[e],r[e],i[e],o[e])})))}function Zo(t,e){if(!t.length)return[0,0,0,0];var n=t.map((function(t){var e=t.state;return or(e)})),r=En,i=En,o=0,s=0,a=ar(e,wn);if(a%90){var u=e/180*Math.PI,c=Math.tan(u),h=-1/c,l=[xn,En],f=[xn,En];n.forEach((function(t){t.forEach((function(t){var e=t[1]-c*t[0],n=t[1]-h*t[0];l[0]=Math.max(l[0],e),l[1]=Math.min(l[1],e),f[0]=Math.max(f[0],n),f[1]=Math.min(f[1],n)}))})),l.forEach((function(t){f.forEach((function(e){var n=(e-t)/(c-h),o=c*n+t;r=Math.min(r,n),i=Math.min(i,o)}))}));var p=n.map((function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return[ye(e,-u),ye(n,-u),ye(r,-u),ye(i,-u)]}));o=Ko(p,0)-Qo(p,0),s=Ko(p,1)-Qo(p,1)}else if(r=Qo(n,0),i=Qo(n,1),o=Ko(n,0)-r,s=Ko(n,1)-i,a%180){var d=o;o=s,s=d}return[r,i,o,s]}var Jo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new cn,e.moveables=[],e.rotation=0,e}ln(e,t);var n=e.prototype;return n.updateEvent=function(t){var e=this.state,n=this.props;e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=Mr(this,e.target,"Group"),this.controlDragger=Rr(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!yr(t.container,n.container);r&&(e.container=n.container);var i=this.differ.update(n.targets),o=i.added,s=i.changed,a=i.removed;(r||o.length||s.length||a.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(t,e,n){var r;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var i=this.state,o=this.props,s=i.target||o.target;(!e||""!==t&&o.updateGroup)&&(this.rotation=o.defaultGroupRotate);var a=this.rotation,u=Zo(this.moveables,a),c=u[0],h=u[1],l=u[2],f=u[3];s.style.cssText+="left:0px;top:0px;width:"+l+"px; height:"+f+"px;transform:rotate("+a+"deg)",i.width=l,i.height=f;var p=this.getContainer(),d=tr(this.controlBox.getElement(),s,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||p,i),v=[d.left,d.top];r=or(d),d.pos1=r[0],d.pos2=r[1],d.pos3=r[2],d.pos4=r[3],d.origin=ve(v,d.origin),d.beforeOrigin=ve(v,d.beforeOrigin);var g=d.targetClientRect;g.top+=h-d.top-i.top,g.left+=c-d.left-i.left,this.updateState(fn({},d,{left:c-d.left,top:h-d.top}),n)}},n.triggerEvent=function(e,n){if(e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,this.props.ables.concat([Xo]),"Group")},e.defaultProps=fn({},Vr.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),e}(Vr),ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ln(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.ables||[],n=this.props.target||this.props.targets,r=P(n),i=r&&n.length>1;if(i){var o=fn({},this.props,{target:null,targets:n,ables:Yo.concat([Xo],e)});return ct(Jo,fn({key:"group",ref:p(this,"moveable")},o))}var s=r?n[0]:n;return ct(Vr,fn({key:"single",ref:p(this,"moveable")},fn({},this.props,{target:s,ables:Yo.concat(e)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,e){return this.moveable.isInside(t,e)},n.hitTest=function(t){return this.moveable.hitTest(t)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.isDragging=function(){return this.moveable.isDragging()},n.getRect=function(){return this.moveable.getRect()},n.request=function(t,e){return this.moveable.request(t,e)},n.destroy=function(){this.moveable.componentWillUnmount()},e}(xt),es=ts,ns=function(t,e){return ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},ns(t,e)};function rs(t,e){function n(){this.constructor=t}ns(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var is=function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},is.apply(this,arguments)};function os(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}var ss=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}rs(e,t);var n=e.prototype;return n.render=function(){return Dt(ct(es,is({ref:p(this,"moveable")},this.state)),this.state.parentElement)},e}(Et),as=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal","snapGap","isDisplaySnapDigit","snapDigit","zoom","triggerAblesSimultaneously","padding","snapDistFormat","dragTarget"],us=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","click","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd","snap"],cs=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging"],hs=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;r.tempElement=document.createElement("div");var i=is({container:e},n),o={};us.forEach((function(t){o[F("on "+t)]=function(e){return r.trigger(t,e)}})),kt(ct(ss,is({ref:p(r,"innerMoveable"),parentElement:e},i,o)),r.tempElement);var s=i.target;return P(s)&&s.length>1&&r.updateRect(),r}rs(e,t);var n=e.prototype;return n.setState=function(t,e){this.innerMoveable.setState(t,e)},n.destroy=function(){kt(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},e=os([v(cs,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.getMoveable();if(r&&r[e])return r[e].apply(r,t)})})),v(as,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.setState((n={},n[e]=t,n))},enumerable:!0,configurable:!0})}))],e),e}(h),ls=hs;function fs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fs(Object(n),!0).forEach((function(e){ds(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vs=function(t,e){return{handler:function(e){var n=this.moveable[t];n!==e&&(this.moveable[t]=e)},deep:e}},gs=function(){return as.reduce((function(t,e){return t[e]=vs(e,!0),t}),{})},ms={};cs.forEach((function(t){ms[t]=function(){var e;return(e=this.moveable)[t].apply(e,arguments)}}));var ys={name:"Moveable",inheritAttrs:!1,props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,snapThreshold:Number,snapDigit:Number,isDisplaySnapDigit:Boolean,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,defaultGroupRotate:Number,scrollable:Boolean,scrollContainer:[HTMLElement,SVGElement],scrollThreshold:Number,getScrollPosition:Function,warpable:Boolean,renderDirections:Array,rotatable:Boolean,rotationPosition:String,throttleRotate:Number,pinchable:[Boolean,Array],scalable:Boolean,throttleScale:Number,keepRatio:Boolean,resizable:Boolean,throttleResize:Number,baseDirection:Array,draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,dragTarget:[HTMLElement,SVGElement],container:{type:[HTMLElement,SVGElement],default:function(){return document.body}},rootContainer:HTMLElement,dragArea:Boolean,origin:Boolean,zoom:Number,transformOrigin:[Array,String],edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,padding:Object},methods:ms,mounted:function(){var t=this;this.moveable=new ls(this.$props.container,ps({},this.$props,{target:this.$el})),us.forEach((function(e){var n=e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();t.moveable.on(e,t.$emit.bind(t,n)),t.moveable.on(e,t.$emit.bind(t,e))})),window.addEventListener("resize",this.updateRect,{passive:!0})},watch:ps({},gs()),beforeDestroy:function(){window.removeEventListener("resize",this.updateRect),this.moveable.destroy()}},bs=ys;function ws(t,e,n,r,i,o,s,a){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var h=c.render;c.render=function(t,e){return u.call(e),h(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}var _s=ws(bs,s,a,!1,null,null,null),Es=_s.exports;e["default"]=Es}})["default"]},a06b:function(t,e,n){t.exports=n.p+"img/swamp.9b52bb01.png"},a159:function(t,e,n){var r=n("e4ae"),i=n("7e90"),o=n("1691"),s=n("5559")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n("1ec9")("iframe"),r=o.length,i="<",s=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},a22a:function(t,e,n){var r=n("d864"),i=n("b0dc"),o=n("3702"),s=n("e4ae"),a=n("b447"),u=n("7cd6"),c={},h={};e=t.exports=function(t,e,n,l,f){var p,d,v,g,m=f?function(){return t}:u(t),y=r(n,l,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>b;b++)if(g=e?y(s(d=t[b])[0],d[1]):y(t[b]),g===c||g===h)return g}else for(v=m.call(t);!(d=v.next()).done;)if(g=i(v,y,d.value,e),g===c||g===h)return g};e.BREAK=c,e.RETURN=h},a2a9:function(t,e,n){},a2cd:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){a("next",t)}function h(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ab72:function(t,e,n){"use strict";var r=n("181c"),i=n.n(r);i.a},aba2:function(t,e,n){var r=n("e53d"),i=n("4178").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n("6b4c")(s);t.exports=function(){var t,e,n,c=function(){var r,i;u&&(r=s.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var h=a.resolve(void 0);n=function(){h.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},abfd:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return l})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return p}));var o,s=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=h,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){var e="string"===typeof t?a[t]:t;s.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var u=i[r];n(u)}}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),u=n("84f2"),c=n("2b4c"),h=c("iterator"),l=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),v=0;v<d.length;v++){var g,m=d[v],y=p[m],b=s[m],w=b&&b.prototype;if(w&&(w[h]||a(w,h,f),w[l]||a(w,l,m),u[m]=f,y))for(g in r)w[g]||o(w,g,r[g],!0)}},acb7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAACjlBMVEUAAADB1+nB1+rC2Ov////E2erE2erR6P/B2OnC2OnE2OvB1+nD2vDC1+rB2OnC1+nF3O7D2OrC2OvB2OnI3vTB1+rB2OzC1+rD2uvB2enC2OrD2OnC1+rC2+3C2OrD2enE3e7C1+rC2OrM///C2OvC2OrD1+vC1+nC2OrC2OrC2uvC2OrC2OrC2OrB1+nB2OrC1+nB2OoNDw/B1+m+0+USFBVteYMOEBDA1ughJSc1Oz+80uMQExNCSk8sMjW+1OZnc3wUFxh+jZkWGRk3PkIZHB2kt8ZreIFMVVt3hZAPERF+jJi90uQqMDN5h5GMnaoXGhsQEhJSW2K1ytszODy4zd+Il6NVX2YtMja70eItMzcfIyWRoa4RFBSyxtahs8GxxdVYY2pkcHmesL8bHyGgssFvfIZueoShtMIdISMeIyRodH1/jppqd4BSXWSSoq9LVFogJCawxNW/1ee3zN0kKCuWprSDkp4TFhdPWF6uwtJjbndcZ29ZZGtzgYu5zt98iZQcICKYqrhHUFanu8t8i5Zga3NbZW20ydqXqLZKU1mktsWbrbuqvcyJmqZqdn9fanJlcXqzyNlETVM+RkpDS1BJUVdaZGymusq1ydqarLp7ipWsv88nKy1FTlRNVl1XYWg5QUVpdX4WGRq70OEjKCp6h5IyNzuJmKScr70+RUo2PUF1go0bHh+BkZw2PEB0goxVX2ebrryHlqOEk59ibnaVpbM4QERYYmmitMNTXmWlucivw9M4P0NHUFWWp7VhbXWFlKAmKixQWmCCkZ2luMc7Q0iUpbJeaXExNzqtwdGHlqK6z+A7Qke4zd52hI9ue4WfscAwNjkbHiC2y9yMnKmpvMtKUlgoLS9cZm6VAtIBAAAAMnRSTlMAx/twAkpJC9+XDewizfj5LIOJ0hfOQrRMjP2Y7iq/ah764gWL/k2B0FRLuMW3xqlTzxXIGGsAAAVHSURBVHhe7dtlUxxLGAXg3iUQnAAhBAmEhCQES3IO7sTd3d3d3a+7u7u7u7v7v7m1hK0Ky87MmVlIVVL7fN+qqdqZfrWNJ1FRUVF9kuNiEirKM+OT0tKS4jPLKxJi4pL7mEsjMTYnJZVhpKbkxCaaXtYv3eenDb8vvZ/pNf1jsijIiulvesOAbD9F/uwBpqcN9NEV30DTk0aW0LUxo01PGVRATwoGmZ7QN6OIHhVl9DURix3CCAyJNZEZWjyMERlWPNREYLCPolZa8Q02ng3Pp+i+e2gpf7jxqDCXogdnvE9ruYXGkxFUbViGmbQzwkvEzaNq+WxgHW3luY7VfUZRtb0JaKqivVFunyCPqhoAaKGTvN76/ychYDcteHwPCqnaiA476KzQyIbnUnQSF7xJZ7nyeTA4n6Ip6HQjBfnimTjUR9FpBK2mwqfFhWKKxtYiaDolxVL8VePfrKkIqqZmmBCd+6rxf/MTCEJtHTVDnDOUDGpWP4WL3E5RhmP+V0TJkgZc7CuKipzyxAJqJqOL66gqcMi/qWlDVy9TNtLYKaHkEEI8SlmJbf1DycR2hGihzq5m8lHRuBTdXEuZz6b+pGQNultInXXlmk3FzQjjYeqyLet/PwVHX0IYU49S5rfqH8RQUPcYwmqjLsaEl0XB4wivfh9lWRb9HwpenwoLT1MXvo+UTmdVi2HlzH7K0j0fArfA2q0RHgWJfuEIrIa1Feep8iea7krp7BXYuZOyUtNdDh1Ng70pVOWY7lLoZMFW2Gu/l6KUMNVoKp28BScN+6hJ7V6rJtPJTdVwNImiZBMqTsjCnDWtoybOfSCYWAvBjCVew0ECHeyG5BpKEkyoMtq7oRaa5VSUmVCVtPcIRHuk7KzShMqkrb1NUJ2jINOEihcKAdFVdBZvQiXRTtVW6MYJUSnJhEqjnc/gxjNVdJLm8gHugOYwOlytPYD+F+yvhubu29DhrPQX6C/hdoi+Yw0C5ksvof4Z3gVRC3kk5EtQP8NyWmsdB9F4ct4yANiyn7bKTagKWrsfqiMkH0DAWtqqcBWMaqCqIdn6EACsbxSCkRqOm6HaRZIzETBWCMdqQnIAojmnSHLBOOcPIc5NSvYkVA3ssBMB64SUTEtKV0G1jR1mIaBGSEq1tPxZqJ5jh8Z2AHheSMu1wmQaRPXs9AIAtE8XChOpNHsRcJkPnnAKCLGuitNJEB3s+otDQnEqleeboNlSx06vIuCkUJ5LDYrT0LzGoLUIOCY0KKQWzUJo3mDQXAQsElo0UpPqbWhmMugdBLwrNKmkcPAeNMfZ6QOHxCzGZaPyQ2hm7+3yD2Cb0KiUWrVV1dB8dJ4kpy/CBdOEVq3WrB4PUXXz8baP69HpE6FZrR0Fn8KTlcIhoA0sZsGLz4WBhTiymVcLD75gWGO8DK2WwoMvGdZoL2O7Nrh3+JQwtlMHlyur4dr1wuBSH93OhWtnhdGtPrxeBbfGS8NrfXz/NVz6Rhrf6wsMB3vkDSiOYIXjW7gx4XtxhUNfYmlsgQ4/yEss+hrPhhWQrdHXePRFJm6CqrmVYRRGvMq1E5qGH4VVLi/LbHWTofjpZ2GZzds6374TcHauUVjn87zQ+Msc2Jvzq7TQ6P09+O132JlxVlzl877U2rrxD1iZXVOlL7V6X+tdUFOPcM7s+FNb6418sblu19zQZ5gw+a8qYbG5B1e7/x577J/5/+6ZsP7A4ub/pmwWVrsvy+X2yNf7L/8LDt6veJSMvBIuuXi/5nMlXnTSr3r1ssRS68tupYmX8rpfWWXwul9lmffrflFRUVH/A/GZ2xVqUss9AAAAAElFTkSuQmCC"},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw void 0!==o&&r(o.call(t)),s}}},b447:function(t,e,n){var r=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b4f7:function(t,e,n){},b65e:function(t,e,n){"use strict";var r=n("a2a9"),i=n.n(r);i.a},b789:function(t,e,n){},b79f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAOh0lEQVR42uyd+XMUxxXHp1Lln1K2uQUYMPd9CnFK3IcQIC6J+zI34j7EfYlTIInLoF2JyxgJAqRyQEjASRwkGZL8gGPH+QNclZ9T/IydsjvzKddWoexqZmfVPd2rnVf1ChDa7e733vS8fse3rYACCiiggAIKKKCAAgoooIACCiigZCYhxM/ufhHqWl0TyqmuC+2org2Fq2rKn1bVhl5W15Z/Y//8W/vf/7F//h3M3/kZ/8fv8Lt8hs/yHXwX32kFZCY9enHz3aq60AxbgWU2f2kr8I3NQjK/4bsZ425txXTGtALSR/dfhvvbT+lJ+wn9W3VN+X9Rkp/MmIzNHJiLFZB6uvf362lsy/Y2/Q+UYBIzJ+bGHK2AJCu+NjzRftKeyHnS1e8MzJU5WwE1jqq/CM9km0WwycjMnTVYAXlUfF1FflVN6GtpytC/K3zFmqyAXBXf135qnssUfmnVMVFwaJXImT9ZZE4ZKQaPGiR6DewpBg0fIMbmZIrcpdPExgMrRfhxiR87wnPWaAVUnz77552fV9eFz9mO1PcyBH3118Vi0cZ5omPXjuLd99+Pi99r3kxkjEkXW4vWqXYWv2etrNkKyLJ+Or+H/i1DuLf+eEnMW5Ur3m/RHKUmzAMy+olTNw4qNQTWTDzBSlV69aryHftpKLUF8aMMgaKwbr27okBpPGfFDHHn+VWVRvAjMkAWVirR3Zc3PpTp3R+9slu0atsGpUnnMdNG2zvLZeWnhYcvKjulxpm+pjzXtvzXsoR3+ONdokXrlihLGQ8aOVBUPilT/Up4jWyatpdfU76pqrb8B1lCK//NWdG+U3uUpJwHjxggbn52KWoOoUcl4uztI4Jd6MytQ8wp4dcGskFGTfSIFzou+6kZNjYd5fjGk+eMFwWHV4vpC6cIjpNtP2gb8/fatE8TE2aOEdtPbhC3P7/ieV3IqkmlZu0MWoVs5W87sR5hG884pjtPb/S8PmSG7JqC8h/IVv6nn1+J8vhN56zsUeLG0wtejeBBUhtBvE/+afsIRwDmo52LxYptC8WWY2vF0auFDW2fbMMINemYCOSlB6c87wRN8p1f8bhUzF0509GJa93OfpfmjhWl1UX1PjtwWH8HQZv/Sgj/rrRp+wR4sk4L2m6/v1t7OLcT2SMow9Z//hcn+FkyMw6kZ+cQmSbNOd/hqEeMPmHBjZo4XMz7aCZ/T3peunm+5yMisjU+wucU5Ck4vIrFB2xz81YtRdnd456DRUQMjY3tO4V32bqbtWyR8op/m8fPyEoobGxk7oBqWYeJ48ylvMJjpaAvPjiZSIygzDKJSGs6ZfXwet9r1izlFR6DOQkllEVE5sYUc5DbdonapbyiG+IuPbskXE9gRFEJ1S0uk+UIl/KKduLiTw4nZATIXnsNXzxlXJNmj0t5JcNOAa8R4zPEmsJllLN5Ki/TWmMYbwFn5tRRKa/keLlVWmux4cBKT4Wm2kq3453kpFnBDuCVyYfEK18tJede6vbzVs9KeYV65bYd24nbf/44LvmiC987drw4K7vOFKS8QhPhfee3xS1jXzuQPBZ0UlRJ9UzKK9Qj4xR6ihD69e6flMiRZd2+FSmvUI/syRmEfWlIpfPVq/IPXNwh2nVol/IK9cItWreiwNSTnNGN8v58ry3aF++fpGY/5RXqlWcuzk6oNV0pPgEACF4nNWXuhJRXZqI7wPKtCyiC8SRvdGSpokSQOdp2DLb+xnD/oX3F5V+e9oRUogyTx6vyrz+9kPIKlBUTKArtiVvu6EqB8xc+5dUALj88lfLKkxgijtsIAK7Sdvanh27F9kWiz+DeFDwYIbwe/XuI7n27UZGU6BNoStKIyir/YwJg4sXj/e+/sF180LmDcU9PpDPnzl+uIkCKS718nnVxlI20omnlvkP6iE/+dNn1NIDOpII4uIZ7bSFHgBkMY3r06s01O3+SZwOIfJZG0KnzJlLUqW09K3csct0F0Jlv9X4ld45GBGIkd+/TjbI0KQYQ4dBvz4lx0zN1rIewOg62f3WDQKQ6DAbgkulOFO3d5CSkGQCctypX13poj3MzgC+lNXg6Ye8eKy9MFk8aVDB69yUYgP46h+Fjh7piG0tpLAUp22mgWUtztCu2mQffY/by6TIMAIeSgk5daya87gpEge5kHP9yHAYhUqVFAENGDxZkGK/8qlhsPrbW02fbdWzfaAPYenyddsMvqy5yOw7mqI7/g8Xnd2MliGAK6w7dDQA4uh79uus2AGBp1OcFuDjBaZAOXXwzAM7hDXXV4pUzF+UGwNafOXmEET5N4dnNbhHBsAwDeOY0yMDh/vXqg9YFtOuiDfPE7uJNUW1VJ68f4DiqygBQPjEAY5zag5d2uhnAMxlHwL86DEJrk1YhpNmATMPHDRXz184WoIxk501UYgAX7p807bjrGhZGdzKqf//lMAjQaPqFoR4djGSMSXPCkY2nifQbGaeAb4PGD/OYQhs3vaA7q7HEjVouA/Eu5glJeaX4yXtLt7oaALqT4QR+F8dAtke6KeWV4hNz2omrVAzd+WYAcFb26JRWTIYdnp2oHggDSHzk7cEA1L4CYAoYUxnvB4xD5EA7F4knleOBsEYk0sMrQLETuHr3Ut+EDQ5vr4G9RHc7EteyTSsjwB/PfXokKijVsVsnDRlBBU4gRwmHQYhHK4VrR9GUmFGIce335+uNTVTw0KWdZPl0KB/gC6pzGkI/pbRb9c5DLEDtMZC7dHUgdiM8om5U8xTfOuRWBkUUEBROv4JPlIjFvKtox6mNYtayHJJkVEj5YYROJeIvZfgATxsYgHp1PxsliDeAN9RQPgAwZm4GU77lExWMjIlxLi7IE/3S++jYhUhKOT0YT1Umg9iadR2DAJWOdZULxgEyt5JxCTnfeHZRUF62atcSjMGEcnHHZJDSdHD2/MlaF9+5Z2ewB2LtBBRrSK8/IOw9Zc54k+ofcYQd08FKC0JGThhmhBDGTc8SFU/KVAWmOHaxVhOxDum/cCwIUVkSxpZoVHTseHhvvUslIlD0pnAn+2iIc9g3vS+NKhwVcSgbA6EL+LZjSZjSotCcqFeA/trA9ftXRp1QdDBKHZo1RKCgI1d2c4R1uwXFK4gGmAt0YjkWhSotC99dbGT8n2MY8yON6+u4H/boLGYsmkqiBmcxEfBHjCZenGHHghB0pqYxRD32D7lu2rfYHhP9Dm7tgn15By/bsoDmGBn3IbFTcIex25EYH8e/xhCAiRsYiBi4ymQHggUrB4PwUv4Nq3LaUABXx3EzOXOUzuQT1u5dTkdTVOSPbqR4GkTRmR/NoUyWcK1MCPWGLlLA0+eqdxoktTpyZfci81PPxBzO3DwInrDDa8WpOVR9eziTIx/gJzYOWyBJIf+x+8q2Mb4O1gsZB+iA06AFhxp/HUzvQb1cmh6ju3Py18z2r8k0EnY1nNGVEogYhTUBPM10+SSyYJ5K5RdIw8u2zE8KA7j34lo/XSBRxMi9OGtkzHCoIhczJ8pkDVUbQKQjyWhGR9ph4o5X7hMDMvq5xfFJZUYyazKY3gCVhSiRZkyjGR0ZAxR5onK/AO8WtPAlm/LF6sKlbNdcn6rq+KSsVzE9a4gGhWoDinSHitXFmsrTaCvXvTb9ULEQgMQGCwFfgu1aVf2d0YxuNMDFm8ej5Xfv8jpLtbO/O2qYbvaxUimSdTOW0YnfN4R/ZaowTlzbLxuVy2jlowv/bwmvC+cZKhBw9mUaAAUcRhsAutB6bZxhzHFQpgGACGKs8tGBeRdH6mep3crZeZOMVD6yv19b3seIq2O1sXrsImBpTDWAs2ZeHq2fZYJWk6vQtA73y6MNvT5eP6fJCwbR8q19Pfqvj3fPFJYaIiDqBGTeVQA4lGlbf6llGr16VfmOKRHC0uoi2d03FMAaE/FD1paJ9PBFZSd7e3qtUUDU0KmAr6XrV7vykS0ytkymezXluVW15T/4LBzgW0k9R9790rlLz84YlzblI1N59wOrDxNvUiGE6384LygGpTMYZdOAsefcZgpLfLmbuOcA0ECOajGAu3XhAiuJiOqh47IWT8/fmGmjIz10OpkSNgJDIJb4+fQXWUlIdBRVNGbhoH6kZw6OCN/EzlwqnZTuCsjQSlaiOdFewAOvi6Y6eIJ3uDXtWAU5C6YIOqWoTeQiDXoUF66fS9MnGUpgbrw6ffflNHjqN4KKOM/v3IjVZC+bZl10VIcfl8T15GtQvjafgB5A0q5OLWORcvNkZ15rjspHVlZTJE4HsY6I9LxxAxeXMIHEwa0g0+ztlKbQoop9IvSopN7NpEDTHb1ayP8TpiXxY+p1r6yFVwFzpZ0b+LgGHUhkI8PbNz5OoCBYRMcsxuN02QTK8NMAAKtC2XEHeTSc8/VFDBWEjYkLxFIER0jQw7hixRFiBmdtxPgMFdfVORoCstAQ4dOfOyCpQWZLZiVQ2v8FhAYO6x/xvvmTkvFY/f714F65hczNEcXjJ02McokSuu8Go2Nm9ZCB5ti+/lSyxHoCrox5G2kkquE0xp0/NLXGSihFABqimO6jWHWIRCnz18wS+CWAWk6aPQ6wC6B0OOFE5fNZuxXQT0UlVBbJKC8DOziiqD0lW2JhGxNRrIfrw87RQOgZCLooA8DXaEwZF2tlzVZA0TWGjSw0pYETFA+nOj6CM291/Kxy+06g2etVGC0pyEu4gJM1WgG5GkJ+VU3o60acCJzgVPAFcAyBWWNrjjvbuPnoGjF+RhZdQp7r9indtgLyRhyLFBaZcB2c8uIN1mAF1PiGVDpfaX9OhhZt5sqcrYDk4xMAgAAKhonIHMyNOVoBqScwiwBDYpvVsTMwJmMzB+ZiBaSPwMSjOxZ0TCBSI9jGkvkN380YnN8Z0wrI3BT0/9q7gxMAYBAIgum/IsuLU4awA0II0Weenk3Z1qX7lgUnbI0sXVG4wpQkaolVU87uZOx4I2lDj14zzDLzJUmSJEmSHPYB2XZtxLjrcHwAAAAASUVORK5CYII="},b8e3:function(t,e){t.exports=!0},b94b:function(t,e,n){"use strict";var r=n("cb41"),i=n.n(r);i.a},bb7a:function(t,e,n){},bc13:function(t,e,n){var r=n("e53d"),i=r.navigator;t.exports=i&&i.userAgent||""},c1bc:function(t,e,n){},c207:function(t,e){},c23d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("df41"),s=n("cd51"),a=n("4be4"),u=n("abfd"),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),h=new s.ErrorFactory("app","Firebase",c),l="@firebase/app",f="0.6.3",p="@firebase/analytics",d="@firebase/auth",v="@firebase/database",g="@firebase/functions",m="@firebase/installations",y="@firebase/messaging",b="@firebase/performance",w="@firebase/remote-config",_="@firebase/storage",E="@firebase/firestore",x="firebase-wrapper",T="[DEFAULT]",S=(i={},i[l]="fire-core",i[p]="fire-analytics",i[d]="fire-auth",i[v]="fire-rtdb",i[g]="fire-fn",i[m]="fire-iid",i[y]="fire-fcm",i[b]="fire-perf",i[w]="fire-rc",i[_]="fire-gcs",i[E]="fire-fst",i["fire-js"]="fire-js",i[x]="fire-js-all",i),I=new u.Logger("@firebase/app"),C=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),h=c.next();!h.done;h=c.next()){var l=h.value;this._addComponent(l)}}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=T),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=T),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){I.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw h.create("app-deleted",{appName:this.name_})},t}();C.prototype.name&&C.prototype.options||C.prototype.delete||console.log("dc");var A="7.14.3";
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t){var e={},n=new Map,r={__esModule:!0,initializeApp:l,app:c,registerVersion:d,setLogLevel:u.setLogLevel,onLog:v,apps:null,SDK_VERSION:A,INTERNAL:{registerComponent:p,removeApp:i,components:n,useAsService:g}};function i(t){delete e[t]}function c(t){if(t=t||T,!s.contains(e,t))throw h.create("no-app",{appName:t});return e[t]}function l(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=T);var u=a.name;if("string"!==typeof u||!u)throw h.create("bad-app-name",{appName:String(u)});if(s.contains(e,u))throw h.create("duplicate-app",{appName:u});var c=new t(n,a,r);return e[u]=c,c}function f(){return Object.keys(e).map((function(t){return e[t]}))}function p(i){var a,u,l=i.name;if(n.has(l))return I.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===i.type?r[l]:null;if(n.set(l,i),"PUBLIC"===i.type){var f=function(t){if(void 0===t&&(t=c()),"function"!==typeof t[l])throw h.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==i.serviceProps&&s.deepExtend(f,i.serviceProps),r[l]=f,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,l);return n.apply(this,i.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),d=p.next();!d.done;d=p.next()){var v=d.value;e[v]._addComponent(i)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return"PUBLIC"===i.type?r[l]:null}function d(t,e,n){var r,i=null!==(r=S[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void I.warn(u.join(" "))}p(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function v(t,e){if(null!==t&&"function"!==typeof t)throw h.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)}function g(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:f}),c["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(){var t=O(C);function e(e){s.deepExtend(t,e)}return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:k,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}var D=k(),N=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(P(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new N(t)}),"PRIVATE")),t.registerVersion(l,f,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(s.isBrowser()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var R=self.firebase.SDK_VERSION;R&&R.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var L=D.initializeApp;D.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&I.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),L.apply(void 0,t)};var j=D;M(j),e.default=j,e.firebase=j},c367:function(t,e,n){"use strict";var r=n("8436"),i=n("50ed"),o=n("481b"),s=n("36c3");t.exports=n("30f1")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return r(t,i)}},c7b2:function(t,e,n){"use strict";n.r(e),function(t){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.d(e,"ErrorCode",(function(){return pr})),n.d(e,"EventType",(function(){return dr})),n.d(e,"WebChannel",(function(){return vr})),n.d(e,"XhrIo",(function(){return gr})),n.d(e,"createWebChannelTransport",(function(){return fr}));var i,o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},a=o||self;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function f(t){return Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++d)}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g,m.apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}var E=0;_.prototype.j=!1,_.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0!=E))f(this)},_.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){t:{for(var e=Dn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function I(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var O,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var M=P.userAgent;if(M){O=M;break t}}O=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}function z(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}B[" "]=u;var F,U=D(O,"Opera"),q=D(O,"Trident")||D(O,"MSIE"),G=D(O,"Edge"),W=G||q,H=D(O,"Gecko")&&!(D(O.toLowerCase(),"webkit")&&!D(O,"Edge"))&&!(D(O,"Trident")||D(O,"MSIE"))&&!D(O,"Edge"),$=D(O.toLowerCase(),"webkit")&&!D(O,"Edge");function Y(){var t=a.document;return t?t.documentMode:void 0}t:{var X="",K=function(){var t=O;return H?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):U?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(X=K?K[1]:""),q){var Q=Y();if(null!=Q&&Q>parseFloat(X)){F=String(Q);break t}}F=X}var Z,J={};function tt(t){return z(t,(function(){for(var e=0,n=k(String(F)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==s[2].length,0==a[2].length)||N(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(a.document&&q){var et=Y();Z=et||(parseInt(F,10)||void 0)}else Z=void 0;var nt=Z,rt=!q||9<=Number(nt),it=q&&!tt("9"),ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{B(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},w(at,st);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),ht=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++ht,this.V=this.X=!1}function ft(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function pt(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}pt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var s=vt(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):(e=new lt(e,this.src,o,!!r,i),e.X=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function yt(t,e,n,r,i){if(r&&r.once)return _t(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[ct]?t.ra(e,n,l(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=l(i)?!!i.capture:!!i;if(s&&!rt)return null;var a=Ct(t);if(a||(t[gt]=a=new pt(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=wt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(){var t=It,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function _t(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);return null}return n=Ot(n),t&&t[ct]?t.sa(e,n,l(r)?!!r.capture:!!r,i):bt(t,e,n,!0,r,i)}function Et(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Et(t,e[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=Ot(n),t&&t[ct]?(t=t.c,e=String(e).toString(),e in t.a&&(o=t.a[e],n=vt(o,n,r,i),-1<n&&(ft(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ct(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vt(e,n,r,i)),(n=-1<t?e[t]:null)&&xt(n))}function xt(t){if("number"!==typeof t&&t&&!t.V){var e=t.src;if(e&&e[ct])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(dt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ft(t)}}}function Tt(t){return t in mt?mt[t]:mt[t]="on"+t}function St(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&xt(t),n.call(r,e)}function It(t,e){if(t.V)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}return e=new at(e,this),St(t,e)}return St(t,new at(e,this))}function Ct(t){return t=t[gt],t instanceof pt?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(t){return"function"==c(t)?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function kt(){_.call(this),this.c=new pt(this),this.J=this,this.A=null}function Dt(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&dt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}w(kt,_),kt.prototype[ct]=!0,i=kt.prototype,i.addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){Et(this,t,e,n,r)},i.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"===typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;t=new st(r,n),V(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Dt(s,r,!0,t)&&i}if(s=t.a=n,i=Dt(s,r,!0,t)&&i,i=Dt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.a=e[o],i=Dt(s,r,!1,t)&&i;return i},i.C=function(){if(kt.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.A=null},i.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nt=a.JSON.stringify;function Pt(){this.b=this.a=null}var Mt,Rt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new jt}),(function(t){t.reset()}),100);function Lt(){var t=Ut,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jt(){this.next=this.b=this.a=null}function Vt(t){a.setTimeout((function(){throw t}),0)}function Bt(t,e){Mt||zt(),Ft||(Mt(),Ft=!0),Ut.add(t,e)}function zt(){var t=a.Promise.resolve(void 0);Mt=function(){t.then(qt)}}Pt.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},jt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},jt.prototype.reset=function(){this.next=this.b=this.a=null};var Ft=!1,Ut=new Pt;function qt(){for(var t;t=Lt();){try{t.a.call(t.b)}catch(n){Vt(n)}var e=Rt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Ft=!1}function Gt(t,e){kt.call(this),this.b=t||1,this.a=e||a,this.f=m(this.Ua,this),this.g=b()}function Wt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ht(t,e,n){if("function"==c(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function $t(t,e,n){_.call(this),this.f=null!=n?m(t,n):t,this.c=e,this.b=m(this.Pa,this),this.a=[]}function Yt(t){t.T=Ht(t.b,t.c),t.f.apply(null,t.a)}function Xt(t){_.call(this),this.b=t,this.a={}}w(Gt,kt),i=Gt.prototype,i.Z=!1,i.L=null,i.Ua=function(){if(this.Z){var t=b()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Wt(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=b())},i.C=function(){Gt.M.C.call(this),Wt(this),delete this.a},w($t,_),i=$t.prototype,i.ba=!1,i.T=null,i.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Yt(this)},i.C=function(){$t.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Yt(this))},w(Xt,_);var Kt=[];function Qt(t,e,n,r){Array.isArray(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Zt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&xt(t)}),t),t.a={}}function Jt(){}Xt.prototype.C=function(){Xt.M.C.call(this),Zt(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=null;function ee(){return te=te||new kt}function ne(t){st.call(this,"serverreachability",t)}function re(t){var e=ee();e.dispatchEvent(new ne(e,t))}function ie(t){st.call(this,"statevent",t)}function oe(t){var e=ee();e.dispatchEvent(new ie(e,t))}function se(t){st.call(this,"timingevent",t)}function ae(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}w(ne,st),w(ie,st),w(se,st);var ue={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},ce={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function he(){}function le(t){var e;return(e=t.a)||(e=t.a={}),e}function fe(){}he.prototype.a=null;var pe,de={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ve(){st.call(this,"d")}function ge(){st.call(this,"c")}function me(){}function ye(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Xt(this),this.N=be,t=W?125:void 0,this.O=new Gt(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}w(ve,st),w(ge,st),w(me,he),pe=new me;var be=45e3,we={},_e={};function Ee(t,e,n){t.B=1,t.f=He(ze(e)),t.j=n,t.F=!0,xe(t,null)}function xe(t,e){t.s=b(),Ie(t),t.A=ze(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),un(n.b,"t",r),t.w=0,t.a=ir(t.g,t.g.w?e:null),0<t.J&&(t.D=new $t(m(t.ya,t,t.a),t.J)),Qt(t.G,t.a,"readystatechange",t.Sa),e=t.m?L(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),re(1)}function Te(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Se(t,n);if(i==_e){4==e&&(t.c=4,oe(14),r=!1);break}if(i==we){t.c=4,oe(15),r=!1;break}De(t,i)}4==e&&0==n.length&&(t.c=1,oe(16),r=!1),t.b=t.b&&r,r||(ke(t),Oe(t))}function Se(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?_e:(n=Number(e.substring(n,r)),isNaN(n)?we:(r+=1,r+n>e.length?_e:(e=e.substr(r,n),t.w=r+n,e)))}function Ie(t){t.P=b()+t.N,Ce(t,t.N)}function Ce(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=ae(m(t.Qa,t),e)}function Ae(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function Oe(t){0==t.g.u||t.l||Jn(t.g,t)}function ke(t){Ae(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Wt(t.O),Zt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function De(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||gn(n.b,t)))if(n.A=t.H,!t.o&&gn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Zn(n),n.a.cancel(),n.a=null}Qn(n),oe(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=ae(m(n.Na,n),6e3));if(1>=vn(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else er(n,11)}else if((t.o||n.a==t)&&Zn(n),!A(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"===typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(D(c,"spdy")||D(c,"quic")||D(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(mn(h,h.b),h.b=null))}if(a.s){var l=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.ha=l,We(a.v,a.s,l))}}n.u=3,n.c&&n.c.na(),a=n;var f=t;if(a.ea=rr(a,a.w?a.R:null,a.P),f.o){yn(a.b,f);var p=f,d=a.D;d&&p.setTimeout(d),p.h&&(Ae(p),Ie(p)),a.a=f}else Kn(a);0<n.f.length&&Wn(n)}else"stop"!=i[0]&&"close"!=i[0]||er(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?er(n,7):Un(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);re(4)}catch(v){}}function Ne(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ne(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Me(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Me)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Re(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Le(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Le(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Le(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i=ye.prototype,i.setTimeout=function(t){this.N=t},i.Sa=function(t){t=t.target;var e=this.D;e&&3==jn(t)?e.Ia():this.ya(t)},i.ya=function(t){try{if(t==this.a)t:{var e=jn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!W&&!this.a.Y())){this.l||4!=e||7==n||re(8==n||0>=r?3:2),Ae(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,oe(12),ke(this),Oe(this);break t}this.o=!0,De(this,u)}this.F?(Te(this,e,o),W&&this.b&&3==e&&(Qt(this.G,this.O,"tick",this.Ra),this.O.start())):De(this,o),4==e&&ke(this),this.b&&!this.l&&(4==e?Jn(this.g,this):(this.b=!1,Ie(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,oe(12)):(this.c=0,oe(13)),ke(this),Oe(this)}}}catch(c){}},i.Ra=function(){if(this.a){var t=jn(this.a),e=this.a.Y();this.w<e.length&&(Ae(this),Te(this,t,e),this.b&&4!=t&&Ie(this))}},i.cancel=function(){this.l=!0,ke(this)},i.Qa=function(){this.h=null;var t=b();0<=t-this.P?(2!=this.B&&(re(3),oe(17)),ke(this),this.c=2,Oe(this)):Ce(this,this.P-t)},i=Me.prototype,i.I=function(){Re(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Re(this),this.a.concat()},i.get=function(t,e){return Le(this.b,t)?this.b[t]:e},i.set=function(t,e){Le(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var je=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ve(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Be(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Be){this.a=void 0!==e?e:t.a,Fe(this,t.f),this.j=t.j,Ue(this,t.c),qe(this,t.h),this.g=t.g,e=t.b;var n=new rn;n.c=e.c,e.a&&(n.a=new Me(e.a),n.b=e.b),Ge(this,n),this.i=t.i}else t&&(n=String(t).match(je))?(this.a=!!e,Fe(this,n[1]||"",!0),this.j=Xe(n[2]||""),Ue(this,n[3]||"",!0),qe(this,n[4]),this.g=Xe(n[5]||"",!0),Ge(this,n[6]||"",!0),this.i=Xe(n[7]||"")):(this.a=!!e,this.b=new rn(null,this.a))}function ze(t){return new Be(t)}function Fe(t,e,n){t.f=n?Xe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ue(t,e,n){t.c=n?Xe(e,!0):e}function qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ge(t,e,n){e instanceof rn?(t.b=e,hn(t.b,t.a)):(n||(e=Ke(e,en)),t.b=new rn(e,t.a))}function We(t,e,n){t.b.set(e,n)}function He(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function $e(t){return t instanceof Be?ze(t):new Be(t,void 0)}function Ye(t,e,n,r){var i=new Be(null,void 0);return t&&Fe(i,t),e&&Ue(i,e),n&&qe(i,n),r&&(i.g=r),i}function Xe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ke(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ke(e,Ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ke(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ke(n,"/"==n.charAt(0)?tn:Je,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ke(n,nn)),t.join("")};var Ze=/[#\/\?@]/g,Je=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function on(t){t.a||(t.a=new Me,t.b=0,t.c&&Ve(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function sn(t,e){on(t),e=cn(t,e),Le(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Le(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Re(t)))}function an(t,e){return on(t),e=cn(t,e),Le(t.a.b,e)}function un(t,e,n){sn(t,e),0<n.length&&(t.c=null,t.a.set(cn(t,e),C(n)),t.b+=n.length)}function cn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function hn(t,e){e&&!t.f&&(on(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(sn(this,e),un(this,n,t))}),t)),t.f=e}function ln(t,e){this.b=t,this.a=e}function fn(t){this.g=t||pn,a.PerformanceNavigationTiming?(t=a.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}i=rn.prototype,i.add=function(t,e){on(this),this.c=null,t=cn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){on(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.K=function(){on(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.I=function(t){on(this);var e=[];if("string"===typeof t)an(this,t)&&(e=I(e,this.a.get(cn(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},i.set=function(t,e){return on(this),this.c=null,t=cn(this,t),an(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t?(t=this.I(t),0<t.length?String(t[0]):e):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var pn=10;function dn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function vn(t){return t.b?1:t.a?t.a.size:0}function gn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function mn(t,e){t.a?t.a.add(e):t.b=e}function yn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function bn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.i)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return C(t.c)}function wn(){}function _n(){this.a=new wn}function En(t,e,n){var r=n||"";try{Pe(t,(function(t,n){var i=t;l(t)&&(i=Nt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xn(t,e){var n=new Jt;if(a.Image){var r=new Image;r.onload=y(Tn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(Tn,n,r,"TestLoadImage: error",!1,e),r.onabort=y(Tn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(Tn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Tn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}fn.prototype.cancel=function(){var t,e;if(this.c=bn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},wn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},wn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var Sn=a.JSON.parse;function In(t){kt.call(this),this.headers=new Me,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=Cn,this.B=this.F=!1}w(In,kt);var Cn="",An=/^https?$/i,On=["POST","PUT"];function kn(t){return q&&tt(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Dn(t){return"content-type"==t.toLowerCase()}function Nn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pn(t),Rn(t)}function Pn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Mn(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=jn(t)||2!=t.S()))if(t.l&&4==jn(t))Ht(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==jn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.D).match(je)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!An.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<jn(t)?t.a.statusText:""}catch(h){c=""}t.f=c+" ["+t.S()+"]",Pn(t)}}finally{Rn(t)}}}function Rn(t,e){if(t.a){Ln(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Ln(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function jn(t){return t.a?t.a.readyState:0}function Vn(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Bn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Vn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function zn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fn(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=zn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=zn("baseRetryDelayMs",5e3,t),this.Ga=zn("retryDelaySeedMs",1e4,t),this.Da=zn("forwardChannelMaxRetries",2,t),this.ga=zn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new fn(t&&t.concurrentRequestLimit),this.ja=new _n,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Un(t){if(qn(t),3==t.u){var e=t.H++,n=ze(t.v);We(n,"SID",t.B),We(n,"RID",e),We(n,"TYPE","terminate"),Yn(t,n),e=new ye(t,e,void 0),e.B=2,e.f=He(ze(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=ir(e.g,null),e.a.$(e.f)),e.s=b(),Ie(e)}nr(t)}function qn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),Zn(t),t.b.cancel(),t.g&&("number"===typeof t.g&&a.clearTimeout(t.g),t.g=null)}function Gn(t,e){t.f.push(new ln(t.Fa++,e)),3==t.u&&Wn(t)}function Wn(t){dn(t.b)||t.g||(t.g=!0,Bt(t.xa,t),t.o=0)}function Hn(t,e){return!(vn(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=ae(m(t.xa,t,e),tr(t,t.o)),t.o++,!0))}function $n(t,e){var n;n=e?e.W:t.H++;var r=ze(t.v);We(r,"SID",t.B),We(r,"RID",n),We(r,"AID",t.G),Yn(t,r),t.h&&t.j&&Bn(r,t.h,t.j),n=new ye(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Xn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),mn(t.b,n),Ee(n,r,e)}function Yn(t,e){t.c&&Pe({},(function(t,n){We(e,n,t)}))}function Xn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?m(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(c-=o,0>c)o=Math.max(0,i[u].b-100),a=!1;else try{En(h,s,"req"+c+"_")}catch(l){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Kn(t){t.a||t.i||(t.J=1,Bt(t.wa,t),t.m=0)}function Qn(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=ae(m(t.wa,t),tr(t,t.m)),t.m++,!0)}function Zn(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Jn(t,e){var n=null;if(t.a==e){Zn(t),t.a=null;var r=2}else{if(!gn(t.b,e))return;n=e.i,yn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.s;var i=t.o;r=ee(),r.dispatchEvent(new se(r,n,e,i)),Wn(t)}else Kn(t);else if(i=e.c,3==i||0==i&&0<t.A||!(1==r&&Hn(t,e)||2==r&&Qn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:er(t,5);break;case 4:er(t,10);break;case 3:er(t,6);break;default:er(t,2)}}function tr(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function er(t,e){if(2==e){var n=null;t.c&&(n=null);var r=m(t.Ta,t);n||(n=new Be("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Fe(n,"https"),He(n)),xn(n.toString(),r)}else oe(2);t.u=0,t.c&&t.c.la(e),nr(t),qn(t)}function nr(t){t.u=0,t.A=-1,t.c&&(0==bn(t.b).length&&0==t.f.length||(t.b.c.length=0,C(t.f),t.f.length=0),t.c.ka())}function rr(t,e,n){var r=$e(n);if(""!=r.c)e&&Ue(r,e+"."+r.c),qe(r,r.h);else{var i=a.location;r=Ye(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&R(t.N,(function(t,e){We(r,e,t)})),e=t.s,n=t.ha,e&&n&&We(r,e,n),We(r,"VER",t.oa),Yn(t,r),r}function ir(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return e=new In(t.Ea),e.F=t.w,e}function or(){}function sr(){if(q&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function ar(t,e){kt.call(this),this.a=new Fn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.s=e,t=this.b,null!==t&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new hr(this)}function ur(t){ve.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function cr(){ge.call(this),this.status=1}function hr(t){this.a=t}i=In.prototype,i.$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?le(this.G):le(pe),this.a.onreadystatechange=m(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void Nn(this,o)}t=n||"";var i=new Me(this.headers);r&&Pe(r,(function(t,e){i.set(e,t)})),r=S(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=x(On,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ln(this),0<this.o&&((this.B=kn(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.ta,this)):this.m=Ht(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Nn(this,o)}},i.ta=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Rn(this,!0)),In.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?Mn(this):this.Oa())},i.Oa=function(){Mn(this)},i.S=function(){try{return 2<jn(this)?this.a.status:-1}catch(t){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},i.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},i.qa=function(){return this.h},i.Ma=function(){return"string"===typeof this.f?this.f:String(this.f)},i=Fn.prototype,i.oa=8,i.u=1,i.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random()),t=this.H++;var e,n=new ye(this,t,void 0),r=this.j;if(this.F&&(r?(r=L(r),V(r,this.F)):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(o="__data__"in o.a&&(o=o.a.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(e+=o,4096<e){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Xn(this,n,e),i=ze(this.v),We(i,"RID",t),We(i,"CVER",22),this.s&&We(i,"X-HTTP-Session-Id",this.s),Yn(this,i),this.h&&r&&Bn(i,this.h,r),mn(this.b,n),this.fa?(We(i,"$req",e),We(i,"SID","null"),n.R=!0,Ee(n,i,null)):Ee(n,i,e),this.u=2}}else 3==this.u&&(t?$n(this,t):0==this.f.length||dn(this.b)||$n(this))},i.wa=function(){this.i=null,this.a=new ye(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=ze(this.ea);We(t,"RID","rpc"),We(t,"SID",this.B),We(t,"CI",this.U?"0":"1"),We(t,"AID",this.G),Yn(this,t),We(t,"TYPE","xmlhttp"),this.h&&this.j&&Bn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=He(ze(t)),e.j=null,e.F=!0,xe(e,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Qn(this),oe(19))},i.Ta=function(t){oe(t?2:1)},i=or.prototype,i.na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},sr.prototype.a=function(t,e){return new ar(t,e)},w(ar,kt),i=ar.prototype,i.addEventListener=function(t,e,n,r){ar.M.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){ar.M.removeEventListener.call(this,t,e,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;oe(0),t.P=e,t.N=n||{},t.U=t.W,t.v=rr(t,null,t.P),Wn(t)},i.close=function(){Un(this.a)},i.La=function(t){if("string"===typeof t){var e={};e.__data__=t,Gn(this.a,e)}else this.g?(e={},e.__data__=Nt(t),Gn(this.a,e)):Gn(this.a,t)},i.C=function(){this.a.c=null,delete this.f,Un(this.a),delete this.a,ar.M.C.call(this)},w(ur,ve),w(cr,ge),w(hr,or),hr.prototype.na=function(){this.a.dispatchEvent("a")},hr.prototype.ma=function(t){this.a.dispatchEvent(new ur(t))},hr.prototype.la=function(t){this.a.dispatchEvent(new cr(t))},hr.prototype.ka=function(){this.a.dispatchEvent("b")},sr.prototype.createWebChannel=sr.prototype.a,ar.prototype.send=ar.prototype.La,ar.prototype.open=ar.prototype.Ka,ar.prototype.close=ar.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,ce.COMPLETE="complete",fe.EventType=de,de.OPEN="a",de.CLOSE="b",de.ERROR="c",de.MESSAGE="d",kt.prototype.listen=kt.prototype.ra,In.prototype.listenOnce=In.prototype.sa,In.prototype.getLastError=In.prototype.Ma,In.prototype.getLastErrorCode=In.prototype.qa,In.prototype.getStatus=In.prototype.S,In.prototype.getResponseJson=In.prototype.Ja,In.prototype.getResponseText=In.prototype.Y,In.prototype.send=In.prototype.$;var lr={createWebChannelTransport:function(){return new sr},ErrorCode:ue,EventType:ce,WebChannel:fe,XhrIo:In},fr=lr.createWebChannelTransport,pr=lr.ErrorCode,dr=lr.EventType,vr=lr.WebChannel,gr=lr.XhrIo;e["default"]=lr}.call(this,n("24aa"))},cb41:function(t,e,n){},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},cd51:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n("fbb0"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,l=h?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==l)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==l){var d=c<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t){return p(void 0,t)}function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=p(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function g(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function y(){return"object"===typeof self&&self.self===self}function b(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function _(){return v().indexOf("Electron/")>=0}function E(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x(){return v().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S="FirebaseError",I=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=S,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,C.prototype.create),i}return r.__extends(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?A(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new I(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}();function A(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=k(l(o[0])||""),n=k(l(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(s){}return{header:e,claims:n,data:r,signature:i}},P=function(t){var e=N(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e["nbf"]:e.hasOwnProperty("iat")&&(r=e["iat"]),i=e.hasOwnProperty("exp")?e["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},M=function(t){var e=N(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},R=function(t){var e=N(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},L=function(t){var e=N(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function B(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function z(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],s=o[0],a=o[1];n(s,a)}return e.length?"&"+e.join("&"):""}function U(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function G(t,e){var n=new W(t,e);return n.subscribe.bind(n)}var W=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=$(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function H(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function $(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function Y(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function K(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function Q(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(K(t,e,r)+"must be a valid firebase namespace.")}function Z(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(K(t,e,r)+"must be a valid function.")}function J(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(K(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},et=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.CONSTANTS=i,e.Deferred=d,e.ErrorFactory=C,e.FirebaseError=I,e.Sha1=q,e.assert=o,e.assertionError=s,e.async=H,e.base64=c,e.base64Decode=l,e.base64Encode=h,e.contains=j,e.createSubscribe=G,e.decode=N,e.deepCopy=f,e.deepExtend=p,e.errorPrefix=K,e.getUA=v,e.isAdmin=L,e.isBrowser=y,e.isBrowserExtension=b,e.isElectron=_,e.isEmpty=B,e.isIE=E,e.isMobileCordova=g,e.isNode=m,e.isNodeSdk=T,e.isReactNative=w,e.isUWP=x,e.isValidFormat=R,e.isValidTimestamp=P,e.issuedAtTime=M,e.jsonEval=k,e.map=z,e.querystring=F,e.querystringDecode=U,e.safeGet=V,e.stringLength=et,e.stringToByteArray=tt,e.stringify=D,e.validateArgCount=X,e.validateCallback=Z,e.validateContextObject=J,e.validateNamespace=Q}).call(this,n("24aa"))},cd78:function(t,e,n){var r=n("e4ae"),i=n("f772"),o=n("656e");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},d0e7:function(t,e,n){},d3ac:function(t,e,n){t.exports=n.p+"img/forest.a02795c2.png"},d701:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("div",{staticClass:"new-deck"},[n("div",{staticClass:"container v-center"},[n("h1",[t._v("Magic: Commander -> Deck List")]),n("p",[t._v("By jes")]),n("div",{staticClass:"new-deck-creator"},[n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.deckname,expression:"deckname"}],attrs:{type:"text",required:"",placeholder:"Name of your deck"},domProps:{value:t.deckname},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.preventDefault()},input:function(e){e.target.composing||(t.deckname=e.target.value)}}}),n("a",{staticClass:"button",attrs:{href:t._f("lowercase")(t.deckname),title:"Create new deck"}},[t._v("Create new deck")])])])])]),n("div",{staticClass:"container center"},[n("h2",[t._v("All made decks")]),n("ul",{staticClass:"all-libraries"},t._l(t.alllibraries,(function(e){return n("li",{key:e.active,staticClass:"library-decks"},[e.active?t._e():n("a",{attrs:{href:"/"+e.name}},[t._v(t._s(e.name))])])})),0)])])},i=[],o=(n("ac6a"),n("6b54"),n("69e0")),s={name:"App",components:{},data:function(){return{deckname:"",alllibraries:[]}},filters:{lowercase:function(t){return t?(t=t.toString(),t.toLowerCase()):""}},created:function(){},methods:{getLibraries:function(){var t=this;o["b"].get().then((function(e){e.forEach((function(e){if(e.exists&&t.$router.app._route.params.library!=e.id){var n={name:e.id,active:!1};t.alllibraries.push(n)}}))}))}},firestore:function(){},mounted:function(){this.getLibraries()}},a=s,u=(n("6cd4"),n("2877")),c=n("6544"),h=n.n(c),l=n("7496"),f=Object(u["a"])(a,r,i,!1,null,"6222ec78",null);e["default"]=f.exports;h()(f,{VApp:l["a"]})},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),o=n("1bc3"),s=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},da37:function(t,e,n){},db22:function(t,e,n){t.exports=n.p+"img/mana-b.1cf022b1.png"},db6d:function(t,e,n){},dbdb:function(t,e,n){var r=n("584a"),i=n("e53d"),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},df41:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){a("next",t)}function h(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e69c:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("div",[n("div",{staticClass:"gamepad",style:{backgroundImage:"url("+t.settings.playmat+")"},attrs:{dark:""}},[n("div",{staticClass:"library"}),n("div",{staticClass:"actions"},[t.gameStarted?n("span",{staticClass:"draw",on:{click:function(e){return t.Draw()}}},[t._v("Draw")]):t._e(),t.gameStarted?t._e():n("span",{staticClass:"draw-hand",on:{click:function(e){return t.DrawHand()}}},[t._v("Draw Hand")]),n("span",{staticClass:"shuffle-library",on:{click:function(e){return t.ShuffleLibrary()}}},[t._v("Shuffle Library")]),n("span",{staticClass:"scry"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.scrynumber,expression:"scrynumber"}],attrs:{type:"number"},domProps:{value:t.scrynumber},on:{input:function(e){e.target.composing||(t.scrynumber=e.target.value)}}}),n("span",{on:{click:function(e){return t.Scry(t.scrynumber)}}},[t._v("Scry")])]),t.searchingLibrary?t._e():n("span",{staticClass:"search-library",on:{click:function(e){return t.SearchLibrary()}}},[t._v("Search Library")]),t.searchingLibrary?n("span",{staticClass:"search-library",on:{click:function(e){return t.StopSearchingLibrary()}}},[t._v("Stop Searching Library")]):t._e(),t.showingHand?t._e():n("span",{staticClass:"hide-hand",on:{click:function(e){return t.HideHand()}}},[t._v("Hide Hand")]),t.showingHand?n("span",{staticClass:"show-hand",on:{click:function(e){return t.ShowHand()}}},[t._v("Show Hand")]):t._e()]),t.scry.length>0?n("div",{staticClass:"scrying"},[n("div",{staticClass:"card-wrapper"},t._l(t.scry,(function(t){return n("HandCard",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,source:"library"}})})),1),n("span",{staticClass:"remove-scry",on:{click:function(e){return t.StopScrying()}}},[t._v("Stop Scrying")])]):t._e(),n("div",{staticClass:"hand"},[n("div",{staticClass:"game-info"},[n("span",[t._v("Library Size: "+t._s(t.library.length))]),t.hand.length>0?n("span",[t._v("Hand Size: "+t._s(t.hand.length))]):t._e()]),n("div",{staticClass:"hand-wrapper"},t._l(t.hand,(function(e){return n("HandCard",{key:e.id,attrs:{id:e.id,name:e.name,image:e.image,hidden:t.showingHand,isPlayed:!1,source:"hand"}})})),1)]),n("div",{staticClass:"on-battlefield"},[n("h3",[t._v("Played Cards")]),n("div",{staticClass:"played-list"},t._l(t.playedCards,(function(t){return n("HandCard",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,isPlayed:!0}})})),1)])])]),t.searchingLibrary?n("div",{staticClass:"library"},[n("span",[t._v("Stop Searching")]),n("div",{staticClass:"library-wrapper"},t._l(t.library,(function(t){return n("HandCard",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,isSearching:!0}})})),1)]):t._e()])},i=[],o=(n("ac6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card",on:{click:function(e){return t.PlayCard(t.id,t.isPlayed)}}},[t.isSearching?t._e():r("figure",{class:{hidden:1==t.hidden}},[r("div",{staticClass:"card-face front"},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})]),r("div",{staticClass:"card-face back"},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("922f")}})]),r("div",{staticClass:"hand-card-actions"},[t.isSearching?t._e():r("span",{staticClass:"top-deck",on:{click:function(e){return t.PutCardTop(t.id,t.source)}}},[t._v("Top")]),t.isSearching?t._e():r("span",{staticClass:"bottom-deck",on:{click:function(e){return t.PutCardBottom(t.id,t.source)}}},[t._v("Bottom")])])]),t.isSearching?r("figure",{on:{click:function(e){return t.SearchedForCard(t.id)}}},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})]):t._e()])}),s=[],a=n("9e77"),u=n.n(a),c=n("69e0"),h=void 0,l={name:"Card",props:["image","name","id","type","commander","isSearching","hidden","isPlayed","source"],components:{Moveable:u.a},data:function(){return{moveable:{draggable:!0,throttleDrag:0,resizable:!1,throttleResize:1,keepRatio:!0,scalable:!1,throttleScale:0,rotatable:!1,throttleRotate:0},hiddenCards:h.$parent.showingHand,cardIndex:16,tappedCard:!1,modifier:null,showModifier:!1,modifiersign:null}},methods:{PlayCard:function(t,e){e?this.$parent.$parent.UndoPlaying(t):this.$parent.$parent.PlayingCard(t)},SearchedForCard:function(t){this.$parent.$parent.AddToHand(t)},PutCardTop:function(t,e){this.$parent.$parent.CardLibraryTop(t,e)},PutCardBottom:function(t,e){this.$parent.$parent.CardLibraryBottom(t,e)},IncreaseIndex:function(){this.cardIndex++},handleDrag:function(t){var e=t.target,n=t.left,r=t.right,i=t.top;e.classList.add("active"),e.style.zIndex=this.cardIndex,0==this.commander?e.style.left="".concat(n,"px"):e.style.right="".concat(r,"px"),e.style.top="".concat(i,"px")}}},f=l,p=(n("ab72"),n("2877")),d=Object(p["a"])(f,o,s,!1,null,"5d9bbe42",null),v=d.exports,g={name:"App",components:{HandCard:v},data:function(){return{library:[],hand:[],playedCards:[],scry:[],scrynumber:1,gameStarted:!1,searchingLibrary:!1,showingHand:!1}},created:function(){},methods:{PlayingCard:function(t){var e=this;this.hand.forEach((function(n){if(n.id==t){e.playedCards.push(n);var r=e.hand.indexOf(n);e.hand.splice(r,1)}}))},UndoPlaying:function(t){var e=this;this.playedCards.forEach((function(n){if(n.id==t){var r=e.playedCards.indexOf(n);e.hand.push(n),e.playedCards.splice(r,1)}}))},HideHand:function(){console.log("Hiding Hand"),this.showingHand=!0},ShowHand:function(){this.showingHand=!1},SearchLibrary:function(){this.searchingLibrary=!0,c["c"].doc().set({owner:this.$router.app._route.params.library,text:"searched their library",timeStamp:c["a"].firestore.Timestamp.fromDate(new Date)})},StopSearchingLibrary:function(){this.searchingLibrary=!1},AddToHand:function(t){var e=this;this.library.forEach((function(n){if(n.id==t){var r=n,i=e.library.indexOf(r);e.library.splice(i,1),e.hand.push(r),e.searchingLibrary=!1}}))},CardLibraryTop:function(t,e){var n=this;"hand"==e?this.hand.forEach((function(e){if(e.id==t){var r=e,i=n.hand.indexOf(r);n.hand.splice(i,1),n.library.unshift(r)}})):"library"==e?(this.library.forEach((function(e){if(e.id==t){var r=e,i=n.library.indexOf(r);n.library.splice(i,1),n.library.unshift(r)}})),this.scry.forEach((function(e){if(e.id==t){var r=e,i=n.scry.indexOf(r);n.scry.splice(i,1)}}))):console.log("Error. Contact Jes. Source of card could not be read. Function Top Card")},CardLibraryBottom:function(t,e){var n=this;"hand"==e?this.hand.forEach((function(e){if(e.id==t){var r=e,i=n.hand.indexOf(r);n.hand.splice(i,1),n.library.push(r)}})):"library"==e?(this.library.forEach((function(e){if(e.id==t){var r=e,i=n.library.indexOf(r);n.library.splice(i,1),n.library.push(r)}})),this.scry.forEach((function(e){if(e.id==t){var r=e,i=n.scry.indexOf(r);n.scry.splice(i,1)}}))):console.log("Error. Contact Jes. Source of card could not be read. Function Bottom Card")},Scry:function(t){var e;for(e=0;e<t;e++)this.scry.push(this.library[e]);c["c"].doc().set({owner:this.$router.app._route.params.library,text:"has scryed for "+t,timeStamp:c["a"].firestore.Timestamp.fromDate(new Date)})},StopScrying:function(){this.scrynumber=1,this.scry=[]},ShuffleLibrary:function(){this.Shuffle(this.library),c["c"].doc().set({owner:this.$router.app._route.params.library,text:"shuffled their library",timeStamp:c["a"].firestore.Timestamp.fromDate(new Date)})},Draw:function(){this.hand.push(this.library[0]),this.RemoveCard(),c["c"].doc().set({owner:this.$router.app._route.params.library,text:"draws a card",timeStamp:c["a"].firestore.Timestamp.fromDate(new Date)})},DrawHand:function(){this.hand.push(this.library[0],this.library[1],this.library[2],this.library[3],this.library[4],this.library[5],this.library[6]),this.RemoveOpeningHand(),this.gameStarted=!0},RemoveCard:function(){this.library.splice(0,1)},RemoveOpeningHand:function(){this.library.splice(0,7)},Shuffle:function(t){var e,n,r;for(r=t.length-1;r>0;r--)e=Math.floor(Math.random()*(r+1)),n=t[r],t[r]=t[e],t[e]=n;return t}},firestore:function(){return{library:c["b"].doc(this.$router.app._route.params.library).collection("cards").orderBy("name"),settings:c["b"].doc(this.$router.app._route.params.library)}},mounted:function(){this.Shuffle(this.library)}},m=g,y=(n("4308"),n("6544")),b=n.n(y),w=n("7496"),_=Object(p["a"])(m,r,i,!1,null,"32d0fd10",null);e["default"]=_.exports;b()(_,{VApp:w["a"]})},e6f3:function(t,e,n){var r=n("07e3"),i=n("36c3"),o=n("5b4e")(!1),s=n("5559")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);while(e.length>u)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},e89a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("a2cd"),o=(r=n("c23d"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("abfd"),a=n("cd51"),u=n("4be4"),c=n("c7b2"),h=o.SDK_VERSION,l=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();l.UNAUTHENTICATED=new l(null),l.i=new l("google-credentials-uid"),l.h=new l("first-party-uid");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(e,t),e}(Error),d=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},v=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(l.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),g=function(){function t(t){var e=this;this.I=null,this.currentUser=l.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new p(f.ABORTED,"getToken aborted due to token change.");return n?(_e("string"==typeof n.accessToken),new d(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new l(t)},t}(),m=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=l.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new m(this.P,this.V))},t.prototype.l=function(t){t(l.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new p(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new p(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new p(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Te(this.nanoseconds,t.nanoseconds):Te(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),w=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new b(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&we(),void 0===n?n=t.length-e:n>t.length-e&&we(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.k(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.$=function(t){return t=void 0===t?1:t,this.k(this.segments,this.offset+t,this.length-t)},t.prototype.M=function(){return this.k(this.segments,this.offset,this.length-1)},t.prototype.L=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.k=function(t,n,r){return new e(t,n,r)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new p(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(_);E.G=new E([]);var x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.k=function(t,n,r){return new e(t,n,r)},e.H=function(t){return x.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new p(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new p(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new p(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(_);T.G=new T([]);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var S=function(){function t(t){this.path=t}return t.Z=function(e){return new t(E.K(e).$(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===E.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return E.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new E(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */S.EMPTY=new S(new E([]));var O=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(pe.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return pe.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return Te(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function k(t){return null==t}function D(t){return-0===t&&1/t==-1/0}function N(t){return"number"==typeof t&&Number.isInteger(t)&&!D(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function M(t){var e=U(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */O.ht=new O("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P(t)?4:10:we()}function j(t,e){var n=L(t);if(n!==L(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return M(t).isEqual(M(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=U(t.timestampValue),r=U(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return G(t.bytesValue).isEqual(G(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return q(t.geoPointValue.latitude)===q(e.geoPointValue.latitude)&&q(t.geoPointValue.longitude)===q(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return q(t.integerValue)===q(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=q(t.doubleValue),r=q(e.doubleValue);return n===r?D(n)===D(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Se(t.arrayValue.values||[],e.arrayValue.values||[],j);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!j(n[i],r[i])))return!1;return!0}(t,e);default:return we()}}function V(t,e){return void 0!==(t.values||[]).find((function(t){return j(t,e)}))}function B(t,e){var n=L(t),r=L(e);if(n!==r)return Te(n,r);switch(n){case 0:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=q(t.integerValue||t.doubleValue),r=q(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return z(t.timestampValue,e.timestampValue);case 4:return z(M(t),M(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(t,e){var n=G(t),r=G(e);return n.S(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Te(n[i],r[i]);if(0!==o)return o}return Te(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Te(q(t.latitude),q(e.latitude));return 0!==n?n:Te(q(t.longitude),q(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=B(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Te(r[s],o[s]);if(0!==a)return a;var u=B(n[r[s]],i[o[s]]);if(0!==u)return u}return Te(r.length,o.length)}(t.mapValue,e.mapValue);default:throw we()}}function z(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Te(t,e);var n=U(t),r=U(e),i=Te(n.seconds,r.seconds);return 0!==i?i:Te(n.nanos,r.nanos)}function F(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=U(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?G(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,S.Z(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):we();var n,r}(t)}function U(t){if(_e(!!t),"string"==typeof t){var e=0,n=R.exec(t);if(_e(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:q(t.seconds),nanos:q(t.nanos)}}function q(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function G(t){return"string"==typeof t?O.fromBase64String(t):O.fromUint8Array(t)}function W(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function H(t){return!!t&&"integerValue"in t}function $(t){return!!t&&"arrayValue"in t}function Y(t){return!!t&&"nullValue"in t}function X(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function K(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();Q.instance=new Q;var Z=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e.some((function(e){return j(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Se(this.elements,e.elements,j)},t}(),J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e=e.filter((function(e){return!j(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Se(this.elements,e.elements,j)},t}(),tt=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return H(n)&&H(this.ct)?this.serializer._t(r):this.serializer.lt(r)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return H(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&j(this.ct,e.ct)},t.prototype.asNumber=function(t){return q(t.integerValue||t.doubleValue)},t}();function et(t){return $(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=function(){function t(t){this.fields=t,t.sort(T.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return Se(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),it=function(t,e){this.version=t,this.transformResults=e},ot=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof yt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof yt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),st=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof yt?t.version:w.min()},t}(),at=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Rt=r,i.type=0,i}return i.__extends(e,t),e.prototype.at=function(t,e){this.It(t);var n=e.version;return new yt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t);return new yt(this.key,r,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(st),ut=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new wt(this.key,e.version);var n=this.gt(t);return new yt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=st.wt(t),i=this.gt(t);return new yt(this.key,r,i,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof yt?t.data():ft.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new pt(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},e}(st),ct=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Rt=ot.exists(!0),r}return i.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),_e(null!=e.transformResults),!this.Rt.Et(t))return new wt(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new yt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new yt(this.key,r.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof yt?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new pt).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Se(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];_e(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof yt&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},e.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof yt&&(u=e.field(s.field)),null===u&&n instanceof yt&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},e.prototype.St=function(t,e){for(var n=new pt(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.yt()},e}(st),ht=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=3,r}return i.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new bt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new bt(this.key,w.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),lt=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=4,r}return i.__extends(e,t),e.prototype.at=function(t,e){we()},e.prototype.ot=function(t,e,n){we()},e.prototype.Pt=function(t){we()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),ft=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!K(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return j(this.proto,t.proto)},t}(),pt=function(){function t(t){void 0===t&&(t=ft.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===L(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.kt(T.G,this.Ft);return null!=t?new ft(t):this.Ct},t.prototype.kt=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=K(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.kt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function dt(t){var e=[];return C(t.fields||{},(function(t,n){var r=new T([t]);if(K(n)){var i=dt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new nt(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vt,gt,mt=function(t,e){this.key=t,this.version=e},yt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).$t=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(e,t),e.prototype.field=function(t){return this.$t.field(t)},e.prototype.data=function(){return this.$t},e.prototype.Mt=function(){return this.$t.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.$t.isEqual(t.$t)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.$t.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(mt),bt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),_t=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Lt=null}return t.prototype.canonicalId=function(){if(null===this.Lt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),k(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Lt=t}return this.Lt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),k(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Ot=function(){return S.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Et=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new kt(t)),this.qt.push(new kt(T.J(),"asc"));else{for(var n=!1,r=0,i=this.xt;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=this.xt.length>0?this.xt[this.xt.length-1].dir:"asc";this.qt.push(new kt(T.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.xt.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.xt.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.xt.length||1===this.xt.length&&this.xt[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!k(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!k(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.xt.length>0?this.xt[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof xt&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof xt&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Ot=function(){return this.ee().Ot()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new _t(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new kt(r.field,i))}var o=this.endAt?new Ot(this.endAt.position,!this.endAt.before):null,s=this.startAt?new Ot(this.startAt.position,!this.startAt.before):null;this.Ut=new _t(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):S.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.xt;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),xt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return i.__extends(e,t),e.create=function(t,n,r){if(t.Y())return"in"===n?new St(t,r):new Tt(t,n,r);if(Y(r)){if("=="!==n)throw new p(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(X(r)){if("=="!==n)throw new p(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new It(t,r):"in"===n?new Ct(t,r):"array-contains-any"===n?new At(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&L(this.value)===L(e)&&this.de(B(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return we()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+F(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&j(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+F(this.value)},e}((function(){})),Tt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=S.Z(r.referenceValue),i}return i.__extends(e,t),e.prototype.matches=function(t){var e=S.N(t.key,this.key);return this.de(e)},e}(xt),St=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return S.Z(t.referenceValue)})),r}return i.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xt),It=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return $(e)&&V(e.arrayValue,this.value)},e}(xt),Ct=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&V(this.value.arrayValue,e)},e}(xt),At=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return i.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!$(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return V(e.value.arrayValue,t)}))},e}(xt),Ot=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return F(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?S.N(S.Z(o.referenceValue),e.key):B(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!j(this.position[e],t.position[e]))return!1;return!0},t}(),kt=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?S.N(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?B(r,i):we()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return we()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Dt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=w.min()),void 0===o&&(o=w.min()),void 0===s&&(s=O.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),Nt=function(t){this.count=t};function Pt(t){switch(t){case f.OK:return we();case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return we()}}function Mt(t){if(void 0===t)return ye("GRPC error has no .code"),f.UNKNOWN;switch(t){case vt.OK:return f.OK;case vt.CANCELLED:return f.CANCELLED;case vt.UNKNOWN:return f.UNKNOWN;case vt.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case vt.INTERNAL:return f.INTERNAL;case vt.UNAVAILABLE:return f.UNAVAILABLE;case vt.UNAUTHENTICATED:return f.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case vt.NOT_FOUND:return f.NOT_FOUND;case vt.ALREADY_EXISTS:return f.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return f.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case vt.ABORTED:return f.ABORTED;case vt.OUT_OF_RANGE:return f.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return f.UNIMPLEMENTED;case vt.DATA_LOSS:return f.DATA_LOSS;default:return we()}}(gt=vt||(vt={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rt=function(){function t(t,e){this.N=t,this.root=e||jt.EMPTY}return t.prototype.Ae=function(e,n){return new t(this.N,this.root.Ae(e,n,this.N).me(null,null,jt.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).me(null,null,jt.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Lt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Lt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Lt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Lt(this.root,t,this.N,!0)},t}(),Lt=function(){function t(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.ke=function(){return this.Fe.length>0},t.prototype.$e=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),jt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.me=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.Ae=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.me(null,null,null,r.left.Ae(t,e,n),null):0===i?r.me(null,e,null,null,null):r.me(null,null,null,null,r.right.Ae(t,e,n))).Me()},t.prototype.Le=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.xe()),(e=e.me(null,null,null,e.left.Le(),null)).Me()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.B()||i.left.Oe()||i.left.left.Oe()||(i=i.xe()),i=i.me(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Be()),i.right.B()||i.right.Oe()||i.right.left.Oe()||(i=i.qe()),0===n(e,i.key)){if(i.right.B())return t.EMPTY;r=i.right.min(),i=i.me(r.key,r.value,null,null,i.right.Le())}i=i.me(null,null,null,null,i.right.remove(e,n))}return i.Me()},t.prototype.Oe=function(){return this.color},t.prototype.Me=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},t.prototype.xe=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.me(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.me(null,null,t.RED,null,this.right.left);return this.right.me(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.me(null,null,t.RED,this.left.right,null);return this.left.me(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.me(null,null,!this.left.color,null,null),e=this.right.me(null,null,!this.right.color,null,null);return this.me(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw we();if(this.right.Oe())throw we();var t=this.left.je();if(t!==this.right.je())throw we();return t+(this.Oe()?0:1)},t}();jt.EMPTY=null,jt.RED=!0,jt.Pe=!1,jt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw we()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw we()},enumerable:!0,configurable:!0}),t.prototype.me=function(t,e,n,r,i){return this},t.prototype.Ae=function(t,e,n){return new jt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vt=function(){function t(t){this.N=t,this.data=new Rt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.ke();){var r=n.Ne();if(this.N(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.ke();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.ke()?e.Ne().key:null},t.prototype.be=function(){return new Bt(this.data.be())},t.prototype.ve=function(t){return new Bt(this.data.ve(t))},t.prototype.add=function(t){return this.me(this.data.remove(t).Ae(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.me(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),r=e.data.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.me=function(e){var n=new t(this.N);return n.data=e,n},t}(),Bt=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.ke=function(){return this.Ye.ke()},t}(),zt=new Rt(S.N);function Ft(){return zt}function Ut(){return Ft()}var qt=new Rt(S.N);function Gt(){return qt}var Wt=new Rt(S.N);function Ht(){return Wt}var $t=new Vt(S.N);function Yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$t,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Xt=new Vt(Te);function Kt(){return Xt}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function t(t){this.N=t?function(e,n){return t(e,n)||S.N(e.key,n.key)}:function(t,e){return S.N(t.key,e.key)},this.Je=Gt(),this.Xe=new Rt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.me(e.Je.Ae(t.key,t),e.Xe.Ae(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.me(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),r=e.Xe.be();n.ke();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.me=function(e,n){var r=new t;return r.N=this.N,r.Je=e,r.Xe=n,r},t}(),Zt=function(){function t(){this.ts=new Rt(S.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.Ae(e,t):3===t.type&&1!==n.type?this.ts=this.ts.Ae(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.Ae(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):we():this.ts=this.ts.Ae(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Jt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}return t.os=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Qt.Ze(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),te=function(){function t(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}return t.ls=function(e,n){var r=new Map;return r.set(e,ee.ds(e,n)),new t(w.min(),r,Kt(),Ft(),Yt())},t}(),ee=function(){function t(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}return t.ds=function(e,n){return new t(O.ht,n,Yt(),Yt(),Yt())},t}(),ne=function(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r},re=function(t,e){this.targetId=t,this.As=e},ie=function(t,e,n,r){void 0===n&&(n=O.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oe=function(){function t(){this.ms=0,this.Ps=ue(),this.Vs=O.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.ms},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Yt(),e=Yt(),n=Yt();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:we()}})),new ee(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=ue()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.Ae(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.ms+=1},t.prototype.ks=function(){this.ms-=1},t.prototype.$s=function(){this.ps=!0,this.gs=!0},t}(),se=function(){function t(t){this.Ms=t,this.Ls=new Map,this.Os=Ft(),this.xs=ae(),this.Bs=new Vt(Te)}return t.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof yt?this.Us(r,t.Rs):t.Rs instanceof bt&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Qs(s,t.key,t.Rs)}},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.ks(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.ks(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.$s(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:we()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ls.forEach((function(t,r){n.Gs(r)&&e(r)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.As.count,r=this.Ys(e);if(r){var i=r.target;if(i.Ot())if(0===n){var o=new S(i.path);this.Qs(e,o,new bt(o,w.min()))}else _e(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.Ls.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.Ot()){var s=new S(o.target.path);null!==e.Os.get(s)||e.Zs(i,s)||e.Qs(i,s,new bt(s,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Yt();this.xs.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new te(t,n,this.Bs,this.Os,r);return this.Os=Ft(),this.xs=ae(),this.Bs=new Vt(Te),i},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.Os=this.Os.Ae(e.key,e),this.xs=this.xs.Ae(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.xs=this.xs.Ae(e,this.ti(e).delete(t)),n&&(this.Os=this.Os.Ae(e,n))}},t.prototype.removeTarget=function(t){this.Ls.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ms.ei(t).size+e.Ts.size-e.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.Ls.get(t);return e||(e=new oe,this.Ls.set(t,e)),e},t.prototype.ti=function(t){var e=this.xs.get(t);return e||(e=new Vt(Te),this.xs=this.xs.Ae(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||me("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.Ls.get(t);return e&&e.ys?null:this.Ms.si(t)},t.prototype.zs=function(t){var e=this;this.Ls.set(t,new oe),this.Ms.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ms.ei(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(){return new Rt(S.N)}function ue(){return new Rt(S.N)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce={asc:"ASCENDING",desc:"DESCENDING"},he={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},le=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?f.UNKNOWN:Mt(t.code);return new p(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||k(t)?t:{value:t}},t.prototype.oi=function(t){var e;return k(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D(t)?"-0":t}},t.prototype.ai=function(t){return N(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=U(t);return new b(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(_e(void 0===t||"string"==typeof t),O.fromBase64String(t||"")):(_e(void 0===t||t instanceof Uint8Array),O.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return _e(!!t),w.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=E.K(t);return _e(fe(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return _e(e.get(1)===this.ii.projectId),_e(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new S(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?E.G:this.Ti(e)},Object.defineProperty(t.prototype,"wi",{get:function(){return new E(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new E(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return _e(t.length>4&&"documents"===t.get(4)),t.$(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.Ai=function(t){return{name:this.fi(t.key),fields:t.Mt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.mi=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new ft({mapValue:{fields:t.fields}});return new yt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){_e(!!t.found),t.found.name,t.found.updateTime;var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new ft({mapValue:{fields:t.found.fields}});return new yt(e,n,r,{})},t.prototype.Vi=function(t){_e(!!t.missing),_e(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new bt(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):we()},t.prototype.pi=function(t){var e;if("targetChange"in t){t.targetChange;var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);e=new ie(n,r,i,s||null)}else if("documentChange"in t){t.documentChange;var a=t.documentChange;a.document,a.document.name,a.document.updateTime;var u=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),h=new ft({mapValue:{fields:a.document.fields}}),l=new yt(u,c,h,{}),f=a.targetIds||[],p=a.removedTargetIds||[];e=new ne(f,p,l.key,l)}else if("documentDelete"in t){t.documentDelete;var d=t.documentDelete;d.document;var v=this.Z(d.document),g=d.readTime?this.fromVersion(d.readTime):w.min(),m=new bt(v,g),y=d.removedTargetIds||[];e=new ne([],y,m.key,m)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=this.Z(b.document),E=b.removedTargetIds||[];e=new ne([],E,_,null)}else{if(!("filter"in t))return we();t.filter;var x=t.filter;x.targetId;var T=x.count||0,S=new Nt(T),I=x.targetId;e=new re(I,S)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:we()},t.prototype.bi=function(t){if(!("targetChange"in t))return w.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?w.min():e.readTime?this.fromVersion(e.readTime):w.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof at)e={update:this.Ri(t.key,t.value)};else if(t instanceof ht)e={delete:this.fi(t.key)};else if(t instanceof ut)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ct)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof lt))return we();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):ot.ft();if(t.update){t.update.name;var r=this.Z(t.update.name),i=new ft({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.ki(t.updateMask);return new ut(r,i,o,n)}return new at(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new ht(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.$i(t)}));return _e(!0===n.exists),new ct(a,u)}if(t.verify){var c=this.Z(t.verify);return new lt(c,n)}return we()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:we()},t.prototype.Ni=function(t){return void 0!==t.updateTime?ot.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ot.exists(t.exists):ot.ft()},t.prototype.Mi=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(w.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new it(n,r)},t.prototype.Li=function(t,e){var n=this;return t&&t.length>0?(_e(void 0!==e),t.map((function(t){return n.Mi(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof Q)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof Z)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof J)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof tt)return{fieldPath:t.field.j(),increment:e.ct};throw we()},t.prototype.$i=function(t){var e=null;if("setToServerValue"in t)_e("REQUEST_TIME"===t.setToServerValue),e=Q.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new Z(n)}else if("removeAllFromArray"in t){var r=t.removeAllFromArray.values||[];e=new J(r)}else"increment"in t?e=new tt(this,t.increment):we();var i=T.X(t.fieldPath);return new rt(i,e)},t.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.xi=function(t){_e(1===t.documents.length);var e=t.documents[0];return Et.Wt(this.Ii(e)).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.M()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var u=null;n.limit&&(u=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var h=null;return n.endAt&&(h=this.Gi(n.endAt)),new Et(e,i,a,s,u,"F",c,h).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.Ot()?{documents:this.Oi(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof xt?e.Yi(t):we()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):we():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){var e=!!t.before,n=t.values||[];return new Ot(n,e)},t.prototype.en=function(t){return ce[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return he[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return T.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new kt(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return xt.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if(X(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(Y(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return xt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return xt.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.ki=function(t){var e=t.fieldPaths||[];return new nt(e.map((function(t){return T.X(t)})))},t}();function fe(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe=function(){function t(){}return t.an=function(e){t.platform&&we(),t.platform=e},t.nt=function(){return t.platform||we(),t.platform},t}(),de=new s.Logger("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return de.logLevel}function ge(t){de.logLevel=t}function me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=s.LogLevel.DEBUG){var r=e.map(be);de.debug.apply(de,i.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function ye(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(de.logLevel<=s.LogLevel.ERROR){var r=e.map(be);de.error.apply(de,i.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function be(t){if("string"==typeof t)return t;var e=pe.nt();try{return e.un(t)}catch(e){return t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw ye(e),new Error(e)}function _e(t,e){t||we()}function Ee(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pe.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Te(t,e){return t<e?-1:t>e?1:0}function Se(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ie(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ae=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return Te(this.projectId,t.projectId)||Te(this.database,t.database)},t}(),Oe=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.B=function(){return A(this.fn)},t}(),ke=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.at(e,s)}}return e},t.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.Ae(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Yt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Se(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Se(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),De=function(){function t(t,e,n,r,i){this.batch=t,this.wn=e,this.En=n,this.streamToken=r,this.Rn=i}return t.from=function(e,n,r,i){_e(e.mutations.length===r.length);for(var o=Ht(),s=e.mutations,a=0;a<s.length;a++)o=o.Ae(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Ne=function(){function t(t){var e=this;this.An=null,this.mn=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){e.Pn=!0,e.result=t,e.An&&e.An(t)}),(function(t){e.Pn=!0,e.error=t,e.mn&&e.mn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&we(),this.Vn=!0,this.Pn?this.error?this.gn(n,this.error):this.pn(e,this.result):new t((function(t,i){r.An=function(n){r.pn(e,n).next(t,i)},r.mn=function(e){r.gn(n,e).next(t,i)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.bn((function(){return e(n)})):t.resolve(n)},t.prototype.gn=function(e,n){return e?this.bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.vn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Sn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.vn(r)},t}(),Pe=function(){function t(){this.Dn=new Oe((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,e){this.kn(),this.readTime=e,this.Dn.set(t.key,t)},t.prototype.$n=function(t,e){this.kn(),e&&(this.readTime=e),this.Dn.set(t,null)},t.prototype.Mn=function(t,e){this.kn();var n=this.Dn.get(e);return void 0!==n?Ne.resolve(n):this.Ln(t,e)},t.prototype.getEntries=function(t,e){return this.On(t,e)},t.prototype.apply=function(t){return this.kn(),this.Cn=!0,this.xn(t)},t.prototype.kn=function(){},t}(),Me="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Re=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Le=function(){function t(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}return t.prototype.Kn=function(t,e){var n=this;return this.Wn.Gn(t,e).next((function(r){return n.zn(t,e,r)}))},t.prototype.zn=function(t,e,n){return this.Qn.Mn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},t.prototype.Hn=function(t,e,n){var r=Ut();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.Ae(t,e)})),r},t.prototype.Yn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Jn(t,e)}))},t.prototype.Jn=function(t,e){var n=this;return this.Wn.Xn(t,e).next((function(r){var i=n.Hn(t,e,r),o=Ft();return i.forEach((function(t,e){e||(e=new bt(t,w.min())),o=o.Ae(t,e)})),o}))},t.prototype.Zn=function(t,e,n){return e.Ot()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},t.prototype.tr=function(t,e){return this.Kn(t,new S(e)).next((function(t){var e=Gt();return t instanceof yt&&(e=e.Ae(t.key,t)),e}))},t.prototype.er=function(t,e,n){var r=this,i=e.collectionGroup,o=Gt();return this.jn.ir(t,i).next((function(s){return Ne.forEach(s,(function(s){var a=e.Zt(s.child(i));return r.sr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ae(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,e,n){var r,i,o=this;return this.Qn.Zn(t,e,n).next((function(n){return r=n,o.Wn.nr(t,e)})).next((function(e){return i=e,o.rr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.ot(h,h,o.Tn);r=l instanceof yt?r.Ae(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.rr=function(t,e,n){for(var r=Yt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ut&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yt&&(c=c.Ae(t,e))})),c}))},t}(),je=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.hr=n,this.or=r}return t.ar=function(e,n){for(var r=Yt(),i=Yt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ve=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();Ve.dr=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Be=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ze=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Tr=t,this.Er=e,this.Ir=n,this.wr=r,this.Rr=i,this.Ar=0,this.mr=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ar=0},t.prototype.Vr=function(){this.Ar=this.Rr},t.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.Ar+this.pr()),r=Math.max(0,Date.now()-this.Pr),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ar+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mr=this.Tr.yr(this.Er,i,(function(){return e.Pr=Date.now(),t()})),this.Ar*=this.wr,this.Ar<this.Ir&&(this.Ar=this.Ir),this.Ar>this.Rr&&(this.Ar=this.Rr)},t.prototype.cancel=function(){null!==this.mr&&(this.mr.cancel(),this.mr=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.Ar},t}(),Fe=function(){function t(t,e,n,r,i){this.br=t,this.Er=e,this.vr=n,this.op=r,this.Sr=i,this.Dr=new Be,this.then=this.Dr.promise.then.bind(this.Dr.promise),this.catch=this.Dr.promise.catch.bind(this.Dr.promise),this.Dr.promise.catch((function(t){}))}return t.Cr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Fr=setTimeout((function(){return e.Nr()}),t)},t.prototype.kr=function(){return this.Nr()},t.prototype.cancel=function(t){null!==this.Fr&&(this.clearTimeout(),this.Dr.reject(new p(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Nr=function(){var t=this;this.br.$r((function(){return null!==t.Fr?(t.clearTimeout(),t.op().then((function(e){return t.Dr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Fr&&(this.Sr(this),clearTimeout(this.Fr),this.Fr=null)},t}(),Ue=function(){function t(){var t=this;this.Mr=Promise.resolve(),this.Lr=Promise.resolve(),this.Or=!1,this.xr=[],this.Br=null,this.qr=!1,this.Ur=[],this.Qr=new ze(this,"async_queue_retry"),this.Wr=function(){t.jr("async_queue_retry")};var e=pe.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wr)}return Object.defineProperty(t.prototype,"Kr",{get:function(){return this.Or},enumerable:!0,configurable:!0}),t.prototype.$r=function(t){this.enqueue(t)},t.prototype.Gr=function(t){this.zr(),this.Hr(t)},t.prototype.Yr=function(t){return this.zr(),this.Hr(t)},t.prototype.Jr=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return this.zr(),this.Or?[3,2]:(this.Or=!0,(e=pe.nt().window)&&e.removeEventListener("visibilitychange",this.Wr),[4,this.Yr(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.zr(),this.Or?new Promise((function(t){})):this.Hr(t)},t.prototype.Xr=function(t){var e=this;this.zr(),this.Or||(this.Lr=this.Lr.then((function(){var n=new Be,r=function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t()];case 1:return i.sent(),n.resolve(),this.Qr.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(e=i.sent()).name)throw n.resolve(),e;return me("AsyncQueue","Operation failed with retryable error: "+e),this.Qr.gr(r),[3,3];case 3:return[2]}}))}))};return e.$r(r),n.promise})))},t.prototype.Hr=function(t){var e=this,n=this.Mr.then((function(){return e.qr=!0,t().catch((function(t){throw e.Br=t,e.qr=!1,ye("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.qr=!1,t}))}));return this.Mr=n,n},t.prototype.yr=function(t,e,n){var r=this;this.zr(),this.Ur.indexOf(t)>-1&&(e=0);var i=Fe.Cr(this,t,e,n,(function(t){return r.Zr(t)}));return this.xr.push(i),i},t.prototype.zr=function(){this.Br&&we()},t.prototype.th=function(){},t.prototype.eh=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Mr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Mr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.sh=function(t){for(var e=0,n=this.xr;e<n.length;e++)if(n[e].Er===t)return!0;return!1},t.prototype.jr=function(t){var e=this;return this.eh().then((function(){e.xr.sort((function(t,e){return t.vr-e.vr}));for(var n=0,r=e.xr;n<r.length;n++){var i=r[n];if(i.kr(),"all"!==t&&i.Er===t)break}return e.eh()}))},t.prototype.ih=function(t){this.Ur.push(t)},t.prototype.Zr=function(t){var e=this.xr.indexOf(t);this.xr.splice(e,1)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Te(n,i);return 0===s?Te(r,o):s}var Ge=function(){function t(t){this.nh=t,this.buffer=new Vt(qe),this.rh=0}return t.prototype.hh=function(){return++this.rh},t.prototype.oh=function(t){var e=[t,this.hh()];if(this.buffer.size<this.nh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();qe(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),We={ah:!1,uh:0,_h:0,lh:0},He=function(){function t(t,e,n){this.dh=t,this.fh=e,this.Th=n}return t.Eh=function(e){return new t(e,t.Ih,t.wh)},t}();He.Rh=-1,He.Ah=1048576,He.mh=41943040,He.Ih=10,He.wh=1e3,He.Ph=new He(He.mh,He.Ih,He.wh),He.DISABLED=new He(He.Rh,0,0);var $e=function(){function t(t,e){this.Vh=t,this.br=e,this.gh=!1,this.ph=null}return t.prototype.start=function(t){this.Vh.yh.dh!==He.Rh&&this.bh(t)},t.prototype.stop=function(){this.ph&&(this.ph.cancel(),this.ph=null)},Object.defineProperty(t.prototype,"vh",{get:function(){return null!==this.ph},enumerable:!0,configurable:!0}),t.prototype.bh=function(t){var e=this,n=this.gh?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ph=this.br.yr("lru_garbage_collection",n,(function(){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:this.ph=null,this.gh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Sh(this.Vh)];case 2:return n.sent(),[3,7];case 3:return"IndexedDbTransactionError"!==(e=n.sent()).name?[3,4]:(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]);case 4:return[4,rr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.bh(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ye=function(){function t(t,e){this.Dh=t,this.yh=e}return t.prototype.Ch=function(t,e){return this.Dh.Fh(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Nh=function(t,e){var n=this;if(0===e)return Ne.resolve(Ve.dr);var r=new Ge(e);return this.Dh.js(t,(function(t){return r.oh(t.sequenceNumber)})).next((function(){return n.Dh.kh(t,(function(t){return r.oh(t)}))})).next((function(){return r.maxValue}))},t.prototype.$h=function(t,e,n){return this.Dh.$h(t,e,n)},t.prototype.Mh=function(t,e){return this.Dh.Mh(t,e)},t.prototype.Lh=function(t,e){var n=this;return this.yh.dh===He.Rh?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(We)):this.Oh(t).next((function(r){return r<n.yh.dh?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.yh.dh),We):n.xh(t,e)}))},t.prototype.Oh=function(t){return this.Dh.Oh(t)},t.prototype.xh=function(t,e){var n,r,i,o,a,u,c,h=this,l=Date.now();return this.Ch(t,this.yh.fh).next((function(e){return e>h.yh.Th?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.yh.Th+" from "+e),r=h.yh.Th):r=e,o=Date.now(),h.Nh(t,r)})).next((function(r){return n=r,a=Date.now(),h.$h(t,n,e)})).next((function(e){return i=e,u=Date.now(),h.Mh(t,n)})).next((function(t){return c=Date.now(),ve()<=s.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),Ne.resolve({ah:!0,uh:r,_h:i,lh:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qe(e)),e=Ke(t.get(n),e);return Qe(e)}function Ke(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qe(t){return t+""}function Ze(t){var e=t.length;if(_e(e>=2),2===e)return _e(""===t.charAt(0)&&""===t.charAt(1)),E.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&we(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:we()}o=s+2}return new E(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je=function(){function t(e){this.db=e,12.2===t.Bh(a.getUA())&&ye("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.qh=function(e,n,r){return me("SimpleDb","Opening database:",e),new Ne((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onblocked=function(){o(new p(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new p(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},s.onupgradeneeded=function(t){me("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,s.transaction,t.oldVersion,Cn).next((function(){me("SimpleDb","Database upgrade to version "+Cn+" complete")}))}})).yn()},t.delete=function(t){return me("SimpleDb","Removing database:",t),on(window.indexedDB.deleteDatabase(t)).yn()},t.Uh=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.Qh())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.Bh(e),r=0<n&&n<10,i=t.Wh(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Qh=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.jh)},t.Kh=function(t,e){return t.store(e)},t.Bh=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Wh=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Gh=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,h;return i.__generator(this,(function(i){switch(i.label){case 0:++o,t=nn.open(a.db,r?"readonly":"readwrite",e),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),Ne.reject(e)})).yn(),u={},s.catch((function(){})),[4,t.zh];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return c=i.sent(),h="FirebaseError"!==c.name&&o<3,me("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),tn=function(){function t(t){this.Hh=t,this.Yh=!1,this.Jh=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.Yh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Xh",{get:function(){return this.Jh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Hh=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.Yh=!0},t.prototype.Zh=function(t){this.Jh=t},t.prototype.delete=function(){return on(this.Hh.delete())},t}(),en=function(t){function e(e){var n=this;return(n=t.call(this,f.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return i.__extends(e,t),e}(p),nn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.to=new Be,this.transaction.oncomplete=function(){e.to.resolve()},this.transaction.onabort=function(){t.error?e.to.reject(new en(t.error)):e.to.resolve()},this.transaction.onerror=function(t){var n=an(t.target.error);e.to.reject(new en(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"zh",{get:function(){return this.to.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.to.reject(t),this.aborted||(me("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rn(e)},t}(),rn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(me("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),on(n)},t.prototype.add=function(t){return me("SimpleDb","ADD",this.store.name,t,t),on(this.store.add(t))},t.prototype.get=function(t){var e=this;return on(this.store.get(t)).next((function(n){return void 0===n&&(n=null),me("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return me("SimpleDb","DELETE",this.store.name,t),on(this.store.delete(t))},t.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),on(this.store.count())},t.prototype.eo=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.so(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.io=function(t,e){me("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.no=!1;var r=this.cursor(n);return this.so(r,(function(t,e,n){return n.delete()}))},t.prototype.ro=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.so(r,e)},t.prototype.ho=function(t){var e=this.cursor({});return new Ne((function(n,r){e.onerror=function(t){var e=an(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.so=function(t,e){var n=[];return new Ne((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ne){var a=s.catch((function(t){return o.done(),Ne.reject(t)}));n.push(a)}o.Pn?r():null===o.Xh?i.continue():i.continue(o.Xh)}else r()}})).next((function(){return Ne.vn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.no?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function on(t){return new Ne((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=an(t.target.error);n(e)}}))}var sn=!1;function an(t){var e=Je.Bh(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sn||(sn=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.jn=n,this.oo=r,this.ao={}}return t.uo=function(e,n,r,i){return _e(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.co=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ln(t).ro({index:Nn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype._o=function(t,e,n){return this.lo(t).next((function(e){return e.lastStreamToken=n.toBase64(),pn(t).put(e)}))},t.prototype.do=function(t){return this.lo(t).next((function(t){return O.fromBase64String(t.lastStreamToken)}))},t.prototype.fo=function(t,e){return this.lo(t).next((function(n){return n.lastStreamToken=e.toBase64(),pn(t).put(n)}))},t.prototype.To=function(t,e,n,r){var i=this,o=fn(t),s=ln(t);return s.add({}).next((function(a){_e("number"==typeof a);for(var u=new ke(a,e,n,r),c=i.serializer.Eo(i.userId,u),h=[],l=new Vt((function(t,e){return Te(t.j(),e.j())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Pn.key(i.userId,d.key.path,a);l=l.add(d.key.path.M()),h.push(s.put(c)),h.push(o.put(v,Pn.PLACEHOLDER))}return l.forEach((function(e){h.push(i.jn.Io(t,e))})),t.qn((function(){i.ao[a]=u.keys()})),Ne.vn(h).next((function(){return u}))}))},t.prototype.wo=function(t,e){var n=this;return ln(t).get(e).next((function(t){return t?(_e(t.userId===n.userId),n.serializer.Ro(t)):null}))},t.prototype.Ao=function(t,e){var n=this;return this.ao[e]?Ne.resolve(this.ao[e]):this.wo(t,e).next((function(t){if(t){var r=t.keys();return n.ao[e]=r,r}return null}))},t.prototype.mo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ln(t).ro({index:Nn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_e(e.batchId>=r),o=n.serializer.Ro(e)),i.done()})).next((function(){return o}))},t.prototype.Po=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ln(t).ro({index:Nn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ln(t).eo(Nn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Ro(t)}))}))},t.prototype.Gn=function(t,e){var n=this,r=Pn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return fn(t).ro({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Ze(u);if(a===n.userId&&e.path.isEqual(h))return ln(t).get(c).next((function(t){if(!t)throw we();_e(t.userId===n.userId),o.push(n.serializer.Ro(t))}));s.done()})).next((function(){return o}))},t.prototype.Xn=function(t,e){var n=this,r=new Vt(Te),i=[];return e.forEach((function(e){var o=Pn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=fn(t).ro({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Ze(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Ne.vn(i).next((function(){return n.po(t,r)}))},t.prototype.nr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Vt(Te);return fn(t).ro({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Ze(u);s===n.userId&&r.q(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.po(t,a)}))},t.prototype.po=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ln(t).get(e).next((function(t){if(null===t)throw we();_e(t.userId===n.userId),r.push(n.serializer.Ro(t))})))})),Ne.vn(i).next((function(){return r}))},t.prototype.yo=function(t,e){var n=this;return hn(t.bo,this.userId,e).next((function(r){return t.qn((function(){n.vo(e.batchId)})),Ne.forEach(r,(function(e){return n.oo.So(t,e)}))}))},t.prototype.vo=function(t){delete this.ao[t]},t.prototype.Do=function(t){var e=this;return this.co(t).next((function(n){if(!n)return Ne.resolve();var r=IDBKeyRange.lowerBound(Pn.prefixForUser(e.userId)),i=[];return fn(t).ro({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ze(t[1]);i.push(o)}else r.done()})).next((function(){_e(0===i.length)}))}))},t.prototype.Co=function(t,e){return cn(t,this.userId,e)},t.prototype.lo=function(t){var e=this;return pn(t).get(this.userId).next((function(t){return t||new Dn(e.userId,-1,"")}))},t}();function cn(t,e,n){var r=Pn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return fn(t).ro({range:o,no:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function hn(t,e,n){var r=t.store(Nn.store),i=t.store(Pn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ro({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){_e(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Pn.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Ne.vn(o).next((function(){return c}))}function ln(t){return Kn.Kh(t,Nn.store)}function fn(t){return Kn.Kh(t,Pn.store)}function pn(t){return Kn.Kh(t,Dn.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){function t(t){this.Fo=t}return t.prototype.next=function(){return this.Fo+=2,this.Fo},t.No=function(){return new t(0)},t.ko=function(){return new t(-1)},t}(),vn=function(){function t(t,e){this.oo=t,this.serializer=e}return t.prototype.$o=function(t){var e=this;return this.Mo(t).next((function(n){var r=new dn(n.highestTargetId);return n.highestTargetId=r.next(),e.Lo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Oo=function(t){return this.Mo(t).next((function(t){return w.v(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.xo=function(t){return yn(t.bo)},t.prototype.Bo=function(t,e,n){var r=this;return this.Mo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Lo(t,i)}))},t.prototype.qo=function(t,e){var n=this;return this.Uo(t,e).next((function(){return n.Mo(t).next((function(r){return r.targetCount+=1,n.Qo(e,r),n.Lo(t,r)}))}))},t.prototype.Wo=function(t,e){return this.Uo(t,e)},t.prototype.jo=function(t,e){var n=this;return this.Ko(t,e.targetId).next((function(){return gn(t).delete(e.targetId)})).next((function(){return n.Mo(t)})).next((function(e){return _e(e.targetCount>0),e.targetCount-=1,n.Lo(t,e)}))},t.prototype.$h=function(t,e,n){var r=this,i=0,o=[];return gn(t).ro((function(s,a){var u=r.serializer.Go(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.jo(t,u)))})).next((function(){return Ne.vn(o)})).next((function(){return i}))},t.prototype.js=function(t,e){var n=this;return gn(t).ro((function(t,r){var i=n.serializer.Go(r);e(i)}))},t.prototype.Mo=function(t){return mn(t.bo)},t.prototype.Lo=function(t,e){return(n=t,Kn.Kh(n,zn.store)).put(zn.key,e);var n},t.prototype.Uo=function(t,e){return gn(t).put(this.serializer.zo(e))},t.prototype.Qo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ho=function(t){return this.Mo(t).next((function(t){return t.targetCount}))},t.prototype.Yo=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return gn(t).ro({range:i,index:Vn.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.Go(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.Jo=function(t,e,n){var r=this,i=[],o=bn(t);return e.forEach((function(e){var s=Xe(e.path);i.push(o.put(new Bn(n,s))),i.push(r.oo.Xo(t,n,e))})),Ne.vn(i)},t.prototype.Zo=function(t,e,n){var r=this,i=bn(t);return Ne.forEach(e,(function(e){var o=Xe(e.path);return Ne.vn([i.delete([n,o]),r.oo.ta(t,n,e)])}))},t.prototype.Ko=function(t,e){var n=bn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ea=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=bn(t),i=Yt();return r.ro({range:n,no:!0},(function(t,e,n){var r=Ze(t[1]),o=new S(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Co=function(t,e){var n=Xe(e.path),r=IDBKeyRange.bound([n],[Ie(n)],!1,!0),i=0;return bn(t).ro({index:Bn.documentTargetsIndex,no:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.si=function(t,e){var n=this;return gn(t).get(e).next((function(t){return t?n.serializer.Go(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return Kn.Kh(t,Vn.store)}function mn(t){return Je.Kh(t,zn.store).get(zn.key).next((function(t){return _e(null!==t),t}))}function yn(t){return mn(t).next((function(t){return t.highestListenSequenceNumber}))}function bn(t){return Kn.Kh(t,Bn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function t(t,e){this.serializer=t,this.jn=e}return t.prototype.Nn=function(t,e,n){return En(t).put(xn(e),n)},t.prototype.$n=function(t,e){var n=En(t),r=xn(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.sa(t,r)}))},t.prototype.Mn=function(t,e){var n=this;return En(t).get(xn(e)).next((function(t){return n.ia(t)}))},t.prototype.na=function(t,e){var n=this;return En(t).get(xn(e)).next((function(t){var e=n.ia(t);return e?{ra:e,size:Tn(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ut();return this.ha(t,e,(function(t,e){var i=n.ia(e);r=r.Ae(t,i)})).next((function(){return r}))},t.prototype.oa=function(t,e){var n=this,r=Ut(),i=new Rt(S.N);return this.ha(t,e,(function(t,e){var o=n.ia(e);o?(r=r.Ae(t,o),i=i.Ae(t,Tn(e))):(r=r.Ae(t,null),i=i.Ae(t,0))})).next((function(){return{aa:r,ua:i}}))},t.prototype.ha=function(t,e,n){if(e.B())return Ne.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return En(t).ro({range:r},(function(t,e,r){for(var s=S.st(t);o&&S.N(o,s)<0;)n(o,null),o=i.Ne();o&&o.isEqual(s)&&(n(o,e),o=i.ke()?i.Ne():null),o?r.Zh(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ke()?i.Ne():null}))},t.prototype.Zn=function(t,e,n){var r=this,i=Gt(),o=e.path.length+1,s={};if(n.isEqual(w.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.W(),c=this.serializer.ca(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ln.collectionReadTimeIndex}return En(t).ro(s,(function(t,n,s){if(t.length===o){var a=r.serializer._a(n);e.path.q(a.key.path)?a instanceof yt&&e.matches(a)&&(i=i.Ae(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.la=function(t,e){var n=this,r=Ft(),i=this.serializer.ca(e),o=En(t),s=IDBKeyRange.lowerBound(i,!0);return o.ro({index:Ln.readTimeIndex,range:s},(function(t,e){var o=n.serializer._a(e);r=r.Ae(o.key,o),i=e.readTime})).next((function(){return{da:r,readTime:n.serializer.fa(i)}}))},t.prototype.Ta=function(t){var e=this,n=En(t),r=w.min();return n.ro({index:Ln.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.fa(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Ea=function(e){return new t.Ia(this,!!e&&e.wa)},t.prototype.Ra=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return _n(t).get(jn.key).next((function(t){return _e(!!t),t}))},t.prototype.sa=function(t,e){return _n(t).put(jn.key,e)},t.prototype.ia=function(t){if(t){var e=this.serializer._a(t);return e instanceof bt&&e.version.isEqual(w.min())?null:e}return null},t}();function _n(t){return Kn.Kh(t,jn.store)}function En(t){return Kn.Kh(t,Ln.store)}function xn(t){return t.path.W()}function Tn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw we();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.Ia=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Aa=e,r.wa=n,r.ma=new Oe((function(t){return t.toString()})),r}return i.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[],r=0,i=new Vt((function(t,e){return Te(t.j(),e.j())}));return this.Dn.forEach((function(o,s){var a=e.ma.get(o);if(s){var u=e.Aa.serializer.Pa(s,e.readTime);i=i.add(o.path.M());var c=Tn(u);r+=c-a,n.push(e.Aa.Nn(t,o,u))}else if(r-=a,e.wa){var h=e.Aa.serializer.Pa(new bt(o,w.min()),e.readTime);n.push(e.Aa.Nn(t,o,h))}else n.push(e.Aa.$n(t,o))})),i.forEach((function(r){n.push(e.Aa.jn.Io(t,r))})),n.push(this.Aa.updateMetadata(t,r)),Ne.vn(n)},e.prototype.Ln=function(t,e){var n=this;return this.Aa.na(t,e).next((function(t){return null===t?(n.ma.set(e,0),null):(n.ma.set(e,t.size),t.ra)}))},e.prototype.On=function(t,e){var n=this;return this.Aa.oa(t,e).next((function(t){var e=t.aa;return t.ua.forEach((function(t,e){n.ma.set(t,e)})),e}))},e}(Pe);var Sn=function(){function t(){this.Va=new In}return t.prototype.Io=function(t,e){return this.Va.add(e),Ne.resolve()},t.prototype.ir=function(t,e){return Ne.resolve(this.Va.getEntries(e))},t}(),In=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.M(),r=this.index[e]||new Vt(E.N),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.M(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Vt(E.N)).W()},t}(),Cn=10,An=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_e(n<r&&n>=0&&r<=Cn);var o=new nn(e);n<1&&r>=1&&(function(t){t.createObjectStore(kn.store)}(t),function(t){t.createObjectStore(Dn.store,{keyPath:Dn.keyPath}),t.createObjectStore(Nn.store,{keyPath:Nn.keyPath,autoIncrement:!0}).createIndex(Nn.userMutationsIndex,Nn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pn.store)}(t),Un(t),function(t){t.createObjectStore(Ln.store)}(t));var s=Ne.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Bn.store),t.deleteObjectStore(Vn.store),t.deleteObjectStore(zn.store)}(t),Un(t)),s=s.next((function(){return function(t){var e=t.store(zn.store),n=new zn(0,0,w.min().C(),0);return e.put(zn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Nn.store).eo().next((function(n){t.deleteObjectStore(Nn.store),t.createObjectStore(Nn.store,{keyPath:Nn.keyPath,autoIncrement:!0}).createIndex(Nn.userMutationsIndex,Nn.userMutationsKeyPath,{unique:!0});var r=e.store(Nn.store),i=n.map((function(t){return r.put(t)}));return Ne.vn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(qn.store,{keyPath:qn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(jn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ln.store);e.createIndex(Ln.readTimeIndex,Ln.readTimeIndexPath,{unique:!1}),e.createIndex(Ln.collectionReadTimeIndex,Ln.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ln.store).ro((function(t,n){e+=Tn(n)})).next((function(){var n=new jn(e);return t.store(jn.store).put(jn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Dn.store),r=t.store(Nn.store);return n.eo().next((function(n){return Ne.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.eo(Nn.userMutationsIndex,i).next((function(r){return Ne.forEach(r,(function(r){_e(r.userId===n.userId);var i=e.serializer.Ro(r);return hn(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Bn.store),n=t.store(Ln.store);return yn(t).next((function(t){var r=[];return n.ro((function(n,i){var o=new E(n),s=function(t){return[0,Xe(t)]}(o);r.push(e.get(s).next((function(n){return n?Ne.resolve():function(n){return e.put(new Bn(0,Xe(n),t))}(o)})))})).next((function(){return Ne.vn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Fn.store,{keyPath:Fn.keyPath});var n=e.store(Fn.store),r=new In,i=function(t){if(r.add(t)){var e=t.O(),i=t.M();return n.put({collectionId:e,parent:Xe(i)})}};return e.store(Ln.store).ro({no:!0},(function(t,e){var n=new E(t);return i(n.M())})).next((function(){return e.store(Pn.store).ro({no:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Ze(n));return i(r.M())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Vn.store);return n.ro((function(t,r){var i=e.serializer.Go(r),o=e.serializer.zo(i);return n.put(o)}))},t}(),On=function(t,e){this.seconds=t,this.nanoseconds=e},kn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kn.store="owner",kn.key="owner";var Dn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dn.store="mutationQueues",Dn.keyPath="userId";var Nn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Nn.store="mutations",Nn.keyPath="batchId",Nn.userMutationsIndex="userMutationsIndex",Nn.userMutationsKeyPath=["userId","batchId"];var Pn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xe(e)]},t.key=function(t,e,n){return[t,Xe(e),n]},t}();Pn.store="documentMutations",Pn.PLACEHOLDER=new Pn;var Mn=function(t,e){this.path=t,this.readTime=e},Rn=function(t,e){this.path=t,this.version=e},Ln=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ln.store="remoteDocuments",Ln.readTimeIndex="readTimeIndex",Ln.readTimeIndexPath="readTime",Ln.collectionReadTimeIndex="collectionReadTimeIndex",Ln.collectionReadTimeIndexPath=["parentPath","readTime"];var jn=function(t){this.byteSize=t};jn.store="remoteDocumentGlobal",jn.key="remoteDocumentGlobalKey";var Vn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Vn.store="targets",Vn.keyPath="targetId",Vn.queryTargetsIndexName="queryTargetsIndex",Vn.queryTargetsKeyPath=["canonicalId","targetId"];var Bn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Bn.store="targetDocuments",Bn.keyPath=["targetId","path"],Bn.documentTargetsIndex="documentTargetsIndex",Bn.documentTargetsKeyPath=["path","targetId"];var zn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zn.key="targetGlobalKey",zn.store="targetGlobal";var Fn=function(t,e){this.collectionId=t,this.parent=e};function Un(t){t.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.documentTargetsIndex,Bn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.queryTargetsIndexName,Vn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store)}Fn.store="collectionParents",Fn.keyPath=["collectionId","parent"];var qn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};qn.store="clientMetadata",qn.keyPath="clientId";var Gn=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Dn.store,Nn.store,Pn.store,Ln.store,Vn.store,kn.store,zn.store,Bn.store],[qn.store]),[jn.store]),[Fn.store]),Wn=function(){function t(){this.ga=new In}return t.prototype.Io=function(t,e){var n=this;if(!this.ga.has(e)){var r=e.O(),i=e.M();t.qn((function(){n.ga.add(e)}));var o={collectionId:r,parent:Xe(i)};return Hn(t).put(o)}return Ne.resolve()},t.prototype.ir=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ie(e),""],!1,!0);return Hn(t).eo(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ze(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return Kn.Kh(t,Fn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function t(t){this.pa=t}return t.prototype._a=function(t){if(t.document)return this.pa.mi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.st(t.noDocument.path),n=this.ya(t.noDocument.readTime);return new bt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=S.st(t.unknownDocument.path),i=this.ya(t.unknownDocument.version);return new wt(r,i)}return we()},t.prototype.Pa=function(t,e){var n=this.ca(e),r=t.key.path.M().W();if(t instanceof yt){var i=this.pa.Ai(t),o=t.hasCommittedMutations;return new Ln(null,null,i,o,n,r)}if(t instanceof bt){var s=t.key.path.W(),a=this.ba(t.version),u=t.hasCommittedMutations;return new Ln(null,new Mn(s,a),null,u,n,r)}if(t instanceof wt){var c=t.key.path.W(),h=this.ba(t.version);return new Ln(new Rn(c,h),null,null,!0,n,r)}return we()},t.prototype.ca=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.fa=function(t){var e=new b(t[0],t[1]);return w.v(e)},t.prototype.ba=function(t){var e=t.C();return new On(e.seconds,e.nanoseconds)},t.prototype.ya=function(t){var e=new b(t.seconds,t.nanoseconds);return w.v(e)},t.prototype.Eo=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.pa.vi(t)})),i=e.mutations.map((function(t){return n.pa.vi(t)}));return new Nn(t,e.batchId,e.Tn.toMillis(),r,i)},t.prototype.Ro=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.pa.Fi(t)})),r=t.mutations.map((function(t){return e.pa.Fi(t)})),i=b.fromMillis(t.localWriteTimeMs);return new ke(t.batchId,i,n,r)},t.prototype.Go=function(t){var e,n=this.ya(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.ya(t.lastLimboFreeSnapshotVersion):w.min();return e=void 0!==t.query.documents?this.pa.xi(t.query):this.pa.Wi(t.query),new Dt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,O.fromBase64String(t.resumeToken))},t.prototype.zo=function(t){var e,n=this.ba(t.Ee),r=this.ba(t.lastLimboFreeSnapshotVersion);e=t.target.Ot()?this.pa.Oi(t.target):this.pa.Bi(t.target);var i=t.resumeToken.toBase64();return new Vn(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),Yn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Xn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bo=e,r.va=n,r}return i.__extends(e,t),e}(Re),Kn=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Tr=s,this.Sa=u,this.Da=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ca=null,this.inForeground=!1,this.Fa=null,this.Na=null,this.ka=Number.NEGATIVE_INFINITY,this.$a=function(t){return Promise.resolve()},!t.Uh())throw new p(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.oo=new Jn(this,o),this.Ma=n+t.La,this.serializer=new $n(a),this.document=i.document,this.Oa=new vn(this.oo,this.serializer),this.jn=new Wn,this.Qn=new wn(this.serializer,this.jn),!i.window||!i.window.localStorage)throw new p(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.xa=this.window.localStorage}return t.Kh=function(t,e){if(t instanceof Xn)return Je.Kh(t.bo,e);throw we()},t.prototype.start=function(){var t=this;return Je.qh(this.Ma,Cn,new An(this.serializer)).then((function(e){return t.Ba=e,t.qa()})).then((function(){return t.Ua(),t.Qa(),t.Wa(),t.Ba.runTransaction("readonly",[zn.store],(function(t){return yn(t)}))})).then((function(e){t.ja=new Ve(e,t.Sa)})).then((function(){t.Da=!0})).catch((function(e){return t.Ba&&t.Ba.close(),Promise.reject(e)}))},t.prototype.Ka=function(t){var e=this;return this.$a=function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.vh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Ga=function(t){var e=this;this.Ba.Gh((function(n){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.za=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.$r((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.vh?[4,this.qa()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.qa=function(){var t=this;return this.Ba.runTransaction("readwrite",Gn,(function(e){return Zn(e).put(new qn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Ha(e).next((function(e){e||(t.isPrimary=!1,t.Tr.$r((function(){return t.$a(!1)})))}))})).next((function(){return t.Ya(e)})).next((function(n){return t.isPrimary&&!n?t.Ja(e).next((function(){return!1})):!!n&&t.Xa(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Tr.$r((function(){return t.$a(e)})),t.isPrimary=e}))},t.prototype.Ha=function(t){var e=this;return Qn(t).get(kn.key).next((function(t){return Ne.resolve(e.Za(t))}))},t.prototype.tu=function(t){return Zn(t).delete(this.clientId)},t.prototype.eu=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.su(this.ka,18e5)?[3,2]:(this.ka=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.Kh(n,qn.store);return r.eo().next((function(t){var n=e.iu(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Ne.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.nu(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Wa=function(){var t=this;this.Na=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.qa().then((function(){return t.eu()})).then((function(){return t.Wa()}))}))},t.prototype.Za=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ya=function(t){var e=this;return Qn(t).get(kn.key).next((function(n){if(null!==n&&e.su(n.leaseTimestampMs,5e3)&&!e.ru(n.ownerId)){if(e.Za(n)&&e.networkEnabled)return!0;if(!e.Za(n)){if(!n.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,Yn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Zn(t).eo().next((function(t){return void 0===e.iu(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&me("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.hu=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){switch(e.label){case 0:return this.Da=!1,this.ou(),this.Na&&(this.Na.cancel(),this.Na=null),this.au(),this.uu(),[4,this.Ba.runTransaction("readwrite",[kn.store,qn.store],(function(e){return t.Ja(e).next((function(){return t.tu(e)}))}))];case 1:return e.sent(),this.Ba.close(),this.cu(),[2]}}))}))},t.prototype.iu=function(t,e){var n=this;return t.filter((function(t){return n.su(t.updateTimeMs,e)&&!n.ru(t.clientId)}))},t.prototype._u=function(){var t=this;return this.Ba.runTransaction("readonly",[qn.store],(function(e){return Zn(e).eo().next((function(e){return t.iu(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return t.Uh()?(n=e+t.La,[4,Je.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"vh",{get:function(){return this.Da},enumerable:!0,configurable:!0}),t.prototype.lu=function(t){return un.uo(t,this.serializer,this.jn,this.oo)},t.prototype.du=function(){return this.Oa},t.prototype.fu=function(){return this.Qn},t.prototype.Tu=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r=this;me("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Ba.runTransaction(o,Gn,(function(o){return i=new Xn(o,r.ja.next()),"readwrite-primary"===e?r.Ha(o).next((function(t){return!!t||r.Ya(o)})).next((function(e){if(!e)throw ye("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Tr.$r((function(){return r.$a(!1)})),new p(f.FAILED_PRECONDITION,Me);return n(i)})).next((function(t){return r.Xa(o).next((function(){return t}))})):r.Eu(o).next((function(){return n(i)}))})).then((function(t){return i.Un(),t}))},t.prototype.Eu=function(t){var e=this;return Qn(t).get(kn.key).next((function(t){if(null!==t&&e.su(t.leaseTimestampMs,5e3)&&!e.ru(t.ownerId)&&!e.Za(t)&&!t.allowTabSynchronization)throw new p(f.FAILED_PRECONDITION,Yn)}))},t.prototype.Xa=function(t){var e=new kn(this.clientId,this.allowTabSynchronization,Date.now());return Qn(t).put(kn.key,e)},t.Uh=function(){return Je.Uh()},t.Iu=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Ja=function(t){var e=this,n=Qn(t);return n.get(kn.key).next((function(t){return e.Za(t)?(me("IndexedDbPersistence","Releasing primary lease."),n.delete(kn.key)):Ne.resolve()}))},t.prototype.su=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ye("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ua=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fa=function(){t.Tr.$r((function(){return t.inForeground="visible"===t.document.visibilityState,t.qa()}))},this.document.addEventListener("visibilitychange",this.Fa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.au=function(){this.Fa&&(this.document.removeEventListener("visibilitychange",this.Fa),this.Fa=null)},t.prototype.Qa=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Ca=function(){t.ou(),t.Tr.$r((function(){return t.hu()}))},this.window.addEventListener("unload",this.Ca))},t.prototype.uu=function(){this.Ca&&(this.window.removeEventListener("unload",this.Ca),this.Ca=null)},t.prototype.ru=function(t){try{var e=null!==this.xa.getItem(this.nu(t));return me("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return ye("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ou=function(){try{this.xa.setItem(this.nu(this.clientId),String(Date.now()))}catch(t){ye("Failed to set zombie client id.",t)}},t.prototype.cu=function(){try{this.xa.removeItem(this.nu(this.clientId))}catch(t){}},t.prototype.nu=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t.store(kn.store)}function Zn(t){return t.store(qn.store)}Kn.La="main";var Jn=function(){function t(t,e){this.db=t,this.Vh=new Ye(this,e)}return t.prototype.Fh=function(t){var e=this.wu(t);return this.db.du().Ho(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.wu=function(t){var e=0;return this.kh(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.du().js(t,e)},t.prototype.kh=function(t,e){return this.Ru(t,(function(t,n){return e(n)}))},t.prototype.Xo=function(t,e,n){return tr(t,n)},t.prototype.ta=function(t,e,n){return tr(t,n)},t.prototype.$h=function(t,e,n){return this.db.du().$h(t,e,n)},t.prototype.So=function(t,e){return tr(t,e)},t.prototype.Au=function(t,e){return function(t,e){var n=!1;return pn(t).ho((function(r){return cn(t,r,e).next((function(t){return t&&(n=!0),Ne.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Mh=function(t,e){var n=this,r=this.db.fu().Ea(),i=[],o=0;return this.Ru(t,(function(s,a){if(a<=e){var u=n.Au(t,s).next((function(e){if(!e)return o++,r.Mn(t,s).next((function(){return r.$n(s),bn(t).delete([0,Xe(s.path)])}))}));i.push(u)}})).next((function(){return Ne.vn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Ie(t.va);return this.db.du().Wo(t,n)},t.prototype.mu=function(t,e){return tr(t,e)},t.prototype.Ru=function(t,e){var n,r=bn(t),i=Ve.dr;return r.ro({index:Bn.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ve.dr&&e(new S(Ze(n)),i),i=a,n=s):i=Ve.dr})).next((function(){i!==Ve.dr&&e(new S(Ze(n)),i)}))},t.prototype.Oh=function(t){return this.db.fu().Ra(t)},t}();function tr(t,e){return bn(t).put(function(t,e){return new Bn(0,Xe(t.path),e)}(e,t.va))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function t(t,e,n){this.persistence=t,this.Pu=e,this.Vu=new Rt(Te),this.gu=new Oe((function(t){return t.canonicalId()})),this.pu=w.min(),this.Wn=t.lu(n),this.yu=t.fu(),this.Oa=t.du(),this.bu=new Le(this.yu,this.Wn,this.persistence.Tu()),this.Pu.vu(this.bu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Su=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.Wn,n=this.bu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Wn.Vo(r).next((function(s){return i=s,e=o.persistence.lu(t),n=new Le(o.yu,e,o.persistence.Tu()),e.Vo(r)})).next((function(t){for(var e=[],o=[],s=Yt(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];o.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return n.Yn(r,s).next((function(t){return{Du:t,Cu:e,Fu:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Wn=e,this.bu=n,this.Pu.vu(this.bu),r)]}}))}))},t.prototype.Nu=function(t){var e,n=this,r=b.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Yt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.bu.Yn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.Pt(e.get(c.key));null!=h&&s.push(new ut(c.key,h,dt(h.proto.mapValue),ot.exists(!0)))}return n.Wn.To(o,r,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Dn:n}}))},t.prototype._o=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.yu.Ea({wa:!0});return e.Wn._o(n,t.batch,t.streamToken).next((function(){return e.ku(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Wn.Do(n)})).next((function(){return e.bu.Yn(n,r)}))}))},t.prototype.$u=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Wn.wo(n,t).next((function(t){return _e(null!==t),r=t.keys(),e.Wn.yo(n,t)})).next((function(){return e.Wn.Do(n)})).next((function(){return e.bu.Yn(n,r)}))}))},t.prototype.Po=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Wn.Po(e)}))},t.prototype.do=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Wn.do(e)}))},t.prototype.fo=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Wn.fo(n,t)}))},t.prototype.Oo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Oa.Oo(e)}))},t.prototype.Mu=function(e){var n=this,r=e.Ee,i=this.Vu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.yu.Ea({wa:!0});i=n.Vu;var a=[];e.as.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Oa.Zo(o,e.Is,s).next((function(){return n.Oa.Jo(o,e.Ts,s)})));var c=e.resumeToken;if(c.rt()>0){var h=u.we(c,r).Ie(o.va);i=i.Ae(s,h),t.Lu(u,h,e)&&a.push(n.Oa.Wo(o,h))}}}));var u=Ft(),c=Yt();if(e.cs.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.cs.forEach((function(i,c){var h=t.get(i);c instanceof bt&&c.version.isEqual(w.min())?(s.$n(i,r),u=u.Ae(i,c)):null==h||c.version.S(h.version)>0||0===c.version.S(h.version)&&h.hasPendingWrites?(s.Nn(c,r),u=u.Ae(i,c)):me("LocalStore","Ignoring outdated watch update for ",i,". Current version:",h.version," Watch version:",c.version),e._s.has(i)&&a.push(n.persistence.oo.mu(o,i))}))}))),!r.isEqual(w.min())){var h=n.Oa.Oo(o).next((function(t){return n.Oa.Bo(o,o.va,r)}));a.push(h)}return Ne.vn(a).next((function(){return s.apply(o)})).next((function(){return n.bu.Jn(o,u)}))})).then((function(t){return n.Vu=i,t}))},t.Lu=function(t,e,n){return _e(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.Ou||n.Ts.size+n.Es.size+n.Is.size>0},t.prototype.xu=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Ne.forEach(t,(function(t){return Ne.forEach(t.hr,(function(r){return e.persistence.oo.Xo(n,t.targetId,r)})).next((function(){return Ne.forEach(t.or,(function(r){return e.persistence.oo.ta(n,t.targetId,r)}))}))}))})).then((function(){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(!i.fromCache){var s=e.Vu.get(o),a=s.Ee,u=s.Re(a);e.Vu=e.Vu.Ae(o,u)}}}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Wn.mo(n,t)}))},t.prototype.qu=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.bu.Kn(n,t)}))},t.prototype.Uu=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Oa.Yo(n,t).next((function(i){return i?(r=i,Ne.resolve(r)):e.Oa.$o(n).next((function(i){return r=new Dt(t,i,0,n.va),e.Oa.qo(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Vu.get(n.targetId)&&(e.Vu=e.Vu.Ae(n.targetId,n),e.gu.set(t,n.targetId)),n}))},t.prototype.Yo=function(t,e){var n=this.gu.get(e);return void 0!==n?Ne.resolve(this.Vu.get(n)):this.Oa.Yo(t,e)},t.prototype.Qu=function(t,e){var n=this,r=this.Vu.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(t){return e?Ne.resolve():n.persistence.oo.removeTarget(t,r)})).then((function(){n.Vu=n.Vu.remove(t),n.gu.delete(r.target)}))},t.prototype.Wu=function(t,e){var n=this,r=w.min(),i=Yt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Yo(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Oa.ea(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Pu.Zn(o,t,e?r:w.min(),e?i:Yt())})).next((function(t){return{documents:t,ju:i}}))}))},t.prototype.ku=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Ne.resolve();return o.forEach((function(r){s=s.next((function(){return n.Mn(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);_e(null!==s),(!o||o.version.S(s)<0)&&(o=i.at(r,o,e))&&n.Nn(o,e.wn)}))})),s.next((function(){return r.Wn.yo(t,i)}))},t.prototype.Sh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Lh(n,e.Vu)}))},t}();er.Ou=3e8;var nr=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Wn=e.lu(r),i.yu=e.fu(),i.Oa=e.du(),i}return i.__extends(e,t),e.prototype.start=function(){return this.Ku()},e.prototype.Gu=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Wn.Ao(n,t).next((function(t){return t?e.bu.Yn(n,t):Ne.resolve(null)}))}))},e.prototype.zu=function(t){this.Wn.vo(t)},e.prototype.za=function(t){this.persistence.za(t)},e.prototype._u=function(){return this.persistence._u()},e.prototype.Hu=function(t){var e=this,n=this.Vu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Oa.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.la=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.yu.la(e,t.pu)})).then((function(e){var n=e.da,r=e.readTime;return t.pu=r,n}))},e.prototype.Ku=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.yu.Ta(t)}))];case 1:return t.pu=n.sent(),[2]}}))}))},e}(er);function rr(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==Me)throw t;return me("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function t(){this.Yu=new Vt(or.Ju),this.Xu=new Vt(or.Zu)}return t.prototype.B=function(){return this.Yu.B()},t.prototype.Xo=function(t,e){var n=new or(t,e);this.Yu=this.Yu.add(n),this.Xu=this.Xu.add(n)},t.prototype.tc=function(t,e){var n=this;t.forEach((function(t){return n.Xo(t,e)}))},t.prototype.ta=function(t,e){this.ec(new or(t,e))},t.prototype.sc=function(t,e){var n=this;t.forEach((function(t){return n.ta(t,e)}))},t.prototype.ic=function(t){var e=this,n=S.EMPTY,r=new or(n,t),i=new or(n,t+1),o=[];return this.Xu.Ke([r,i],(function(t){e.ec(t),o.push(t.key)})),o},t.prototype.nc=function(){var t=this;this.Yu.forEach((function(e){return t.ec(e)}))},t.prototype.ec=function(t){this.Yu=this.Yu.delete(t),this.Xu=this.Xu.delete(t)},t.prototype.rc=function(t){var e=S.EMPTY,n=new or(e,t),r=new or(e,t+1),i=Yt();return this.Xu.Ke([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Co=function(t){var e=new or(t,0),n=this.Yu.ze(e);return null!==n&&t.isEqual(n.key)},t}(),or=function(){function t(t,e){this.key=t,this.hc=e}return t.Ju=function(t,e){return S.N(t.key,e.key)||Te(t.hc,e.hc)},t.Zu=function(t,e){return Te(t.hc,e.hc)||S.N(t.key,e.key)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){if(0!==e.length)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+xr(e.length,"argument")+".")}function ar(t,e,n){if(e.length!==n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires "+xr(n,"argument")+", but was called with "+xr(e.length,"argument")+".")}function ur(t,e,n){if(e.length<n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+xr(n,"argument")+", but was called with "+xr(e.length,"argument")+".")}function cr(t,e,n,r){if(e.length<n||e.length>r)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+xr(e.length,"argument")+".")}function hr(t,e,n,r){vr(t,e,Er(n)+" argument",r)}function lr(t,e,n,r){void 0!==r&&hr(t,e,n,r)}function fr(t,e,n,r){vr(t,e,n+" option",r)}function pr(t,e,n,r){void 0!==r&&fr(t,e,n,r)}function dr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(mr(u))}var c=mr(r);throw new p(f.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function vr(t,e,n,r){if(!("object"===e?gr(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=mr(r);throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function gr(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function mr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":we()}function yr(t,e,n){if(void 0===n)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Er(e)+" argument, but it was undefined.")}function br(t,e,n){C(e,(function(e,r){if(n.indexOf(e)<0)throw new p(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function wr(t,e,n,r){var i=mr(r);return new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+Er(n)+" argument to be a "+e+", but it was: "+i)}function _r(t,e,n){if(n<=0)throw new p(f.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Er(e)+" argument to be a positive number, but it was: "+n+".")}function Er(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function xr(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){if("undefined"==typeof Uint8Array)throw new p(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sr(){if(!pe.nt().oc)throw new p(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ir=function(){function t(t){Sr(),this.ac=t}return t.fromBase64String=function(e){ar("Blob.fromBase64String",arguments,1),hr("Blob.fromBase64String","string",1,e),Sr();try{return new t(O.fromBase64String(e))}catch(e){throw new p(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(ar("Blob.fromUint8Array",arguments,1),Tr(),!(e instanceof Uint8Array))throw wr("Blob.fromUint8Array","Uint8Array",1,e);return new t(O.fromUint8Array(e))},t.prototype.toBase64=function(){return ar("Blob.toBase64",arguments,0),Sr(),this.ac.toBase64()},t.prototype.toUint8Array=function(){return ar("Blob.toUint8Array",arguments,0),Tr(),this.ac.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.ac.isEqual(t.ac)},t}(),Cr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new p(f.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+xr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(hr("FieldPath","string",n,t[n]),0===t[n].length)throw new p(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.uc=new T(t)}return t.documentId=function(){return t.cc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wr("isEqual","FieldPath",1,e);return this.uc.isEqual(e.uc)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.cc=new Cr(T.J().j());var Ar=new RegExp("[~\\*/\\[\\]]"),Or=function(t){this._c=t},kr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return i.__extends(e,t),e.prototype.Di=function(t){if(2!==t.lc)throw 1===t.lc?t.dc("FieldValue.delete() can only appear at the top level of your update data"):t.dc("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Or),Dr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return i.__extends(e,t),e.prototype.Di=function(t){return new rt(t.path,Q.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Or),Nr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).fc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new zr({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),n=this.fc.map((function(t){return Ur(t,e)})),r=new Z(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Pr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).fc=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new zr({lc:3,methodName:this._c,Tc:!0},t.ii,t.serializer),n=this.fc.map((function(t){return Ur(t,e)})),r=new J(n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Mr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).Ec=e,n}return i.__extends(e,t),e.prototype.Di=function(t){var e=new zr({lc:3,methodName:this._c},t.ii,t.serializer),n=Ur(this.Ec,e),r=new tt(t.serializer,n);return new rt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Or),Rr=function(){function t(t,e){if(ar("GeoPoint",arguments,2),hr("GeoPoint","number",1,t),hr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new p(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new p(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Ic=t,this.wc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Ic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Ic===t.Ic&&this.wc===t.wc},t.prototype.p=function(t){return Te(this.Ic,t.Ic)||Te(this.wc,t.wc)},t}(),Lr=/^__.*__$/,jr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Rc=function(t,e){var n=[];return null!==this.Vt?n.push(new ut(t,this.data,this.Vt,e)):n.push(new at(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}(),Vr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Rc=function(t,e){var n=[new ut(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var zr=function(){function t(t,e,n,r,i){this.settings=t,this.ii=e,this.serializer=n,void 0===r&&this.Ac(),this.fieldTransforms=r||[],this.Vt=i||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lc",{get:function(){return this.settings.lc},enumerable:!0,configurable:!0}),t.prototype.mc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.fieldTransforms,this.Vt)},t.prototype.Pc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.mc({path:n,Tc:!1});return r.Vc(t),r},t.prototype.gc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.mc({path:n,Tc:!1});return r.Ac(),r},t.prototype.pc=function(t){return this.mc({path:void 0,Tc:!0})},t.prototype.dc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new p(f.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.Ac=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vc(this.path.get(t))},t.prototype.Vc=function(t){if(0===t.length)throw this.dc("Document fields must not be empty");if(Br(this.lc)&&Lr.test(t))throw this.dc('Document fields cannot begin and end with "__"')},t}(),Fr=function(){function t(t,e){this.ii=t,this.serializer=e||pe.nt().yc(t)}return t.prototype.bc=function(t,e){var n=this.vc(0,t);Wr("Data must be an object, but it was:",n,e);var r=qr(e,n);return new jr(new ft(r),null,n.fieldTransforms)},t.prototype.Sc=function(t,e,n){var r=this.vc(2,t);Wr("Data must be an object, but it was:",r,e);var i,o,s=qr(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var h=c[u],l=void 0;if(h instanceof Cr)l=h.uc;else{if("string"!=typeof h)throw we();l=$r(t,h)}if(!r.contains(l))throw new p(f.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");Yr(a,l)||a.push(l)}i=new nt(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new nt(r.Vt),o=r.fieldTransforms;return new jr(new ft(s),i,o)},t.prototype.Dc=function(t,e){var n=this.vc(1,t);Wr("Data must be an object, but it was:",n,e);var r=[],i=new pt;C(e,(function(e,o){var s=$r(t,e),a=n.gc(s);if(o instanceof kr)r.push(s);else{var u=Ur(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new nt(r);return new Vr(i.yt(),o,n.fieldTransforms)},t.prototype.Cc=function(t,e,n,r){var i=this.vc(1,t),o=[Hr(t,e)],s=[n];if(r.length%2!=0)throw new p(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Hr(t,r[a])),s.push(r[a+1]);for(var u=[],c=new pt,h=o.length-1;h>=0;--h)if(!Yr(u,o[h])){var l=o[h],d=s[h],v=i.gc(l);if(d instanceof kr)u.push(l);else{var g=Ur(d,v);null!=g&&(u.push(l),c.set(l,g))}}var m=new nt(u);return new Vr(c.yt(),m,i.fieldTransforms)},t.prototype.vc=function(t,e){return new zr({lc:t,methodName:e,path:T.G,Tc:!1},this.ii,this.serializer)},t.prototype.Fc=function(t,e,n){return void 0===n&&(n=!1),Ur(e,this.vc(n?4:3,t))},t}();function Ur(t,e){if(Gr(t))return Wr("Unsupported field value:",e,t),qr(t,e);if(t instanceof Or)return function(t,e){if(!Br(e.lc))throw e.dc(t._c+"() can only be used with update() and set()");if(null===e.path)throw e.dc(t._c+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.Tc&&4!==e.lc)throw e.dc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ur(o[i],e.pc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof b){var r=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Rr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ir)return{bytesValue:e.serializer.ui(t)};if(t instanceof Fi){var i=e.ii,o=t.firestore.Nc;if(!o.isEqual(i))throw e.dc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.kc.path,t.firestore.Nc)}}throw e.dc("Unsupported field value: "+mr(t))}(t,e)}function qr(t,e){var n={};return A(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):C(t,(function(t,r){var i=Ur(r,e.Pc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Gr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof Rr||t instanceof Ir||t instanceof Fi||t instanceof Or)}function Wr(t,e,n){if(!Gr(n)||!gr(n)){var r=mr(n);throw"an object"===r?e.dc(t+" a custom object"):e.dc(t+" "+r)}}function Hr(t,e){if(e instanceof Cr)return e.uc;if("string"==typeof e)return $r(t,e);throw new p(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function $r(t,e){try{return function(t){if(t.search(Ar)>=0)throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Cr.bind.apply(Cr,i.__spreadArrays([void 0],t.split("."))))}catch(i){throw new p(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).uc}catch(e){var n=(r=e)instanceof Error?r.message:r.toString();throw new p(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var r}function Yr(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(){function t(t,e,n,r,i,o){this.Tr=t,this.$c=n,this.Mc=r,this.Lc=i,this.listener=o,this.state=0,this.Oc=0,this.xc=null,this.stream=null,this.Qr=new ze(t,e)}return t.prototype.Bc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.qc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Uc()},t.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Bc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Qc=function(){this.state=0,this.Qr.reset()},t.prototype.Wc=function(){var t=this;this.qc()&&null===this.xc&&(this.xc=this.Tr.yr(this.$c,6e4,(function(){return t.jc()})))},t.prototype.Kc=function(t){this.Gc(),this.stream.send(t)},t.prototype.jc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.qc()?[2,this.close(0)]:[2]}))}))},t.prototype.Gc=function(){this.xc&&(this.xc.cancel(),this.xc=null)},t.prototype.close=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Gc(),this.Qr.cancel(),this.Oc++,3!==t?this.Qr.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(ye(e.toString()),ye("Using maximum backoff delay to prevent overloading the backend."),this.Qr.Vr()):e&&e.code===f.UNAUTHENTICATED&&this.Lc._(),null!==this.stream&&(this.zc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.zc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Yc(this.Oc),n=this.Oc;this.Lc.getToken().then((function(e){t.Oc===n&&t.Jc(e)}),(function(n){e((function(){var e=new p(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Xc(e)}))}))},t.prototype.Jc=function(t){var e=this,n=this.Yc(this.Oc);this.stream=this.Zc(t),this.stream.t_((function(){n((function(){return e.state=2,e.listener.t_()}))})),this.stream.Hc((function(t){n((function(){return e.Xc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Uc=function(){var t=this;this.state=4,this.Qr.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Xc=function(t){return me("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Yc=function(t){var e=this;return function(n){e.Tr.$r((function(){return e.Oc===t?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Kr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(e,t),e.prototype.Zc=function(t){return this.Mc.e_("Listen",t)},e.prototype.onMessage=function(t){this.Qr.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.s_(e,n)},e.prototype.i_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Kc(e)},e.prototype.n_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Kc(e)},e}(Xr),Qr=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.r_=!1,s.lastStreamToken=O.ht,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"h_",{get:function(){return this.r_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.r_=!1,t.prototype.start.call(this)},e.prototype.zc=function(){this.r_&&this.o_([])},e.prototype.Zc=function(t){return this.Mc.e_("Write",t)},e.prototype.onMessage=function(t){if(_e(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.r_){this.Qr.reset();var e=this.serializer.Li(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.a_(n,e)}return _e(!t.writeResults||0===t.writeResults.length),this.r_=!0,this.listener.u_()},e.prototype.c_=function(){var t={};t.database=this.serializer.wi,this.Kc(t)},e.prototype.o_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Kc(n)},e}(Xr),Zr=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Mc=e,i.credentials=n,i.serializer=r,i}return i.__extends(e,t),e.prototype.l_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.l_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.d_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.d_(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.__=void 0})),Jr=function(){function t(t){this.f_=t,this.T_=Ht(),this.mutations=[],this.E_=!1,this.I_=null,this.w_=new Set}return t.prototype.R_=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.A_(),this.mutations.length>0)throw new p(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=Ee(t),r={database:n.serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.d_("BatchGetDocuments",r)];case 1:return o=i.sent(),s=new Map,o.forEach((function(t){var e=n.serializer.gi(t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());_e(!!e),a.push(e)})),a)]}}))}))}(this.f_,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof bt||t instanceof yt?n.m_(t):we()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Rc(t,this.Rt(t))),this.w_.add(t)},t.prototype.update=function(t,e){try{this.write(e.Rc(t,this.P_(t)))}catch(t){this.I_=t}this.w_.add(t)},t.prototype.delete=function(t){this.write([new ht(t,this.Rt(t))]),this.w_.add(t)},t.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.A_(),this.I_)throw this.I_;return t=this.T_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new lt(t,e.Rt(t)))})),[4,function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=Ee(t),r={database:n.serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.l_("Commit",r)];case 1:return o=i.sent(),[2,n.serializer.Li(o.writeResults,o.commitTime)]}}))}))}(this.f_,this.mutations)];case 1:return n.sent(),this.E_=!0,[2]}}))}))},t.prototype.m_=function(t){var e;if(t instanceof yt)e=t.version;else{if(!(t instanceof bt))throw we();e=w.min()}var n=this.T_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(f.ABORTED,"Document version changed between two reads.")}else this.T_=this.T_.Ae(t.key,e)},t.prototype.Rt=function(t){var e=this.T_.get(t);return!this.w_.has(t)&&e?ot.updateTime(e):ot.ft()},t.prototype.P_=function(t){var e=this.T_.get(t);if(!this.w_.has(t)&&e){if(e.isEqual(w.min()))throw new p(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(e)}return ot.exists(!0)},t.prototype.write=function(t){this.A_(),this.mutations=this.mutations.concat(t)},t.prototype.A_=function(){},t}(),ti=function(){function t(t,e){this.br=t,this.V_=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}return t.prototype.b_=function(){var t=this;0===this.g_&&(this.v_("Unknown"),this.p_=this.br.yr("online_state_timeout",1e4,(function(){return t.p_=null,t.S_("Backend didn't respond within 10 seconds."),t.v_("Offline"),Promise.resolve()})))},t.prototype.D_=function(t){"Online"===this.state?this.v_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.S_("Connection failed 1 times. Most recent error: "+t.toString()),this.v_("Offline")))},t.prototype.set=function(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.v_(t)},t.prototype.v_=function(t){t!==this.state&&(this.state=t,this.V_(t))},t.prototype.S_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.y_?(ye(e),this.y_=!1):me("OnlineStateTracker",e)},t.prototype.C_=function(){null!==this.p_&&(this.p_.cancel(),this.p_=null)},t}(),ei=function(){function t(t,e,n,r,o){var s=this;this.F_=t,this.f_=e,this.br=n,this.N_=[],this.k_=new Map,this.M_=null,this.networkEnabled=!1,this.isPrimary=!1,this.L_=!1,this.O_=o,this.O_.x_((function(t){n.$r((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.B_()?(me("RemoteStore","Restarting streams for network reachability change."),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.U_=new ti(n,r),this.Q_=function(t,e,n){var r=Ee(t);return new Kr(e,r.Mc,r.credentials,r.serializer,n)}(this.f_,n,{t_:this.W_.bind(this),Hc:this.j_.bind(this),s_:this.K_.bind(this)}),this.G_=function(t,e,n){var r=Ee(t);return new Qr(e,r.Mc,r.credentials,r.serializer,n)}(this.f_,n,{t_:this.z_.bind(this),Hc:this.H_.bind(this),u_:this.Y_.bind(this),a_:this.a_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.J_()},t.prototype.J_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return this.B_()?(t=this.G_,[4,this.F_.do()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.X_()?this.Z_():this.U_.set("Unknown"),[4,this.tl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Offline"),[2]}}))}))},t.prototype.el=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.G_.stop()];case 1:return t.sent(),[4,this.Q_.stop()];case 2:return t.sent(),this.N_.length>0&&(me("RemoteStore","Stopping write stream with "+this.N_.length+" pending writes"),this.N_=[]),this.sl(),[2]}}))}))},t.prototype.hu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return me("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.O_.hu(),this.U_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.k_.has(t.targetId)||(this.k_.set(t.targetId,t),this.X_()?this.Z_():this.Q_.qc()&&this.il(t))},t.prototype.nl=function(t){this.k_.delete(t),this.Q_.qc()&&this.rl(t),0===this.k_.size&&(this.Q_.qc()?this.Q_.Wc():this.B_()&&this.U_.set("Unknown"))},t.prototype.si=function(t){return this.k_.get(t)||null},t.prototype.ei=function(t){return this.hl.ei(t)},t.prototype.il=function(t){this.M_.Ns(t.targetId),this.Q_.i_(t)},t.prototype.rl=function(t){this.M_.Ns(t),this.Q_.n_(t)},t.prototype.Z_=function(){this.M_=new se(this),this.Q_.start(),this.U_.b_()},t.prototype.X_=function(){return this.B_()&&!this.Q_.Bc()&&this.k_.size>0},t.prototype.B_=function(){return!this.L_&&this.isPrimary&&this.networkEnabled},t.prototype.sl=function(){this.M_=null},t.prototype.W_=function(){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(e){return this.k_.forEach((function(e,n){t.il(e)})),[2]}))}))},t.prototype.j_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.sl(),this.X_()?(this.U_.D_(t),this.Z_()):this.U_.set("Unknown"),[2]}))}))},t.prototype.K_=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.U_.set("Online"),!(t instanceof ie&&2===t.state&&t.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.ol(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.al(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ne?this.M_.qs(t):t instanceof re?this.M_.Hs(t):this.M_.Ws(t),e.isEqual(w.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.F_.Oo()];case 8:return r=i.sent(),e.S(r)>=0?[4,this.ul(e)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.al(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.al=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:if("IndexedDbTransactionError"!==t.name)throw t;return this.L_=!0,[4,this.el()];case 1:return n.sent(),this.U_.set("Offline"),this.br.Xr((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,this.F_.Oo()];case 1:return t.sent(),this.L_=!1,[4,this.J_()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ul=function(t){var e=this,n=this.M_.Xs(t);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=e.k_.get(r);i&&e.k_.set(r,i.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.k_.get(t);if(n){e.k_.set(t,n.we(O.ht,n.Ee)),e.rl(t);var r=new Dt(n.target,t,1,n.sequenceNumber);e.il(r)}})),this.hl.Mu(n)},t.prototype.ol=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:e=t.cause,n=0,r=t.targetIds,i.label=1;case 1:return n<r.length?(o=r[n],this.k_.has(o)?[4,this.hl.cl(o,e)]:[3,3]):[3,5];case 2:i.sent(),this.k_.delete(o),this.M_.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.tl=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){switch(n.label){case 0:return this._l()?(t=this.N_.length>0?this.N_[this.N_.length-1].batchId:-1,[4,this.F_.Bu(t)]):[3,5];case 1:return null!==(e=n.sent())?[3,2]:(0===this.N_.length&&this.G_.Wc(),[3,4]);case 2:return this.ll(e),[4,this.tl()];case 3:n.sent(),n.label=4;case 4:n.label=5;case 5:return this.dl()&&this.fl(),[2]}}))}))},t.prototype._l=function(){return this.B_()&&this.N_.length<10},t.prototype.Tl=function(){return this.N_.length},t.prototype.ll=function(t){this.N_.push(t),this.G_.qc()&&this.G_.h_&&this.G_.o_(t.mutations)},t.prototype.dl=function(){return this.B_()&&!this.G_.Bc()&&this.N_.length>0},t.prototype.fl=function(){this.G_.start()},t.prototype.z_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.G_.c_(),[2]}))}))},t.prototype.Y_=function(){var t=this;return this.F_.fo(this.G_.lastStreamToken).then((function(){for(var e=0,n=t.N_;e<n.length;e++){var r=n[e];t.G_.o_(r.mutations)}})).catch(rr)},t.prototype.a_=function(t,e){var n=this,r=this.N_.shift(),i=De.from(r,t,e,this.G_.lastStreamToken);return this.hl.El(i).then((function(){return n.tl()}))},t.prototype.H_=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return t&&this.N_.length>0?this.G_.h_?[4,this.Il(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.wl(t)];case 3:e.sent(),e.label=4;case 4:this.dl()&&this.fl(),e.label=5;case 5:return[2]}}))}))},t.prototype.wl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return Pt(t.code)?[2,(me("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.G_.lastStreamToken),this.G_.lastStreamToken=O.ht,this.F_.fo(O.ht).catch(rr))]:[2]}))}))},t.prototype.Il=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){return Pt(n=t.code)&&n!==f.ABORTED?(e=this.N_.shift(),[2,(this.G_.Qc(),this.hl.Rl(e.batchId,t).then((function(){return r.tl()})))]):[2]}))}))},t.prototype.Al=function(){return new Jr(this.f_)},t.prototype.q_=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.el()];case 1:return t.sent(),this.U_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.ml=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.B_()?(me("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.q_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.el()];case 3:e.sent(),this.U_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){return"firestore_clients_"+t+"_"+e}function ri(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function ii(t,e){return"firestore_targets_"+t+"_"+e}var oi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new p(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ye("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),si=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new p(r.error.code,r.error.message)),i?new t(e,r.state,o):(ye("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.gl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ai=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Kt(),s=0;i&&s<r.activeTargetIds.length;++s)i=N(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ye("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ui=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ye("SharedClientState","Failed to parse online state: "+e),null)},t}(),ci=function(){function t(){this.activeTargetIds=Kt()}return t.prototype.pl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.yl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.gl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hi=function(){function t(e,n,r,i,o){if(this.Tr=e,this.platform=n,this.persistenceKey=r,this.bl=i,this.hl=null,this.V_=null,this.ur=null,this.vl=this.Sl.bind(this),this.Dl=new Rt(Te),this.vh=!1,this.Cl=[],!t.Uh(this.platform))throw new p(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Fl=ni(this.persistenceKey,this.bl),this.Nl=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Dl=this.Dl.Ae(this.bl,new ci),this.kl=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.$l=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ml=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Ll=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.vl)}return t.Uh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,h,l,f=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.hl._u()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.bl&&(o=this.getItem(ni(this.persistenceKey,r)))&&(s=ai.Vl(r,o))&&(this.Dl=this.Dl.Ae(s.clientId,s));for(this.Ol(),(a=this.storage.getItem(this.Ll))&&(u=this.xl(a))&&this.Bl(u),c=0,h=this.Cl;c<h.length;c++)l=h[c],this.Sl(l);return this.Cl=[],this.platform.window.addEventListener("unload",(function(){return f.hu()})),this.vh=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.Nl,JSON.stringify(t))},t.prototype.ql=function(){return this.Ul(this.Dl)},t.prototype.Ql=function(t){var e=!1;return this.Dl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Wl=function(t){this.jl(t,"pending")},t.prototype.Kl=function(t,e,n){this.jl(t,e,n),this.Gl(t)},t.prototype.zl=function(t){var e="not-current";if(this.Ql(t)){var n=this.storage.getItem(ii(this.persistenceKey,t));if(n){var r=si.Vl(t,n);r&&(e=r.state)}}return this.Hl.pl(t),this.Ol(),e},t.prototype.Yl=function(t){this.Hl.yl(t),this.Ol()},t.prototype.Jl=function(t){return this.Hl.activeTargetIds.has(t)},t.prototype.Xl=function(t){this.removeItem(ii(this.persistenceKey,t))},t.prototype.Zl=function(t,e,n){this.td(t,e,n)},t.prototype.Su=function(t,e,n){var r=this;e.forEach((function(t){r.Gl(t)})),this.currentUser=t,n.forEach((function(t){r.Wl(t)}))},t.prototype.ed=function(t){this.sd(t)},t.prototype.hu=function(){this.vh&&(this.platform.window.removeEventListener("storage",this.vl),this.removeItem(this.Fl),this.vh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return me("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){me("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){me("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sl=function(t){var e=this;if(t.storageArea===this.storage){if(me("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Fl)return void ye("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.Xr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){if(this.vh){if(null!==t.key)if(this.kl.test(t.key)){if(null==t.newValue)return e=this.nd(t.key),[2,this.rd(e,null)];if(n=this.hd(t.key,t.newValue))return[2,this.rd(n.clientId,n)]}else if(this.$l.test(t.key)){if(null!==t.newValue&&(r=this.od(t.key,t.newValue)))return[2,this.ad(r)]}else if(this.Ml.test(t.key)){if(null!==t.newValue&&(o=this.ud(t.key,t.newValue)))return[2,this._d(o)]}else if(t.key===this.Ll){if(null!==t.newValue&&(s=this.xl(t.newValue)))return[2,this.Bl(s)]}else t.key===this.Nl&&(a=function(t){var e=Ve.dr;if(null!=t)try{var n=JSON.parse(t);_e("number"==typeof n),e=n}catch(t){ye("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Ve.dr&&this.ur(a)}else this.Cl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Hl",{get:function(){return this.Dl.get(this.bl)},enumerable:!0,configurable:!0}),t.prototype.Ol=function(){this.setItem(this.Fl,this.Hl.gl())},t.prototype.jl=function(t,e,n){var r=new oi(this.currentUser,t,e,n),i=ri(this.persistenceKey,this.currentUser,t);this.setItem(i,r.gl())},t.prototype.Gl=function(t){var e=ri(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.sd=function(t){var e={clientId:this.bl,onlineState:t};this.storage.setItem(this.Ll,JSON.stringify(e))},t.prototype.td=function(t,e,n){var r=ii(this.persistenceKey,t),i=new si(t,e,n);this.setItem(r,i.gl())},t.prototype.nd=function(t){var e=this.kl.exec(t);return e?e[1]:null},t.prototype.hd=function(t,e){var n=this.nd(t);return ai.Vl(n,e)},t.prototype.od=function(t,e){var n=this.$l.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return oi.Vl(new l(i),r,e)},t.prototype.ud=function(t,e){var n=this.Ml.exec(t),r=Number(n[1]);return si.Vl(r,e)},t.prototype.xl=function(t){return ui.Vl(t)},t.prototype.ad=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.hl.ld(t.batchId,t.state,t.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype._d=function(t){return this.hl.dd(t.targetId,t.state,t.error)},t.prototype.rd=function(t,e){var n=this,r=e?this.Dl.Ae(t,e):this.Dl.remove(t),i=this.Ul(this.Dl),o=this.Ul(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.hl.fd(s,a).then((function(){n.Dl=r}))},t.prototype.Bl=function(t){this.Dl.get(t.clientId)&&this.V_(t.onlineState)},t.prototype.Ul=function(t){var e=Kt();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),li=function(){function t(){this.Td=new ci,this.Ed={},this.hl=null,this.V_=null,this.ur=null}return t.prototype.Wl=function(t){},t.prototype.Kl=function(t,e,n){},t.prototype.zl=function(t){return this.Td.pl(t),this.Ed[t]||"not-current"},t.prototype.Zl=function(t,e,n){this.Ed[t]=e},t.prototype.Yl=function(t){this.Td.yl(t)},t.prototype.Jl=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.Xl=function(t){delete this.Ed[t]},t.prototype.ql=function(){return this.Td.activeTargetIds},t.prototype.Ql=function(t){return this.Td.activeTargetIds.has(t)},t.prototype.start=function(){return this.Td=new ci,Promise.resolve()},t.prototype.Su=function(t,e,n){},t.prototype.ed=function(t){},t.prototype.hu=function(){},t.prototype.lr=function(t){},t}(),fi=function(t){this.key=t},pi=function(t){this.key=t},di=function(){function t(t,e){this.query=t,this.Id=e,this.wd=null,this.fs=!1,this.Rd=Yt(),this.ns=Yt(),this.Ad=new Qt(t.se.bind(t))}return Object.defineProperty(t.prototype,"md",{get:function(){return this.Id},enumerable:!0,configurable:!0}),t.prototype.Pd=function(t,e){var n=this,r=e?e.Vd:new Zt,i=e?e.Ad:this.Ad,o=e?e.ns:this.ns,s=i,a=!1,u=this.query.oe()&&i.size===this.query.limit?i.last():null,c=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var h=i.get(t),l=e instanceof yt?e:null;l&&(l=n.query.matches(l)?l:null);var f=!!h&&n.ns.has(h.key),p=!!l&&(l.At||n.ns.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.gd(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.query.se(l,u)>0||c&&n.query.se(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var h=this.query.oe()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ad:s,Vd:r,pd:a,ns:o}},t.prototype.gd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.xn=function(t,e,n){var r=this,i=this.Ad;this.Ad=t.Ad,this.ns=t.ns;var o=t.Vd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return n(t)-n(e)}(t.type,e.type)||r.query.se(t.doc,e.doc)})),this.yd(n);var s=e?this.bd():[],a=0===this.Rd.size&&this.fs?1:0,u=a!==this.wd;return this.wd=a,0!==o.length||u?{snapshot:new Jt(this.query,t.Ad,i,o,t.ns,0===a,u,!1),vd:s}:{vd:s}},t.prototype.Sd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.xn({Ad:this.Ad,Vd:new Zt,ns:this.ns,pd:!1},!1)):{vd:[]}},t.prototype.Dd=function(t){return!this.Id.has(t)&&!!this.Ad.has(t)&&!this.Ad.get(t).At},t.prototype.yd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.Id=e.Id.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.Id=e.Id.delete(t)})),this.fs=t.fs)},t.prototype.bd=function(){var t=this;if(!this.fs)return[];var e=this.Rd;this.Rd=Yt(),this.Ad.forEach((function(e){t.Dd(e.key)&&(t.Rd=t.Rd.add(e.key))}));var n=[];return e.forEach((function(e){t.Rd.has(e)||n.push(new pi(e))})),this.Rd.forEach((function(t){e.has(t)||n.push(new fi(t))})),n},t.prototype.Cd=function(t){this.Id=t.ju,this.Rd=Yt();var e=this.Pd(t.documents);return this.xn(e,!0)},t.prototype.Fd=function(){return Jt.os(this.query,this.Ad,this.ns,0===this.wd)},t}(),vi=function(){function t(t,e,n,r){this.br=t,this.Nd=e,this.updateFunction=n,this.Dr=r,this.kd=5,this.Qr=new ze(this.br,"transaction_retry")}return t.prototype.$d=function(){this.Md()},t.prototype.Md=function(){var t=this;this.Qr.gr((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return i.__generator(this,(function(r){return t=this.Nd.Al(),(e=this.Ld(t))&&e.then((function(e){n.br.$r((function(){return t.commit().then((function(){n.Dr.resolve(e)})).catch((function(t){n.Od(t)}))}))})).catch((function(t){n.Od(t)})),[2]}))}))}))},t.prototype.Ld=function(t){try{var e=this.updateFunction(t);return!k(e)&&e.catch&&e.then?e:(this.Dr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Dr.reject(t),null}},t.prototype.Od=function(t){var e=this;this.kd>0&&this.xd(t)?(this.kd-=1,this.br.$r((function(){return e.Md(),Promise.resolve()}))):this.Dr.reject(t)},t.prototype.xd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Pt(e)}return!1},t}(),gi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mi=function(t){this.key=t,this.Bd=!1},yi=function(){function t(t,e,n,r,i){this.F_=t,this.Nd=e,this.qd=n,this.currentUser=r,this.Ud=i,this.Qd=null,this.Wd=new Oe((function(t){return t.canonicalId()})),this.jd=new Map,this.Kd=[],this.Gd=new Rt(S.N),this.zd=new Map,this.Hd=new ir,this.Yd={},this.Jd=new Map,this.Xd=dn.ko(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Zd",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Qd=t},t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("listen()"),(r=this.Wd.get(t))?(e=r.targetId,this.qd.zl(e),n=r.view.Fd(),[3,4]):[3,1];case 1:return[4,this.F_.Uu(t.ee())];case 2:return o=i.sent(),s=this.qd.zl(o.targetId),e=o.targetId,[4,this.ef(t,e,"current"===s)];case 3:n=i.sent(),this.Zd&&this.Nd.listen(o),i.label=4;case 4:return[2,n]}}))}))},t.prototype.ef=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.F_.Wu(t,!0)];case 1:return r=i.sent(),o=new di(t,r.ju),s=o.Pd(r.documents),a=ee.ds(e,n&&"Offline"!==this.onlineState),u=o.xn(s,this.Zd,a),this.sf(e,u.vd),c=new gi(t,e,o),[2,(this.Wd.set(t,c),this.jd.has(e)?this.jd.get(e).push(t):this.jd.set(e,[t]),u.snapshot)]}}))}))},t.prototype.nl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("unlisten()"),e=this.Wd.get(t),(n=this.jd.get(e.targetId)).length>1?[2,(this.jd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.Wd.delete(t))]:this.Zd?(this.qd.Yl(e.targetId),this.qd.Ql(e.targetId)?[3,2]:[4,this.F_.Qu(e.targetId,!1).then((function(){r.qd.Xl(e.targetId),r.Nd.nl(e.targetId),r.if(e.targetId)})).catch(rr)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.if(e.targetId),[4,this.F_.Qu(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:this.tf("write()"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.F_.Nu(t)];case 2:return n=i.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(r=i.sent()).name)return[2,(ye("SyncEngine","Dropping write that cannot be persisted: "+r),void e.reject(new p(f.UNAVAILABLE,"Failed to persist write: "+r)))];throw r;case 4:return this.qd.Wl(n.batchId),this.nf(n.batchId,e),[4,this.rf(n.Dn)];case 5:return i.sent(),[4,this.Nd.tl()];case 6:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new vi(t,this.Nd,e,n).$d()},t.prototype.Mu=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.Mu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.zd.get(e);r&&(_e(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?r.Bd=!0:t.Es.size>0?_e(r.Bd):t.Is.size>0&&(_e(r.Bd),r.Bd=!1))})),[4,this.rf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,rr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Sd=function(t,e){this.tf("applyOnlineStateChange()");var n=[];this.Wd.forEach((function(e,r){var i=r.view.Sd(t);i.snapshot&&n.push(i.snapshot)})),this.Qd.hf(t),this.Qd.s_(n),this.onlineState=t},t.prototype.cl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("rejectListens()"),this.qd.Zl(t,"rejected",e),n=this.zd.get(t),(r=n&&n.key)?(this.Gd=this.Gd.remove(r),this.zd.delete(t),this.af(),o=(o=new Rt(S.N)).Ae(r,new bt(r,w.min())),s=Yt().add(r),a=new te(w.min(),new Map,new Vt(Te),o,s),[2,this.Mu(a)]):[4,this.F_.Qu(t,!1).then((function(){return u.if(t,e)})).catch(rr)];case 1:return i.sent(),[2]}}))}))},t.prototype.El=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("applySuccessfulWrite()"),e=t.batch.batchId,this.uf(e,null),this.cf(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_._o(t)];case 2:return n=r.sent(),this.qd.Kl(e,"acknowledged"),[4,this.rf(n)];case 3:return r.sent(),[3,6];case 4:return[4,rr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Rl=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.tf("rejectFailedWrite()"),this.uf(t,e),this.cf(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.$u(t)];case 2:return n=r.sent(),this.qd.Kl(t,"rejected",e),[4,this.rf(n)];case 3:return r.sent(),[3,6];case 4:return[4,rr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._f=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Nd.B_()||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.F_.Po()];case 1:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.Jd.get(e)||[]).push(t),this.Jd.set(e,n),[2])}}))}))},t.prototype.cf=function(t){(this.Jd.get(t)||[]).forEach((function(t){t.resolve()})),this.Jd.delete(t)},t.prototype.lf=function(t){this.Jd.forEach((function(e){e.forEach((function(e){e.reject(new p(f.CANCELLED,t))}))})),this.Jd.clear()},t.prototype.nf=function(t,e){var n=this.Yd[this.currentUser.s()];n||(n=new Rt(Te)),n=n.Ae(t,e),this.Yd[this.currentUser.s()]=n},t.prototype.uf=function(t,e){var n=this.Yd[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Yd[this.currentUser.s()]=n}},t.prototype.if=function(t,e){var n=this;void 0===e&&(e=null),this.qd.Yl(t);for(var r=0,i=this.jd.get(t);r<i.length;r++){var o=i[r];this.Wd.delete(o),e&&this.Qd.df(o,e)}this.jd.delete(t),this.Zd&&this.Hd.ic(t).forEach((function(t){n.Hd.Co(t)||n.ff(t)}))},t.prototype.ff=function(t){var e=this.Gd.get(t);null!==e&&(this.Nd.nl(e),this.Gd=this.Gd.remove(t),this.zd.delete(e),this.af())},t.prototype.sf=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof fi?(this.Hd.Xo(i.key,t),this.Tf(i)):i instanceof pi?(me("SyncEngine","Document no longer in limbo: "+i.key),this.Hd.ta(i.key,t),this.Hd.Co(i.key)||this.ff(i.key)):we()}},t.prototype.Tf=function(t){var e=t.key;this.Gd.get(e)||(me("SyncEngine","New document in limbo: "+e),this.Kd.push(e),this.af())},t.prototype.af=function(){for(;this.Kd.length>0&&this.Gd.size<this.Ud;){var t=this.Kd.shift(),e=this.Xd.next();this.zd.set(e,new mi(t)),this.Gd=this.Gd.Ae(t,e),this.Nd.listen(new Dt(Et.Wt(t.path).ee(),e,2,Ve.dr))}},t.prototype.Ef=function(){return this.Gd},t.prototype.If=function(){return this.Kd},t.prototype.rf=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.Wd.forEach((function(i,a){o.push(Promise.resolve().then((function(){var e=a.view.Pd(t);return e.pd?s.F_.Wu(a.query,!1).then((function(t){var n=t.documents;return a.view.Pd(n,e)})):e})).then((function(t){var i=e&&e.as.get(a.targetId),o=a.view.xn(t,s.Zd,i);if(s.sf(a.targetId,o.vd),o.snapshot){s.Zd&&s.qd.Zl(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=je.ar(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Qd.s_(n),[4,this.F_.xu(r)];case 2:return i.sent(),[2]}}))}))},t.prototype.tf=function(t){},t.prototype.ml=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.lf("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.F_.Su(t)]):[3,3];case 1:return n=r.sent(),this.qd.Su(t,n.Cu,n.Fu),[4,this.rf(n.Du)];case 2:r.sent(),r.label=3;case 3:return[4,this.Nd.ml()];case 4:return r.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nd.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nd.disableNetwork()},t.prototype.ei=function(t){var e=this.zd.get(t);if(e&&e.Bd)return Yt().add(e.key);var n=Yt(),r=this.jd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Wd.get(s);n=n.He(a.view.md)}return n},t}(),bi=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,n,r,i,o)||this).F_=e,s.isPrimary=void 0,s}return i.__extends(e,t),Object.defineProperty(e.prototype,"Zd",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.F_.za(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.F_.za(!1),t.prototype.disableNetwork.call(this)},e.prototype.wf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.F_.Wu(t.query,!0)];case 1:return e=r.sent(),n=t.view.Cd(e),[2,(this.isPrimary&&this.sf(t.targetId,n.vd),n)]}}))}))},e.prototype.Sd=function(e,n){this.Zd&&0===n&&(t.prototype.Sd.call(this,e,n),this.qd.ed(e)),this.Zd||1!==n||t.prototype.Sd.call(this,e,n)},e.prototype.ld=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.tf("applyBatchState()"),[4,this.F_.Gu(t)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Nd.tl()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.uf(t,n||null),this.F_.zu(t)):we(),i.label=4;case 4:return[4,this.rf(r)];case 5:return i.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))},e.prototype.Pl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Nd.Pl(!0)]);case 1:return i.sent(),e=this.qd.ql(),[4,this.Rf(e.W())];case 2:for(n=i.sent(),r=0,o=n;r<o.length;r++)s=o[r],this.Nd.listen(s);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),this.jd.forEach((function(t,e){c.qd.Jl(e)?a.push(e):u=u.then((function(){return c.if(e),c.F_.Qu(e,!0)})),c.Nd.nl(e)})),[4,u]);case 4:return i.sent(),[4,this.Rf(a)];case 5:return i.sent(),this.Af(),[4,this.Nd.Pl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},e.prototype.Af=function(){var t=this;this.zd.forEach((function(e,n){t.Nd.nl(n)})),this.Hd.nc(),this.zd=new Map,this.Gd=new Rt(S.N)},e.prototype.Rf=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c,h,l,f,p,d;return i.__generator(this,(function(i){switch(i.label){case 0:e=[],n=[],r=0,o=t,i.label=1;case 1:return r<o.length?(s=o[r],a=void 0,(u=this.jd.get(s))&&0!==u.length?[4,this.F_.Qu(s,!0)]:[3,8]):[3,14];case 2:return i.sent(),[4,this.F_.Uu(u[0].ee())];case 3:a=i.sent(),c=0,h=u,i.label=4;case 4:return c<h.length?(l=h[c],f=this.Wd.get(l),[4,this.wf(f)]):[3,7];case 5:(p=i.sent()).snapshot&&n.push(p.snapshot),i.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.F_.Hu(s)];case 9:return d=i.sent(),[4,this.F_.Uu(d)];case 10:return a=i.sent(),[4,this.ef(this.mf(d),s,!1)];case 11:i.sent(),i.label=12;case 12:e.push(a),i.label=13;case 13:return r++,[3,1];case 14:return[2,(this.Qd.s_(n),e)]}}))}))},e.prototype.mf=function(t){return new Et(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype._u=function(){return this.F_._u()},e.prototype.dd=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isPrimary?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.jd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.F_.la()];case 3:return r=i.sent(),o=te.ls(t,"current"===e),[4,this.rf(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.F_.Qu(t,!0)];case 6:return i.sent(),this.if(t,n),[3,8];case 7:we(),i.label=8;case 8:return[2]}}))}))},e.prototype.fd=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,h,l,f,p=this;return i.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[3,10];n=0,r=t,d.label=1;case 1:return n<r.length?(o=r[n],this.jd.has(o)?(me("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.F_.Hu(o)]):[3,6];case 2:return s=d.sent(),[4,this.F_.Uu(s)];case 3:return a=d.sent(),[4,this.ef(this.mf(s),a.targetId,!1)];case 4:d.sent(),this.Nd.listen(a),d.label=5;case 5:return n++,[3,1];case 6:u=function(t){return i.__generator(this,(function(e){switch(e.label){case 0:return c.jd.has(t)?[4,c.F_.Qu(t,!1).then((function(){p.Nd.nl(t),p.if(t)})).catch(rr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,l=e,d.label=7;case 7:return h<l.length?(f=l[h],[5,u(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},e}(yi),wi=function(){this.Pf=void 0,this.Vf=[]},_i=function(){function t(t){this.hl=t,this.gf=new Oe((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.pf=new Set,this.hl.subscribe(this)}return t.prototype.listen=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(e=t.query,n=!1,(r=this.gf.get(e))||(n=!0,r=new wi),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.hl.listen(e)];case 2:return o.Pf=i.sent(),[3,4];case 3:if(s=i.sent(),ye("EventManager",a="Initialization of query '"+e+"' failed: "+s),"IndexedDbTransactionError"!==s.name)throw s;return[2,void t.onError(new p(f.UNAVAILABLE,a))];case 4:return this.gf.set(e,r),r.Vf.push(t),t.Sd(this.onlineState),r.Pf&&t.yf(r.Pf)&&this.bf(),[2]}}))}))},t.prototype.nl=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o;return i.__generator(this,(function(i){return e=t.query,n=!1,(r=this.gf.get(e))&&(o=r.Vf.indexOf(t))>=0&&(r.Vf.splice(o,1),n=0===r.Vf.length),n?[2,(this.gf.delete(e),this.hl.nl(e))]:[2]}))}))},t.prototype.s_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.gf.get(o);if(s){for(var a=0,u=s.Vf;a<u.length;a++)u[a].yf(i)&&(e=!0);s.Pf=i}}e&&this.bf()},t.prototype.df=function(t,e){var n=this.gf.get(t);if(n)for(var r=0,i=n.Vf;r<i.length;r++)i[r].onError(e);this.gf.delete(t)},t.prototype.hf=function(t){this.onlineState=t;var e=!1;this.gf.forEach((function(n,r){for(var i=0,o=r.Vf;i<o.length;i++)o[i].Sd(t)&&(e=!0)})),e&&this.bf()},t.prototype.vf=function(t){this.pf.add(t),t.next()},t.prototype.Sf=function(t){this.pf.delete(t)},t.prototype.bf=function(){this.pf.forEach((function(t){t.next()}))},t}(),Ei=function(){function t(t,e,n){this.query=t,this.Df=e,this.Cf=!1,this.Ff=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.Cf?this.Nf(t)&&(this.Df.next(t),o=!0):this.kf(t,this.onlineState)&&(this.$f(t),o=!0),this.Ff=t,o},t.prototype.onError=function(t){this.Df.error(t)},t.prototype.Sd=function(t){this.onlineState=t;var e=!1;return this.Ff&&!this.Cf&&this.kf(this.Ff,t)&&(this.$f(this.Ff),e=!0),e},t.prototype.kf=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Mf&&n||t.docs.B()&&"Offline"!==e)},t.prototype.Nf=function(t){if(t.docChanges.length>0)return!0;var e=this.Ff&&this.Ff.hasPendingWrites!==t.hasPendingWrites;return!(!t.rs&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.$f=function(t){t=Jt.os(t.query,t.docs,t.ns,t.fromCache),this.Cf=!0,this.Df.next(t)},t}(),xi=function(){function t(){}return t.prototype.vu=function(t){this.Lf=t},t.prototype.Zn=function(t,e,n,r){var i=this;return e.te()||n.isEqual(w.min())?this.Of(t,e):this.Lf.Yn(t,r).next((function(o){var a=i.xf(e,o);return(e.oe()||e.ae())&&i.pd(e.Bt,a,r,n)?i.Of(t,e):(ve()<=s.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Lf.Zn(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ae(e.key,e)})),t})))}))},t.prototype.xf=function(t,e){var n=new Vt((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof yt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.pd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},t.prototype.Of=function(t,e){return ve()<=s.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Lf.Zn(t,e,w.min())},t}(),Ti=function(){function t(t,e){this.jn=t,this.oo=e,this.Wn=[],this.Bf=1,this.lastStreamToken=O.ht,this.qf=new Vt(or.Ju)}return t.prototype.co=function(t){return Ne.resolve(0===this.Wn.length)},t.prototype._o=function(t,e,n){var r=e.batchId,i=this.Uf(r,"acknowledged");return _e(0===i),this.Wn[i],this.lastStreamToken=n,Ne.resolve()},t.prototype.do=function(t){return Ne.resolve(this.lastStreamToken)},t.prototype.fo=function(t,e){return this.lastStreamToken=e,Ne.resolve()},t.prototype.To=function(t,e,n,r){var i=this.Bf;this.Bf++,this.Wn.length>0&&this.Wn[this.Wn.length-1];var o=new ke(i,e,n,r);this.Wn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qf=this.qf.add(new or(u.key,i)),this.jn.Io(t,u.key.path.M())}return Ne.resolve(o)},t.prototype.wo=function(t,e){return Ne.resolve(this.Qf(e))},t.prototype.mo=function(t,e){var n=e+1,r=this.Wf(n),i=r<0?0:r;return Ne.resolve(this.Wn.length>i?this.Wn[i]:null)},t.prototype.Po=function(){return Ne.resolve(0===this.Wn.length?-1:this.Bf-1)},t.prototype.Vo=function(t){return Ne.resolve(this.Wn.slice())},t.prototype.Gn=function(t,e){var n=this,r=new or(e,0),i=new or(e,Number.POSITIVE_INFINITY),o=[];return this.qf.Ke([r,i],(function(t){var e=n.Qf(t.hc);o.push(e)})),Ne.resolve(o)},t.prototype.Xn=function(t,e){var n=this,r=new Vt(Te);return e.forEach((function(t){var e=new or(t,0),i=new or(t,Number.POSITIVE_INFINITY);n.qf.Ke([e,i],(function(t){r=r.add(t.hc)}))})),Ne.resolve(this.jf(r))},t.prototype.nr=function(t,e){var n=e.path,r=n.length+1,i=n;S.et(i)||(i=i.child(""));var o=new or(new S(i),0),s=new Vt(Te);return this.qf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.hc)),!0)}),o),Ne.resolve(this.jf(s))},t.prototype.jf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Qf(t);null!==r&&n.push(r)})),n},t.prototype.yo=function(t,e){var n=this;_e(0===this.Uf(e.batchId,"removed")),this.Wn.shift();var r=this.qf;return Ne.forEach(e.mutations,(function(i){var o=new or(i.key,e.batchId);return r=r.delete(o),n.oo.So(t,i.key)})).next((function(){n.qf=r}))},t.prototype.vo=function(t){},t.prototype.Co=function(t,e){var n=new or(e,0),r=this.qf.ze(n);return Ne.resolve(e.isEqual(r&&r.key))},t.prototype.Do=function(t){return this.Wn.length,Ne.resolve()},t.prototype.Uf=function(t,e){return this.Wf(t)},t.prototype.Wf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.Qf=function(t){var e=this.Wf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},t}(),Si=function(){function t(t,e){this.jn=t,this.Kf=e,this.docs=new Rt(S.N),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Kf(e);return this.docs=this.docs.Ae(r,{ra:e,size:s,readTime:n}),this.size+=s-o,this.jn.Io(t,r.path.M())},t.prototype.$n=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Mn=function(t,e){var n=this.docs.get(e);return Ne.resolve(n?n.ra:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ut();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ae(t,e?e.ra:null)})),Ne.resolve(r)},t.prototype.Zn=function(t,e,n){for(var r=Gt(),i=new S(e.path.child("")),o=this.docs.ve(i);o.ke();){var s=o.Ne(),a=s.key,u=s.value,c=u.ra,h=u.readTime;if(!e.path.q(a.path))break;h.S(n)<=0||c instanceof yt&&e.matches(c)&&(r=r.Ae(c.key,c))}return Ne.resolve(r)},t.prototype.Gf=function(t,e){return Ne.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Ea=function(e){return new t.Ia(this)},t.prototype.Ra=function(t){return Ne.resolve(this.size)},t}();Si.Ia=function(t){function e(e){var n=this;return(n=t.call(this)||this).Aa=e,n}return i.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[];return this.Dn.forEach((function(r,i){i?n.push(e.Aa.Nn(t,i,e.readTime)):e.Aa.$n(r)})),Ne.vn(n)},e.prototype.Ln=function(t,e){return this.Aa.Mn(t,e)},e.prototype.On=function(t,e){return this.Aa.getEntries(t,e)},e}(Pe);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ii=function(){function t(t){this.persistence=t,this.zf=new Oe((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=w.min(),this.highestTargetId=0,this.Hf=0,this.Yf=new ir,this.targetCount=0,this.Jf=dn.No()}return t.prototype.js=function(t,e){return this.zf.forEach((function(t,n){return e(n)})),Ne.resolve()},t.prototype.Oo=function(t){return Ne.resolve(this.lastRemoteSnapshotVersion)},t.prototype.xo=function(t){return Ne.resolve(this.Hf)},t.prototype.$o=function(t){return this.highestTargetId=this.Jf.next(),Ne.resolve(this.highestTargetId)},t.prototype.Bo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hf&&(this.Hf=e),Ne.resolve()},t.prototype.Uo=function(t){this.zf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jf=new dn(e),this.highestTargetId=e),t.sequenceNumber>this.Hf&&(this.Hf=t.sequenceNumber)},t.prototype.qo=function(t,e){return this.Uo(e),this.targetCount+=1,Ne.resolve()},t.prototype.Wo=function(t,e){return this.Uo(e),Ne.resolve()},t.prototype.jo=function(t,e){return this.zf.delete(e.target),this.Yf.ic(e.targetId),this.targetCount-=1,Ne.resolve()},t.prototype.$h=function(t,e,n){var r=this,i=0,o=[];return this.zf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zf.delete(s),o.push(r.Ko(t,a.targetId)),i++)})),Ne.vn(o).next((function(){return i}))},t.prototype.Ho=function(t){return Ne.resolve(this.targetCount)},t.prototype.Yo=function(t,e){var n=this.zf.get(e)||null;return Ne.resolve(n)},t.prototype.Jo=function(t,e,n){return this.Yf.tc(e,n),Ne.resolve()},t.prototype.Zo=function(t,e,n){this.Yf.sc(e,n);var r=this.persistence.oo,i=[];return r&&e.forEach((function(e){i.push(r.So(t,e))})),Ne.vn(i)},t.prototype.Ko=function(t,e){return this.Yf.ic(e),Ne.resolve()},t.prototype.ea=function(t,e){var n=this.Yf.rc(e);return Ne.resolve(n)},t.prototype.Co=function(t,e){return Ne.resolve(this.Yf.Co(e))},t}(),Ci=function(){function t(t){var e=this;this.Xf={},this.ja=new Ve(0),this.Da=!1,this.Da=!0,this.oo=t(this),this.Oa=new Ii(this),this.jn=new Sn,this.Qn=new Si(this.jn,(function(t){return e.oo.Zf(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.hu=function(){return this.Da=!1,Promise.resolve()},Object.defineProperty(t.prototype,"vh",{get:function(){return this.Da},enumerable:!0,configurable:!0}),t.prototype.Ga=function(){},t.prototype.Tu=function(){return this.jn},t.prototype.lu=function(t){var e=this.Xf[t.s()];return e||(e=new Ti(this.jn,this.oo),this.Xf[t.s()]=e),e},t.prototype.du=function(){return this.Oa},t.prototype.fu=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;me("MemoryPersistence","Starting transaction:",t);var i=new Ai(this.ja.next());return this.oo.tT(),n(i).next((function(t){return r.oo.eT(i).next((function(){return t}))})).yn().then((function(t){return i.Un(),t}))},t.prototype.sT=function(t,e){return Ne.Sn(Object.values(this.Xf).map((function(n){return function(){return n.Co(t,e)}})))},t}(),Ai=function(t){function e(e){var n=this;return(n=t.call(this)||this).va=e,n}return i.__extends(e,t),e}(Re),Oi=function(){function t(t){this.persistence=t,this.iT=new ir,this.nT=null}return t.rT=function(e){return new t(e)},Object.defineProperty(t.prototype,"hT",{get:function(){if(this.nT)return this.nT;throw we()},enumerable:!0,configurable:!0}),t.prototype.Xo=function(t,e,n){return this.iT.Xo(n,e),this.hT.delete(n),Ne.resolve()},t.prototype.ta=function(t,e,n){return this.iT.ta(n,e),this.hT.add(n),Ne.resolve()},t.prototype.So=function(t,e){return this.hT.add(e),Ne.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.iT.ic(e.targetId).forEach((function(t){return n.hT.add(t)}));var r=this.persistence.du();return r.ea(t,e.targetId).next((function(t){t.forEach((function(t){return n.hT.add(t)}))})).next((function(){return r.jo(t,e)}))},t.prototype.tT=function(){this.nT=new Set},t.prototype.eT=function(t){var e=this,n=this.persistence.fu().Ea();return Ne.forEach(this.hT,(function(r){return e.oT(t,r).next((function(t){t||n.$n(r)}))})).next((function(){return e.nT=null,n.apply(t)}))},t.prototype.mu=function(t,e){var n=this;return this.oT(t,e).next((function(t){t?n.hT.delete(e):n.hT.add(e)}))},t.prototype.Zf=function(t){return 0},t.prototype.oT=function(t,e){var n=this;return Ne.Sn([function(){return Ne.resolve(n.iT.Co(e))},function(){return n.persistence.du().Co(t,e)},function(){return n.persistence.sT(t,e)}])},t}(),ki=function(){function t(){}return t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.qd=this.aT(t),this.persistence=this.uT(t),[4,this.persistence.start()];case 1:return n.sent(),this.cT=this._T(t),this.F_=this.lT(t),this.Nd=this.dT(t),this.hl=this.fT(t),this.TT=this.ET(t),this.qd.V_=function(t){return e.hl.Sd(t,1)},this.Nd.hl=this.hl,[4,this.F_.start()];case 2:return n.sent(),[4,this.qd.start()];case 3:return n.sent(),[4,this.Nd.start()];case 4:return n.sent(),[4,this.Nd.Pl(this.hl.Zd)];case 5:return n.sent(),[2]}}))}))},t.prototype.ET=function(t){return new _i(this.hl)},t.prototype._T=function(t){return null},t.prototype.lT=function(t){return new er(this.persistence,new xi,t.IT)},t.prototype.uT=function(t){return new Ci(Oi.rT)},t.prototype.dT=function(t){var e=this;return new ei(this.F_,t.f_,t.br,(function(t){return e.hl.Sd(t,0)}),t.platform.wT())},t.prototype.aT=function(t){return new li},t.prototype.fT=function(t){return new yi(this.F_,this.Nd,this.qd,t.IT,t.Ud)},t.prototype.clearPersistence=function(t){throw new p(f.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.Ka((function(t){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.hl.Pl(t)];case 1:return e.sent(),this.cT&&(t&&!this.cT.vh?this.cT.start(this.F_):t||this.cT.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},e.prototype.lT=function(t){return new nr(this.persistence,new xi,t.IT)},e.prototype.fT=function(t){var e=new bi(this.F_,this.Nd,this.qd,t.IT,t.Ud);return this.qd instanceof hi&&(this.qd.hl=e),e},e.prototype._T=function(t){var e=this.persistence.oo.Vh;return new $e(e,t.br)},e.prototype.uT=function(t){var e=Kn.Iu(t.RT),n=t.platform.yc(t.RT.ii);return new Kn(t.AT.synchronizeTabs,e,t.clientId,t.platform,He.Eh(t.AT.cacheSizeBytes),t.br,n,this.qd)},e.prototype.aT=function(t){if(t.AT.mT&&t.AT.synchronizeTabs){if(!hi.Uh(t.platform))throw new p(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=Kn.Iu(t.RT);return new hi(t.br,t.platform,e,t.clientId,t.IT)}return new li},e.prototype.clearPersistence=function(t){var e=Kn.Iu(t);return Kn.clearPersistence(e)},e}(ki),Ni=function(){function t(t,e,n,r){this.platform=t,this.RT=e,this.credentials=n,this.br=r,this.clientId=xe.cn()}return t.prototype.start=function(t,e){var n=this;this.PT();var r=new Be,i=new Be,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,me("FirestoreClient","Initializing. user=",s.uid),n.VT(t,e,s,i).then(r.resolve,r.reject);n.br.$r((function(){return n.ml(s)}))})),this.br.$r((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.PT(),this.br.enqueue((function(){return t.hl.enableNetwork()}))},t.prototype.VT=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c=this;return i.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,this.platform.gT(this.RT)];case 1:return o=h.sent(),s=this.platform.yc(this.RT.ii),a=function(t,e,n){return new Zr(t,e,n)}(o,this.credentials,s),[4,t.initialize({br:this.br,RT:this.RT,platform:this.platform,f_:a,clientId:this.clientId,IT:n,Ud:100,AT:e})];case 2:return h.sent(),this.persistence=t.persistence,this.qd=t.qd,this.F_=t.F_,this.Nd=t.Nd,this.hl=t.hl,this.cT=t.cT,this.pT=t.TT,this.persistence.Ga((function(){return i.__awaiter(c,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=h.sent(),r.reject(u),!this.yT(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.VT(new ki,{mT:!1},n,r))];case 4:return[2]}}))}))},t.prototype.yT=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.PT=function(){if(this.br.Kr)throw new p(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.ml=function(t){return this.br.th(),me("FirestoreClient","Credential Changed. Current user: "+t.uid),this.hl.ml(t)},t.prototype.disableNetwork=function(){var t=this;return this.PT(),this.br.enqueue((function(){return t.hl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.br.Jr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.cT&&this.cT.stop(),[4,this.Nd.hu()];case 1:return t.sent(),[4,this.qd.hu()];case 2:return t.sent(),[4,this.persistence.hu()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.PT();var e=new Be;return this.br.$r((function(){return t.hl._f(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.PT();var i=new Ei(t,e,n);return this.br.$r((function(){return r.pT.listen(i)})),i},t.prototype.nl=function(t){var e=this;this.bT||this.br.$r((function(){return e.pT.nl(t)}))},t.prototype.vT=function(t){var e=this;return this.PT(),this.br.enqueue((function(){return e.F_.qu(t)})).then((function(t){if(t instanceof yt)return t;if(t instanceof bt)return null;throw new p(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.ST=function(t){var e=this;return this.PT(),this.br.enqueue((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.F_.Wu(t,!0)];case 1:return e=i.sent(),n=new di(t,e.ju),r=n.Pd(e.documents),[2,n.xn(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.PT();var n=new Be;return this.br.$r((function(){return e.hl.write(t,n)})),n.promise},t.prototype.ii=function(){return this.RT.ii},t.prototype.vf=function(t){var e=this;this.PT(),this.br.$r((function(){return e.pT.vf(t),Promise.resolve()}))},t.prototype.Sf=function(t){this.bT||this.pT.Sf(t)},Object.defineProperty(t.prototype,"bT",{get:function(){return this.br.Kr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.PT();var n=new Be;return this.br.$r((function(){return e.hl.runTransaction(e.br,t,n),Promise.resolve()})),n.promise},t}(),Pi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.DT(this.observer.next,t)},t.prototype.error=function(t){this.DT(this.observer.error,t)},t.prototype.CT=function(){this.muted=!0},t.prototype.DT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ri=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.FT=n,this.converter=r}return t.prototype.NT=function(t){switch(L(t)){case 0:return null;case 1:return t.booleanValue;case 2:return q(t.integerValue||t.doubleValue);case 3:return this.kT(t.timestampValue);case 4:return this.$T(t);case 5:return t.stringValue;case 6:return new Ir(G(t.bytesValue));case 7:return this.MT(t.referenceValue);case 8:return this.LT(t.geoPointValue);case 9:return this.OT(t.arrayValue);case 10:return this.xT(t.mapValue);default:throw we()}},t.prototype.xT=function(t){var e=this,n={};return C(t.fields||{},(function(t,r){n[t]=e.NT(r)})),n},t.prototype.LT=function(t){return new Rr(q(t.latitude),q(t.longitude))},t.prototype.OT=function(t){var e=this;return(t.values||[]).map((function(t){return e.NT(t)}))},t.prototype.$T=function(t){switch(this.FT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return P(n)?t(n):n}(t);return null==e?null:this.NT(e);case"estimate":return this.kT(M(t));default:return null}},t.prototype.kT=function(t){var e=U(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.MT=function(t){var e=E.K(t);_e(fe(e));var n=new Ae(e.get(1),e.get(3)),r=new S(e.$(5));return n.isEqual(this.firestore.Nc)||ye("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.Nc.projectId+"/"+this.firestore.Nc.database+") instead."),new Fi(r,this.firestore,this.converter)},t}(),Li=He.Rh,ji=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new p(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fr("settings","non-empty string","host",t.host),this.host=t.host,pr("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(br("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),pr("settings","object","credentials",t.credentials),this.credentials=t.credentials,pr("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?ye("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&ye("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,pr("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=He.mh;else{if(t.cacheSizeBytes!==Li&&t.cacheSizeBytes<He.Ah)throw new p(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+He.Ah);this.cacheSizeBytes=t.cacheSizeBytes}pr("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Vi=function(){function t(e,n,r){var o=this;if(void 0===r&&(r=new ki),this.BT=null,this.qT=new Ue,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.UT(),[4,this.QT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.BT=s,this.Nc=t.WT(s),this.jT=s.name,this.KT=new g(n)}else{var a=e;if(!a.projectId)throw new p(f.INVALID_ARGUMENT,"Must provide projectId");this.Nc=new Ae(a.projectId,a.database),this.jT="[DEFAULT]",this.KT=new v}this.GT=r,this.zT=new ji({}),this.HT=new Fr(this.Nc)}return t.prototype.settings=function(t){ar("Firestore.settings",arguments,1),hr("Firestore.settings","object",1,t);var e=new ji(t);if(this.QT&&!this.zT.isEqual(e))throw new p(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.zT=e,void 0!==e.credentials&&(this.KT=function(t){if(!t)return new v;switch(t.type){case"gapi":var e=t.YT;return _e(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new y(e,t.V||"0");case"provider":return t.YT;default:throw new p(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.UT(),this.QT.enableNetwork()},t.prototype.disableNetwork=function(){return this.UT(),this.QT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.QT)throw new p(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&ye("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.JT(this.GT,{mT:!0,cacheSizeBytes:this.zT.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e=this;return i.__generator(this,(function(n){if(void 0!==this.QT&&!this.QT.bT)throw new p(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Be,[2,(this.qT.Gr((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.XT(),[4,this.GT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ZT",{get:function(){return this.UT(),this.QT.bT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.UT(),this.QT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.UT(),Mi(t))return this.tE(t);hr("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.tE(e)},t.prototype.tE=function(t){var e=this,n=new Pi({next:function(){t.next&&t.next()},error:function(t){throw we()}});return this.QT.vf(n),function(){n.CT(),e.QT.Sf(n)}},t.prototype.UT=function(){return this.QT||this.JT(new ki,{mT:!1}),this.QT},t.prototype.XT=function(){return new Ce(this.Nc,this.jT,this.zT.host,this.zT.ssl,this.zT.forceLongPolling)},t.prototype.JT=function(t,e){var n=this.XT();return this.QT=new Ni(pe.nt(),n,this.KT,this.qT),this.QT.start(t,e)},t.WT=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new p(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new p(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ae(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.BT)throw new p(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.BT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return ar("Firestore.collection",arguments,1),hr("Firestore.collection","non-empty string",1,t),this.UT(),new $i(E.K(t),this)},t.prototype.doc=function(t){return ar("Firestore.doc",arguments,1),hr("Firestore.doc","non-empty string",1,t),this.UT(),Fi.eE(E.K(t),this)},t.prototype.collectionGroup=function(t){if(ar("Firestore.collectionGroup",arguments,1),hr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new p(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.UT(),new Wi(new Et(E.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return ar("Firestore.runTransaction",arguments,1),hr("Firestore.runTransaction","function",1,t),this.UT().transaction((function(n){return t(new Bi(e,n))}))},t.prototype.batch=function(){return this.UT(),new zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ve()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(ar("Firestore.setLogLevel",arguments,1),hr("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":ge(s.LogLevel.DEBUG);break;case"error":ge(s.LogLevel.ERROR);break;case"silent":ge(s.LogLevel.SILENT);break;default:throw new p(f.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.sE=function(){return this.zT.timestampsInSnapshots},t}(),Bi=function(){function t(t,e){this.iE=t,this.nE=e}return t.prototype.get=function(t){var e=this;ar("Transaction.get",arguments,1);var n=Qi("Transaction.get",t,this.iE);return this.nE.R_([n.kc]).then((function(t){if(!t||1!==t.length)return we();var r=t[0];if(r instanceof bt)return new qi(e.iE,n.kc,null,!1,!1,n.rE);if(r instanceof yt)return new qi(e.iE,n.kc,r,!1,!1,n.rE);throw we()}))},t.prototype.set=function(t,e,n){cr("Transaction.set",arguments,2,3);var r=Qi("Transaction.set",t,this.iE);n=Yi("Transaction.set",n);var i=Ji(r.rE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.iE.HT.Sc(s,o,n.mergeFields):this.iE.HT.bc(s,o);return this.nE.set(r.kc,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Cr?(ur("Transaction.update",arguments,3),r=Qi("Transaction.update",t,this.iE),i=this.iE.HT.Cc("Transaction.update",e,n,o)):(ar("Transaction.update",arguments,2),r=Qi("Transaction.update",t,this.iE),i=this.iE.HT.Dc("Transaction.update",e)),this.nE.update(r.kc,i),this},t.prototype.delete=function(t){ar("Transaction.delete",arguments,1);var e=Qi("Transaction.delete",t,this.iE);return this.nE.delete(e.kc),this},t}(),zi=function(){function t(t){this.iE=t,this.hE=[],this.oE=!1}return t.prototype.set=function(t,e,n){cr("WriteBatch.set",arguments,2,3),this.aE();var r=Qi("WriteBatch.set",t,this.iE);n=Yi("WriteBatch.set",n);var i=Ji(r.rE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.iE.HT.Sc(s,o,n.mergeFields):this.iE.HT.bc(s,o);return this.hE=this.hE.concat(a.Rc(r.kc,ot.ft())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.aE(),"string"==typeof e||e instanceof Cr?(ur("WriteBatch.update",arguments,3),r=Qi("WriteBatch.update",t,this.iE),i=this.iE.HT.Cc("WriteBatch.update",e,n,o)):(ar("WriteBatch.update",arguments,2),r=Qi("WriteBatch.update",t,this.iE),i=this.iE.HT.Dc("WriteBatch.update",e)),this.hE=this.hE.concat(i.Rc(r.kc,ot.exists(!0))),this},t.prototype.delete=function(t){ar("WriteBatch.delete",arguments,1),this.aE();var e=Qi("WriteBatch.delete",t,this.iE);return this.hE=this.hE.concat(new ht(e.kc,ot.ft())),this},t.prototype.commit=function(){return this.aE(),this.oE=!0,this.hE.length>0?this.iE.UT().write(this.hE):Promise.resolve()},t.prototype.aE=function(){if(this.oE)throw new p(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Fi=function(){function t(t,e,n){this.kc=t,this.firestore=e,this.rE=n,this.QT=this.firestore.UT()}return t.eE=function(e,n,r){if(e.length%2!=0)throw new p(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.j()+" has "+e.length);return new t(new S(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $i(this.kc.path.M(),this.firestore,this.rE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.kc.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(ar("DocumentReference.collection",arguments,1),hr("DocumentReference.collection","non-empty string",1,t),!t)throw new p(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=E.K(t);return new $i(this.kc.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wr("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.kc.isEqual(e.kc)&&this.rE===e.rE},t.prototype.set=function(t,e){cr("DocumentReference.set",arguments,1,2),e=Yi("DocumentReference.set",e);var n=Ji(this.rE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.HT.Sc(i,r,e.mergeFields):this.firestore.HT.bc(i,r);return this.QT.write(o.Rc(this.kc,ot.ft()))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Cr?(ur("DocumentReference.update",arguments,2),n=this.firestore.HT.Cc("DocumentReference.update",t,e,r)):(ar("DocumentReference.update",arguments,1),n=this.firestore.HT.Dc("DocumentReference.update",t)),this.QT.write(n.Rc(this.kc,ot.exists(!0)))},t.prototype.delete=function(){return ar("DocumentReference.delete",arguments,0),this.QT.write([new ht(this.kc,ot.ft())])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];cr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Mi(t[i])||(br("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),pr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Mi(t[i])?n=t[i]:(hr("DocumentReference.onSnapshot","function",i,t[i]),lr("DocumentReference.onSnapshot","function",i+1,t[i+1]),lr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.uE(o,n)},t.prototype.uE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){if(e.next){var r=t.docs.get(n.kc);e.next(new qi(n.firestore,n.kc,r,t.fromCache,t.hasPendingWrites,n.rE))}},error:r}),o=this.QT.listen(Et.Wt(this.kc.path),i,t);return function(){i.CT(),n.QT.nl(o)}},t.prototype.get=function(t){var e=this;return cr("DocumentReference.get",arguments,0,1),Ki("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.UT().vT(e.kc).then((function(t){n(new qi(e.firestore,e.kc,t,!0,t instanceof yt&&t.At,e.rE))}),r):e.cE(n,r,t)}))},t.prototype.cE=function(t,e,n){var r=this.uE({includeMetadataChanges:!0,Mf:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new p(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new p(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.kc,this.firestore,e)},t}(),Ui=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qi=function(){function t(t,e,n,r,i,o){this.iE=t,this.kc=e,this._E=n,this.lE=r,this.dE=i,this.rE=o}return t.prototype.data=function(t){if(cr("DocumentSnapshot.data",arguments,0,1),t=Xi("DocumentSnapshot.data",t),this._E){if(this.rE){var e=new Gi(this.iE,this.kc,this._E,this.lE,this.dE);return this.rE.fromFirestore(e,t)}return new Ri(this.iE,this.iE.sE(),t.serverTimestamps,void 0).NT(this._E.Mt())}},t.prototype.get=function(t,e){if(cr("DocumentSnapshot.get",arguments,1,2),e=Xi("DocumentSnapshot.get",e),this._E){var n=this._E.data().field(Hr("DocumentSnapshot.get",t));if(null!==n)return new Ri(this.iE,this.iE.sE(),e.serverTimestamps,this.rE).NT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Fi(this.kc,this.iE,this.rE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._E},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ui(this.dE,this.lE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw wr("isEqual","DocumentSnapshot",1,e);return this.iE===e.iE&&this.lE===e.lE&&this.kc.isEqual(e.kc)&&(null===this._E?null===e._E:this._E.isEqual(e._E))&&this.rE===e.rE},t}(),Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(qi),Wi=function(){function t(t,e,n){this.fE=t,this.firestore=e,this.rE=n}return t.prototype.where=function(e,n,r){ar("Query.where",arguments,3),yr("Query.where",3,r);var i,o=function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new p(f.INVALID_ARGUMENT,"Invalid value "+mr(r)+" provided to function Query.where() for its "+Er(2)+" argument. Acceptable values: "+e.join(", "));return r}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),s=Hr("Query.where",e);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new p(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.TE(r,o);for(var a=[],u=0,c=r;u<c.length;u++){var h=c[u];a.push(this.EE(h))}i={arrayValue:{values:a}}}else i=this.EE(r)}else"in"!==o&&"array-contains-any"!==o||this.TE(r,o),i=this.firestore.HT.Fc("Query.where",r,"in"===o);var l=xt.create(s,o,i);return this.IE(l),new t(this.fE.Gt(l),this.firestore,this.rE)},t.prototype.orderBy=function(e,n){var r;if(cr("Query.orderBy",arguments,1,2),lr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new p(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.fE.startAt)throw new p(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.fE.endAt)throw new p(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Hr("Query.orderBy",e),o=new kt(i,r);return this.wE(o),new t(this.fE.zt(o),this.firestore,this.rE)},t.prototype.limit=function(e){return ar("Query.limit",arguments,1),hr("Query.limit","number",1,e),_r("Query.limit",1,e),new t(this.fE.Ht(e),this.firestore,this.rE)},t.prototype.limitToLast=function(e){return ar("Query.limitToLast",arguments,1),hr("Query.limitToLast","number",1,e),_r("Query.limitToLast",1,e),new t(this.fE.Yt(e),this.firestore,this.rE)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.startAt",arguments,1);var i=this.RE("Query.startAt",e,n,!0);return new t(this.fE.Jt(i),this.firestore,this.rE)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.startAfter",arguments,1);var i=this.RE("Query.startAfter",e,n,!1);return new t(this.fE.Jt(i),this.firestore,this.rE)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.endBefore",arguments,1);var i=this.RE("Query.endBefore",e,n,!0);return new t(this.fE.Xt(i),this.firestore,this.rE)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ur("Query.endAt",arguments,1);var i=this.RE("Query.endAt",e,n,!1);return new t(this.fE.Xt(i),this.firestore,this.rE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wr("isEqual","Query",1,e);return this.firestore===e.firestore&&this.fE.isEqual(e.fE)},t.prototype.withConverter=function(e){return new t(this.fE,this.firestore,e)},t.prototype.RE=function(t,e,n,r){if(yr(t,1,e),e instanceof qi){if(n.length>0)throw new p(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new p(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.AE(i._E,r)}var o=[e].concat(n);return this.mE(t,o,r)},t.prototype.AE=function(t,e){for(var n=[],r=0,i=this.fE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(W(this.firestore.Nc,t.key));else{var s=t.field(o.field);if(P(s))throw new p(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new p(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Ot(n,e)},t.prototype.mE=function(t,e,n){var r=this.fE.xt;if(e.length>r.length)throw new p(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new p(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.fE._e()&&-1!==s.indexOf("/"))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.fE.path.child(E.K(s));if(!S.et(a))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new S(a);i.push(W(this.firestore.Nc,u))}else{var c=this.firestore.HT.Fc(t,s);i.push(c)}}return new Ot(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];cr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Mi(t[i])||(br("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),pr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Mi(t[i])?n=t[i]:(hr("Query.onSnapshot","function",i,t[i]),lr("Query.onSnapshot","function",i+1,t[i+1]),lr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.PE(this.fE),this.uE(r,n)},t.prototype.uE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Pi({next:function(t){e.next&&e.next(new Hi(n.firestore,n.fE,t,n.rE))},error:r}),o=this.firestore.UT(),s=o.listen(this.fE,i,t);return function(){i.CT(),o.nl(s)}},t.prototype.PE=function(t){if(t.ae()&&0===t.xt.length)throw new p(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return cr("Query.get",arguments,0,1),Ki("Query.get",t),this.PE(this.fE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.UT().ST(e.fE).then((function(t){n(new Hi(e.firestore,e.fE,t,e.rE))}),r):e.cE(n,r,t)}))},t.prototype.cE=function(t,e,n){var r=this.uE({includeMetadataChanges:!0,Mf:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new p(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.EE=function(t){if("string"==typeof t){if(""===t)throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.fE._e()&&-1!==t.indexOf("/"))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.fE.path.child(E.K(t));if(!S.et(e))throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return W(this.firestore.Nc,new S(e))}if(t instanceof Fi){var n=t;return W(this.firestore.Nc,n.kc)}throw new p(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mr(t)+".")},t.prototype.TE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.IE=function(t){if(t instanceof xt){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ue()){var o=this.fE.jt();if(null!==o&&!o.isEqual(t.field))throw new p(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.fE.Kt();null!==s&&this.VE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.fE.ce(n)),null===a&&r&&(a=this.fE.ce(e)),null!=a)throw a===t.op?new p(f.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new p(f.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.wE=function(t){if(null===this.fE.Kt()){var e=this.fE.jt();null!==e&&this.VE(e,t.field)}},t.prototype.VE=function(t,e){if(!e.isEqual(t))throw new p(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Hi=function(){function t(t,e,n,r){this.iE=t,this.gE=e,this.pE=n,this.rE=r,this.yE=null,this.bE=null,this.metadata=new Ui(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.pE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.pE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;cr("QuerySnapshot.forEach",arguments,1,2),hr("QuerySnapshot.forEach","function",1,t),this.pE.docs.forEach((function(r){t.call(e,n.vE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Wi(this.gE,this.iE,this.rE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(br("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),pr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.pE.hs)throw new p(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.yE&&this.bE===e||(this.yE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){var o=new Gi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Gi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Zi(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.iE,e,this.pE,this.rE),this.bE=e),this.yE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wr("isEqual","QuerySnapshot",1,e);return this.iE===e.iE&&this.gE.isEqual(e.gE)&&this.pE.isEqual(e.pE)&&this.rE===e.rE},t.prototype.vE=function(t){return new Gi(this.iE,t.key,t,this.metadata.fromCache,this.pE.ns.has(t.key),this.rE)},t}(),$i=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Et.Wt(e),n,r)||this).SE=e,e.length%2!=1)throw new p(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return i}return i.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.fE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.fE.path.M();return t.B()?null:new Fi(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.fE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(cr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=xe.cn()),hr("CollectionReference.doc","non-empty string",1,t),""===t)throw new p(f.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=E.K(t);return Fi.eE(this.fE.path.child(e),this.firestore,this.rE)},e.prototype.add=function(t){ar("CollectionReference.add",arguments,1),hr("CollectionReference.add","object",1,this.rE?this.rE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.SE,this.firestore,t)},e}(Wi);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){if(void 0===e)return{merge:!1};if(br(t,e,["merge","mergeFields"]),pr(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+mr(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new p(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+mr(r[o]))}(t,e,n,r,i)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,(function(t){return"string"==typeof t||t instanceof Cr})),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Xi(t,e){return void 0===e?{}:(br(t,e,["serverTimestamps"]),dr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ki(t,e){lr(t,"object",1,e),e&&(br(t,e,["source"]),dr(t,0,"source",e.source,["default","server","cache"]))}function Qi(t,e,n){if(e instanceof Fi){if(e.firestore!==n)throw new p(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw wr(t,"DocumentReference",1,e)}function Zi(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function Ji(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function to(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new p(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo=to(Vi,"Use firebase.firestore() instead."),no=to(Bi,"Use firebase.firestore().runTransaction() instead."),ro=to(zi,"Use firebase.firestore().batch() instead."),io=to(Fi,"Use firebase.firestore().doc() instead."),oo=to(qi),so=to(Gi),ao=to(Wi),uo=to(Hi),co=to($i,"Use firebase.firestore().collection() instead."),ho=to(function(){function t(){}return t.delete=function(){return sr("FieldValue.delete",arguments),new kr},t.serverTimestamp=function(){return sr("FieldValue.serverTimestamp",arguments),new Dr},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ur("FieldValue.arrayUnion",arguments,1),new Nr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ur("FieldValue.arrayRemove",arguments,1),new Pr(t)},t.increment=function(t){return hr("FieldValue.increment","number",1,t),ar("FieldValue.increment",arguments,1),new Mr(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),lo=to(Ir,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),fo={Firestore:eo,GeoPoint:Rr,Timestamp:b,Blob:lo,Transaction:no,WriteBatch:ro,DocumentReference:io,DocumentSnapshot:oo,Query:ao,QueryDocumentSnapshot:so,QuerySnapshot:uo,CollectionReference:co,FieldPath:Cr,FieldValue:ho,setLogLevel:Vi.setLogLevel,CACHE_SIZE_UNLIMITED:Li},po=function(){function t(){}return t.prototype.x_=function(t){},t.prototype.hu=function(){},t}(),vo=function(){function t(){var t=this;this.DE=function(){return t.CE()},this.FE=function(){return t.NE()},this.kE=[],this.$E()}return t.prototype.x_=function(t){this.kE.push(t)},t.prototype.hu=function(){window.removeEventListener("online",this.DE),window.removeEventListener("offline",this.FE)},t.prototype.$E=function(){window.addEventListener("online",this.DE),window.addEventListener("offline",this.FE)},t.prototype.CE=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.kE;t<e.length;t++)(0,e[t])(0)},t.prototype.NE=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.kE;t<e.length;t++)(0,e[t])(1)},t.Uh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),go=function(){function t(t){this.ME=t.ME,this.LE=t.LE}return t.prototype.t_=function(t){this.OE=t},t.prototype.Hc=function(t){this.xE=t},t.prototype.onMessage=function(t){this.BE=t},t.prototype.close=function(){this.LE()},t.prototype.send=function(t){this.ME(t)},t.prototype.qE=function(){this.OE()},t.prototype.UE=function(t){this.xE(t)},t.prototype.QE=function(t){this.BE(t)},t}(),mo={BatchGetDocuments:"batchGet",Commit:"commit"},yo="gl-js/ fire/"+h,bo=function(){function t(t){this.ii=t.ii;var e=t.ssl?"https":"http";this.WE=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.jE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=yo},t.prototype.l_=function(t,e,n){var r=this,i=this.KE(t);return new Promise((function(o,s){var a=new c.XhrIo;a.listenOnce(c.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=a.getResponseJson();me("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:me("Connection",'RPC "'+t+'" timed out'),s(new p(f.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(me("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(f).indexOf(e)>=0?e:f.UNKNOWN}(r.status);s(new p(i,r.message))}else s(new p(f.UNKNOWN,"Server responded with status "+a.getStatus()))}else me("Connection",'RPC "'+t+'" failed'),s(new p(f.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{me("Connection",'RPC "'+t+'" completed.')}}));var u=Object.assign({},e);delete u.database;var h=JSON.stringify(u);me("Connection","XHR sending: ",i+" "+h);var l={"Content-Type":"text/plain"};r.jE(l,n),a.send(i,"POST",h,l,15)}))},t.prototype.d_=function(t,e,n){return this.l_(t,e,n)},t.prototype.e_=function(t,e){var n=[this.WE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.jE(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");me("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,h=!1,l=new go({ME:function(t){h?me("Connection","Not sending because WebChannel is closed:",t):(u||(me("Connection","Opening WebChannel transport."),s.open(),u=!0),me("Connection","WebChannel sending:",t),s.send(t))},LE:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){h||me("Connection","WebChannel transport opened.")})),d(c.WebChannel.EventType.CLOSE,(function(){h||(h=!0,me("Connection","WebChannel transport closed"),l.UE())})),d(c.WebChannel.EventType.ERROR,(function(t){h||(h=!0,me("Connection","WebChannel transport errored:",t),l.UE(new p(f.UNAVAILABLE,"The operation could not be completed")))})),d(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];_e(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){me("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=vt[t];if(void 0!==e)return Mt(e)}(o),u=i.message;void 0===a&&(a=f.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),h=!0,l.UE(new p(a,u)),s.close()}else me("Connection","WebChannel received:",n),l.QE(n)}})),setTimeout((function(){l.qE()}),0),l},t.prototype.KE=function(t){var e=mo[t];return this.WE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+e},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){return new Vi(t,e,new Di)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},fo)))}(t),t.registerVersion("@firebase/firestore","1.14.4")
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}pe.an(new(function(){function t(){this.oc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.gT=function(t){return Promise.resolve(new bo(t))},t.prototype.wT=function(){return vo.Uh()?new vo:new po},t.prototype.yc=function(t){return new le(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},t}())),wo(o),e.__PRIVATE_registerFirestore=wo},f201:function(t,e,n){var r=n("e4ae"),i=n("79aa"),o=n("5168")("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},f413:function(t,e,n){},f4a5:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("div",{class:t.size},[n("div",{staticClass:"gamepad",style:{backgroundImage:"url("+t.settings.playmat+")"},attrs:{dark:""}},[n("div",{staticClass:"library",class:{active:t.showImportWindow}},[n("div",{staticClass:"deck-list"},[n("div",{class:{active:t.showLibraryList}},[n("span",{on:{click:function(e){return t.showLibrary()}}},[t._v(t._s(t.currentDeck)+" "),n("unicon",{attrs:{name:"angle-down"}})],1),n("ul",{staticClass:"all-libraries"},t._l(t.alllibraries,(function(e){return n("li",{key:e.active,staticClass:"library-decks"},[e.active?t._e():n("a",{attrs:{href:"/"+e.name}},[t._v(t._s(e.name))])])})),0)])]),n("v-tabs",{attrs:{"background-color":"transparent",dark:"false","show-arrows":"false"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{attrs:{href:"#tab-1"}},[t._v("Library")]),n("v-tab",{attrs:{href:"#tab-2"}},[t._v("Tokens")]),n("v-tab",{attrs:{href:"#tab-3"}},[t._v("Temporary")]),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{attrs:{value:"tab-1"}},[n("Search",{on:{"search-cards":t.searchData}}),n("div",{staticClass:"library-tools"},[n("Result",{attrs:{error:t.error,cards:t.cards}}),t.cards.length>0?n("div",{staticClass:"result"},[n("span",{staticStyle:{color:"lightgreen"}},[t._v("Card has been found")]),n("button",{on:{click:function(e){return t.SaveLibrary(t.cards)}}},[t._v("Add to library?")])]):t._e()],1),n("div",{staticClass:"library-list"},t._l(t.library,(function(t){return n("Card",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,commander:!1,isToken:!1,flip:t.flip,imagealt:t.alternative_image}})})),1)],1),n("v-tab-item",{attrs:{value:"tab-2"}},[n("div",{staticClass:"token-library"},[n("div",{staticClass:"token-list"},t._l(t.tokenLibrary,(function(t){return n("Card",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,commander:!1,isToken:!1,cannotMove:!0}})})),1),n("button",{staticClass:"token-button",on:{click:function(e){return t.showTokenSearch()}}},[t._v("Search new tokens")])])]),n("v-tab-item",{attrs:{value:"tab-3"}},[n("Search",{on:{"search-cards":t.searchData}}),n("div",{staticClass:"library-tools"},[n("Result",{attrs:{error:t.error,cards:t.cards}}),t.cards.length>0?n("div",{staticClass:"result"},[n("span",{staticStyle:{color:"lightgreen"}},[t._v("Card has been found")]),n("button",{on:{click:function(e){return t.AddTempCard(t.cards)}}},[t._v("Add card?")])]):t._e()],1),n("div",{staticClass:"library-list"},t._l(t.tempCards,(function(t){return n("Card",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,commander:!1,isToken:!1,flip:t.flip,imagealt:t.alternative_image}})})),1)],1)],1)],1),n("div",{staticClass:"history"},t._l(t.messages,(function(e,r){return n("div",{key:r},[n("div",{staticClass:"message"},[n("strong",{staticClass:"owner"},[t._v(t._s(e.owner)+": ")]),n("span",[t._v(t._s(e.text))])])])})),0)],1),n("div",{staticClass:"battlefield"},[n("div",{staticClass:"settings"},[n("ul",[n("li",{on:{click:function(e){return t.showImport()}}},[t._v("Import Deck")]),n("li",{class:{active:"big"==t.size},on:{click:function(e){return t.ChangeView("big")}}},[t._v("Big View")]),n("li",{class:{active:"normal"==t.size},on:{click:function(e){return t.ChangeView("normal")}}},[t._v("Normal View")]),n("li",{class:{active:"small"==t.size},on:{click:function(e){return t.ChangeView("small")}}},[t._v("Small View")])]),n("div",{staticClass:"playmat-setting"},[n("label",[t._v("Playmat: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.playmat,expression:"settings.playmat"}],attrs:{type:"text",placeholder:"(should be 1920x1080)"},domProps:{value:t.settings.playmat},on:{change:function(e){return t.SavePlaymat(t.settings.playmat)},input:function(e){e.target.composing||t.$set(t.settings,"playmat",e.target.value)}}})])]),n("div",{staticClass:"tokens"},t._l(t.tokensActive,(function(t,e){return n("figure",{key:e,staticClass:"tokens-active"},[n("Card",{attrs:{image:t.image,id:e,name:t.name,commander:!1,isToken:!0,cannotMove:!1}})],1)})),0)]),n("div",{staticClass:"special-zone"},[t.hasSearchedCommander?n("div",{staticClass:"commander-damage-wrapper"},[t.commanderdamages?n("div",{staticClass:"commander-damages"},t._l(t.commanderdamages,(function(e,r){return n("div",{key:r,staticClass:"commander-damage"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"commanderdamage.name"}],attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}),n("span",{staticClass:"commanderdamage",on:{click:function(e){return t.IncreaseCDamage(e,r)},contextmenu:function(e){return t.DecreaseCDamage(e,r)}}},[t._v(t._s(e.dmg))])])})),0):t._e(),n("button",{on:{click:function(e){return t.AddCommander()}}},[t._v("Add Commander Damage")])]):t._e(),n("div",{staticClass:"life-counter",on:{click:function(e){return t.DecreaseLife(e)},contextmenu:function(e){return t.IncreaseLife(e)}}},[n("div",{staticClass:"life-total"},[t._v(t._s(t.lifecount))])]),n("div",{staticClass:"command-zone"},[n("h2",[t._v("COMMAND ZONE")]),n("div",{attrs:{id:"search-wrapper"}},[n("Search",{on:{"search-cards":t.searchCommander}})],1),t.settings.commander?n("div",{staticClass:"commander"},[n("Card",{key:t.i,attrs:{id:t.settings.commander.id,name:t.settings.commander.name,image:t.settings.commander.image,flip:t.settings.commander.flip,imagealt:t.settings.commander.alternative_image,commander:!0,isToken:!1}})],1):t._e(),t.settings.partner?n("div",{staticClass:"partner"},[n("Card",{key:t.i,attrs:{id:t.settings.partner.id,name:t.settings.partner.name,image:t.settings.partner.image,commander:!0,isToken:!1,flip:t.settings.partner.flip,imagealt:t.settings.partner.alternative_image}})],1):t._e(),t.settings.commander?t._e():n("div",{staticClass:"commander"},t._l(t.commander,(function(e,r){return n("Card",{key:r,attrs:{id:t.settings.commander.id,name:t.settings.commander.name,image:t.settings.commander.image,commander:!0,isToken:!1}})})),1)]),n("div",{staticClass:"graveyard"},[n("h2",[t._v("GRAVEYARD")])])])])]),t.showTokenList?n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-content"},[n("h3",[t._v("Tokens")]),n("SearchToken",{on:{"search-cards":t.searchTokenData}}),t.tokenList[0]?n("div",{staticClass:"token-gallery"},t._l(t.tokenList,(function(t){return n("Card",{key:t.id,attrs:{id:t.id,name:t.name,image:t.image,commander:!1,isToken:!1,type:!1,flip:!1,isTokenList:!0}})})),1):t._e(),n("span",{staticClass:"close-modal",on:{click:function(e){return t.hideTokenSearch()}}},[t._v("Close")])],1)]):t._e(),t.showImportWindow?n("div",{staticClass:"modal import"},[n("div",{staticClass:"modal-content"},[n("h3",[t._v("Import Deck")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importCards,expression:"importCards"}],domProps:{value:t.importCards},on:{input:function(e){e.target.composing||(t.importCards=e.target.value)}}}),t.importInit?n("span",{staticClass:"import-progress"},[t.importFinished?t._e():n("span",{staticClass:"loading"},[t._v("Importing")]),n("br"),t._v(t._s(t.importedCards)+" / "+t._s(t.importTotal))]):t._e(),t.importFinished&&!t.importInit?n("div",{staticClass:"import-finished"},[t._v("\n\t\t\t\t\tFinished - Added "+t._s(t.importTotal)+" cards\n\t\t\t\t")]):t._e(),t.importInit?t._e():n("button",{staticClass:"import-deck-btn",on:{click:function(e){return t.ImportDeck(t.importCards)}}},[t._v("Import Deck")]),n("span",{staticClass:"close-modal",on:{click:function(e){return t.hideImport()}}},[t._v("Close")])])]):t._e()])},i=[],o=n("795b"),s=n.n(o);n("28a5"),n("96cf");function a(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(h){return void n(h)}u.done?e(c):s.a.resolve(c).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new s.a((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)}))}}n("7f7f"),n("ac6a");var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[n("v-text-field",{staticClass:"md5",attrs:{hint:"Try searching for 'Birds of Paradise'.",label:"Search for a MTG card..."},on:{"click:append":function(e){return t.$emit("search-cards",this.target.value)},submit:t.handleSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1)},h=[],l={name:"Search",data:function(){return{loading:!1,post:null,error:null,value:""}},methods:{handleSearch:function(){this.$emit("search-cards",this.value)}}},f=l,p=n("2877"),d=n("6544"),v=n.n(d);n("db6d");function g(t){return{name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var r=n.props,i=n.data,o=n.children;i.staticClass=(t+" "+(i.staticClass||"")).trim();var s=i.attrs;if(s){i.attrs={};var a=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}));a.length&&(i.staticClass+=" "+a.join(" "))}return r.id&&(i.domProps=i.domProps||{},i.domProps.id=r.id),e(r.tag,i,o)}}}var m=g("container"),y=g("flex"),b=(n("26e5"),n("2b0e")),w=n("d9bd");function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){return function(){return Object(w["c"])("The "+t+" component must be used inside a "+e)}}function x(t,e,n){var r=e&&n?{register:E(e,n),unregister:E(e,n)}:null;return b["default"].extend({name:"registrable-inject",inject:_({},t,{default:r})})}function T(t){return b["default"].extend({name:"registrable-provide",methods:{register:null,unregister:null},provide:function(){return _({},t,{register:this.register,unregister:this.unregister})}})}var S={name:"v-form",mixins:[T("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},r={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(r.valid=n(t)))})):r.valid=n(t),r},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n.valid&&n.valid(),n.shouldValidate&&n.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}},I=g("layout"),C=(n("da37"),n("1912"),n("44dc"),function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),e&&n.length===e)break}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){return!!t&&!!t.match(/^(#|(rgb|hsl)a?\()/)}var D=b["default"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(t)?e.style=A({},e.style,{"background-color":""+t,"border-color":""+t}):t&&(e.class=A({},e.class,O({},t,!0))),e},setTextColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(t))e.style=A({},e.style,{color:""+t,"caret-color":""+t});else if(t){var n=t.toString().trim().split(" ",2),r=C(n,2),i=r[0],o=r[1];e.class=A({},e.class,O({},i+"--text",!0)),o&&(e.class["text--"+o]=!0)}return e}}}),N=b["default"].extend({name:"sizeable",props:{large:Boolean,medium:Boolean,size:{type:[Number,String]},small:Boolean,xLarge:Boolean}}),P=n("6a18"),M=n("80d2");function R(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return b["default"].extend({mixins:e})}var L,j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function V(t){return["fas","far","fal","fab"].some((function(e){return t.includes(e)}))}(function(t){t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(L||(L={}));var B=R(D,N,P["a"]).extend({name:"v-icon",props:{disabled:Boolean,left:Boolean,right:Boolean},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(M["i"])(this,t)},getSize:function(){var t={small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(M["h"])(t).find((function(e){return t[e]}));return e&&L[e]||Object(M["a"])(this.size)},getDefaultData:function(){var t={staticClass:"v-icon",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.$listeners.click||this.$listeners["!click"],"v-icon--right":this.right},attrs:j({"aria-hidden":!0},this.$attrs),on:this.$listeners};return t},applyColors:function(t){t.class=j({},t.class,this.themeClasses),this.setTextColor(this.color,t)},renderFontIcon:function(t,e){var n=[],r=this.getDefaultData(),i="material-icons",o=t.indexOf("-"),s=o<=-1;s?n.push(t):(i=t.slice(0,o),V(i)&&(i="")),r.class[i]=!0,r.class[t]=!s;var a=this.getSize();return a&&(r.style={fontSize:a}),this.applyColors(r),e("i",r,n)},renderSvgIcon:function(t,e){var n=this.getDefaultData();n.class["v-icon--is-component"]=!0;var r=this.getSize();r&&(n.style={fontSize:r,height:r}),this.applyColors(n);var i=t.component;return n.props=t.props,n.nativeOn=n.on,e(i,n)}},render:function(t){var e=this.getIcon();return"string"===typeof e?this.renderFontIcon(e,t):this.renderSvgIcon(e,t)}}),z=b["default"].extend({name:"v-icon",$_wrapperFor:B,functional:!0,render:function(t,e){var n=e.data,r=e.children,i="";return n.domProps&&(i=n.domProps.textContent||n.domProps.innerHTML||i,delete n.domProps.textContent,delete n.domProps.innerHTML),t(B,n,i?[i]:r)}}),F=z,U=(n("062f"),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),q=R(P["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:[Boolean,String],default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(t,e){var n=e.children,r=e.listeners,i=e.props,o={staticClass:"v-label",class:U({"v-label--active":i.value,"v-label--is-disabled":i.disabled},Object(P["b"])(e)),attrs:{for:i.for,"aria-hidden":!i.for},on:r,style:{left:Object(M["a"])(i.left),right:Object(M["a"])(i.right),position:i.absolute?"absolute":"relative"}};return t("label",D.options.methods.setTextColor(i.focused&&i.color,o),n)}}),G=q,W=(n("97fb"),R(D,P["a"]).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(t,e){return this.$createElement("div",{staticClass:"v-messages__message",key:e,domProps:{innerHTML:t}})}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}})),H=W,$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y=R(D,x("form")).extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return this.hasSuccess||this.shouldValidate&&this.hasError},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",t)}},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.color:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages.length>0?this.internalSuccessMessages:this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(t,e){Object(M["d"])(t,e)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(t){t||this.disabled||this.readonly||(this.hasFocused=!0,this.validateOnBlur&&this.validate())},isResetting:function(){var t=this;setTimeout((function(){t.hasInput=!1,t.hasFocused=!1,t.isResetting=!1,t.validate()}),0)},hasError:function(t){this.shouldValidate&&this.$emit("update:error",t)},value:function(t){this.lazyValue=t}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(t){return t?Array.isArray(t)?t:[t]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation:function(){this.isResetting=!0},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1],n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(var r=0;r<this.rules.length;r++){var i=this.rules[r],o="function"===typeof i?i(e):i;"string"===typeof o?n.push(o):"boolean"!==typeof o&&Object(w["a"])("Rules should return a string or boolean, received '"+("undefined"===typeof o?"undefined":$(o))+"' instead",this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}}),X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K=R(D,P["a"],Y).extend({name:"v-input",props:{appendIcon:String,appendIconCb:Function,backgroundColor:{type:String,default:""},height:[Number,String],hideDetails:Boolean,hint:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,prependIconCb:Function,value:{required:!1}},data:function(){return{attrsInput:{},lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return{}},classesInput:function(){return X({},this.classes,{"v-input--has-state":this.hasState,"v-input--hide-details":this.hideDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.disabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&void 0!==this.loading,"v-input--is-readonly":this.readonly},this.themeClasses)},directivesInput:function(){return[]},hasHint:function(){return!this.hasMessages&&this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return Boolean(this.$slots.label||this.label)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty:function(){return!!this.lazyValue},isDisabled:function(){return Boolean(this.disabled||this.readonly)},isLabelActive:function(){return this.isDirty}},watch:{value:function(t){this.lazyValue=t}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this[t+"Icon"],o="click:"+Object(M["f"])(t);e=e||this[t+"IconCb"],r&&t&&e&&Object(w["d"])(":"+t+"-icon-cb","@"+o,this);var s={props:{color:this.validationState,dark:this.dark,disabled:this.disabled,light:this.light},on:this.$listeners[o]||e?{click:function(t){t.preventDefault(),t.stopPropagation(),n.$emit(o,t),e&&e(t)},mouseup:function(t){t.preventDefault(),t.stopPropagation()}}:void 0};return this.$createElement("div",{staticClass:"v-input__icon v-input__icon--"+Object(M["f"])(t),key:""+t+i},[this.$createElement(F,s,i)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(M["a"])(this.height)},directives:this.directivesInput,on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(G,{props:{color:this.validationState,dark:this.dark,focused:this.hasState,for:this.$attrs.id,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){if(this.hideDetails)return null;var t=this.hasHint?[this.hint]:this.validations;return this.$createElement(H,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.hasMessages||this.hasHint?t:[]}})},genSlot:function(t,e,n){if(!n.length)return null;var r=t+"-"+e;return this.$createElement("div",{staticClass:"v-input__"+r,ref:r},n)},genPrependSlot:function(){var t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick:function(t){this.$emit("click",t)},onMouseDown:function(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp:function(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render:function(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",attrs:this.attrsInput,class:this.classesInput}),this.genContent())}}),Q=K,Z=(n("8b12"),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),J=R(P["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(t,e){var n=e.props,r=parseInt(n.max,10),i=parseInt(n.value,10),o=r?i+" / "+r:n.value,s=r&&i>r;return t("div",{staticClass:"v-counter",class:Z({"error--text":s},Object(P["b"])(e))},o)}}),tt=J,et=/[-!$%^&*()_+|~=`{}[\]:";'<>?,./\\ ]/,nt=function(t){return!!t&&et.test(t)},rt={"#":{test:function(t){return/[0-9]/.test(t)}},A:{test:function(t){return/[A-Z]/i.test(t)},convert:function(t){return t.toUpperCase()}},a:{test:function(t){return/[a-z]/i.test(t)},convert:function(t){return t.toLowerCase()}},N:{test:function(t){return/[0-9A-Z]/i.test(t)},convert:function(t){return t.toUpperCase()}},n:{test:function(t){return/[0-9a-z]/i.test(t)},convert:function(t){return t.toLowerCase()}},X:{test:nt}},it=function(t){return rt.hasOwnProperty(t)},ot=function(t,e){return rt[t].convert?rt[t].convert(e):e},st=function(t,e){return!(null==e||!it(t))&&rt[t].test(e)},at=function(t,e,n){if(null==t)return"";if(t=String(t),!e.length||!t.length)return t;Array.isArray(e)||(e=e.split(""));var r=0,i=0,o="";while(i<e.length){var s=e[i],a=t[r];if(it(s)||a!==s)if(it(s)||n){if(!st(s,a))return o;o+=ot(s,a),r++}else o+=s;else o+=s,r++;i++}return o},ut=function(t){return t?String(t).replace(new RegExp(et,"g"),""):t},ct={name:"maskable",props:{dontFillMaskBlanks:Boolean,mask:{type:[Object,String],default:null},returnMaskedValue:Boolean,value:{required:!1}},data:function(t){return{selection:0,lazySelection:0,lazyValue:t.value,preDefined:{"credit-card":"#### - #### - #### - ####",date:"##/##/####","date-with-time":"##/##/#### ##:##",phone:"(###) ### - ####",social:"###-##-####",time:"##:##","time-with-seconds":"##:##:##"}}},computed:{masked:function(){var t=this.preDefined[this.mask],e=t||this.mask||"";return e.split("")}},watch:{mask:function(){var t=this;if(this.$refs.input){for(var e=this.$refs.input.value,n=this.maskText(ut(this.lazyValue)),r=0,i=this.selection,o=0;o<i;o++)nt(e[o])||r++;if(i=0,n)for(var s=0;s<n.length;s++)if(nt(n[s])||r--,i++,r<=0)break;this.$nextTick((function(){t.$refs.input.value=n,t.setCaretPosition(i)}))}}},beforeMount:function(){if(this.mask&&null!=this.value&&this.returnMaskedValue){var t=this.maskText(this.value);t!==this.value&&this.$emit("input",t)}},methods:{setCaretPosition:function(t){var e=this;this.selection=t,window.setTimeout((function(){e.$refs.input&&e.$refs.input.setSelectionRange(e.selection,e.selection)}),0)},updateRange:function(){if(this.$refs.input){var t=this.maskText(this.lazyValue),e=0;if(this.$refs.input.value=t,t)for(var n=0;n<t.length;n++){if(this.lazySelection<=0)break;nt(t[n])||this.lazySelection--,e++}this.setCaretPosition(e),this.$emit("input",this.returnMaskedValue?this.$refs.input.value:this.lazyValue)}},maskText:function(t){return this.mask?at(t,this.masked,this.dontFillMaskBlanks):t},unmaskText:function(t){return this.mask&&!this.returnMaskedValue?ut(t):t},setSelectionRange:function(){this.$nextTick(this.updateRange)},resetSelections:function(t){if(t.selectionEnd){this.selection=t.selectionEnd,this.lazySelection=0;for(var e=0;e<this.selection;e++)nt(t.value[e])||this.lazySelection++}}}};n("b4f7");function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?"width":"height";return{beforeEnter:function(t){t._parent=t.parentNode,t._initialStyle=ht({transition:t.style.transition,visibility:t.style.visibility,overflow:t.style.overflow},n,t.style[n])},enter:function(e){var r=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.visibility="hidden";var i=e["offset"+Object(M["j"])(n)]+"px";e.style.visibility=r.visibility,e.style.overflow="hidden",e.style[n]=0,e.offsetHeight,e.style.transition=r.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((function(){e.style[n]=i}))},afterEnter:i,enterCancelled:i,leave:function(t){t._initialStyle=ht({overflow:t.style.overflow},n,t.style[n]),t.style.overflow="hidden",t.style[n]=t["offset"+Object(M["j"])(n)]+"px",t.offsetHeight,requestAnimationFrame((function(){return t.style[n]=0}))},afterLeave:r,leaveCancelled:r};function r(e){t&&e._parent&&e._parent.classList.remove(t),i(e)}function i(t){t.style.overflow=t._initialStyle.overflow,t.style[n]=t._initialStyle[n],delete t._initialStyle}},ft=(Object(M["c"])("bottom-sheet-transition"),Object(M["c"])("carousel-transition"),Object(M["c"])("carousel-reverse-transition"),Object(M["c"])("tab-transition"),Object(M["c"])("tab-reverse-transition"),Object(M["c"])("menu-transition"),Object(M["c"])("fab-transition","center center","out-in"),Object(M["c"])("dialog-transition"),Object(M["c"])("dialog-bottom-transition"),Object(M["c"])("fade-transition")),pt=(Object(M["c"])("scale-transition"),Object(M["c"])("scroll-x-transition"),Object(M["c"])("scroll-x-reverse-transition"),Object(M["c"])("scroll-y-transition"),Object(M["c"])("scroll-y-reverse-transition"),Object(M["c"])("slide-x-transition"));Object(M["c"])("slide-x-reverse-transition"),Object(M["c"])("slide-y-transition"),Object(M["c"])("slide-y-reverse-transition"),Object(M["b"])("expand-transition",lt()),Object(M["b"])("expand-x-transition",lt("",!0)),Object(M["b"])("row-expand-transition",lt("datatable__expand-col--expanded"));function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=R(D).extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:7},indeterminate:Boolean,query:Boolean,value:{type:[Number,String],default:0}},computed:{backgroundStyle:function(){var t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{height:this.active?Object(M["a"])(this.height):0,opacity:t,width:this.normalizedBufer+"%"}},effectiveWidth:function(){return this.normalizedBufer?100*+this.normalizedValue/+this.normalizedBufer:0},normalizedBufer:function(){return this.bufferValue<0?0:this.bufferValue>100?100:parseFloat(this.bufferValue)},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBufer)||(t.width=this.normalizedBufer+"%"),t}},methods:{genDeterminate:function(t){return t("div",this.setBackgroundColor(this.color,{ref:"front",staticClass:"v-progress-linear__bar__determinate",style:{width:this.effectiveWidth+"%"}}))},genBar:function(t,e){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__bar__indeterminate",class:dt({},e,!0)}))},genIndeterminate:function(t){return t("div",{ref:"front",staticClass:"v-progress-linear__bar__indeterminate",class:{"v-progress-linear__bar__indeterminate--active":this.active}},[this.genBar(t,"long"),this.genBar(t,"short")])}},render:function(t){var e=t(ft,this.indeterminate?[this.genIndeterminate(t)]:[]),n=t(pt,this.indeterminate?[]:[this.genDeterminate(t)]),r=t("div",{staticClass:"v-progress-linear__bar",style:this.styles},[e,n]),i=t("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle})),o=this.$slots.default&&t("div",{staticClass:"v-progress-linear__content"},this.$slots.default);return t("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBufer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:{"v-progress-linear--query":this.query},style:{height:Object(M["a"])(this.height)},on:this.$listeners},[i,r,o])}}),gt=vt,mt=b["default"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(gt,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:2,indeterminate:!0}})}}});function yt(t,e){t.style["transform"]=e,t.style["webkitTransform"]=e}function bt(t,e){t.style["opacity"]=e.toString()}function wt(t){return"TouchEvent"===t.constructor.name}var _t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.getBoundingClientRect(),i=wt(t)?t.touches[t.touches.length-1]:t,o=i.clientX-r.left,s=i.clientY-r.top,a=0,u=.3;e._ripple&&e._ripple.circle?(u=.15,a=e.clientWidth/2,a=n.center?a:a+Math.sqrt(Math.pow(o-a,2)+Math.pow(s-a,2))/4):a=Math.sqrt(Math.pow(e.clientWidth,2)+Math.pow(e.clientHeight,2))/2;var c=(e.clientWidth-2*a)/2+"px",h=(e.clientHeight-2*a)/2+"px",l=n.center?c:o-a+"px",f=n.center?h:s-a+"px";return{radius:a,scale:u,x:l,y:f,centerX:c,centerY:h}},Et={show:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e._ripple&&e._ripple.enabled){var r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=" "+n.class);var o=_t(t,e,n),s=o.radius,a=o.scale,u=o.x,c=o.y,h=o.centerX,l=o.centerY,f=2*s+"px";i.className="v-ripple__animation",i.style.width=f,i.style.height=f,e.appendChild(r);var p=window.getComputedStyle(e);p&&"static"===p.position&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),yt(i,"translate("+u+", "+c+") scale3d("+a+","+a+","+a+")"),bt(i,0),i.dataset.activated=String(performance.now()),setTimeout((function(){i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),yt(i,"translate("+h+", "+l+") scale3d(1,1,1)"),bt(i,.25)}),0)}},hide:function(t){if(t&&t._ripple&&t._ripple.enabled){var e=t.getElementsByClassName("v-ripple__animation");if(0!==e.length){var n=e[e.length-1];if(!n.dataset.isHiding){n.dataset.isHiding="true";var r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout((function(){n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),bt(n,0),setTimeout((function(){var e=t.getElementsByClassName("v-ripple__animation");1===e.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),n.parentNode&&t.removeChild(n.parentNode)}),300)}),i)}}}}};function xt(t){return"undefined"===typeof t||!!t}function Tt(t){var e={},n=t.currentTarget;n&&n._ripple&&!n._ripple.touched&&(wt(t)&&(n._ripple.touched=!0),e.center=n._ripple.centered,n._ripple.class&&(e.class=n._ripple.class),Et.show(t,n,e))}function St(t){var e=t.currentTarget;e&&(window.setTimeout((function(){e._ripple&&(e._ripple.touched=!1)})),Et.hide(e))}function It(t,e,n){var r=xt(e.value);r||Et.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=r;var i=e.value||{};i.center&&(t._ripple.centered=!0),i.class&&(t._ripple.class=e.value.class),i.circle&&(t._ripple.circle=i.circle),r&&!n?(t.addEventListener("touchstart",Tt,{passive:!0}),t.addEventListener("touchend",St,{passive:!0}),t.addEventListener("touchcancel",St),t.addEventListener("mousedown",Tt),t.addEventListener("mouseup",St),t.addEventListener("mouseleave",St),t.addEventListener("dragstart",St,{passive:!0})):!r&&n&&Ct(t)}function Ct(t){t.removeEventListener("mousedown",Tt),t.removeEventListener("touchstart",St),t.removeEventListener("touchend",St),t.removeEventListener("touchcancel",St),t.removeEventListener("mouseup",St),t.removeEventListener("mouseleave",St),t.removeEventListener("dragstart",St)}function At(t,e,n){It(t,e,!1),n.context&&n.context.$nextTick((function(){var e=window.getComputedStyle(t);if(e&&"inline"===e.display){var r=n.fnOptions?[n.fnOptions,n.context]:[n.componentInstance];w["c"].apply(void 0,["v-ripple can only be used on block-level elements"].concat(r))}}))}function Ot(t){delete t._ripple,Ct(t)}function kt(t,e){if(e.value!==e.oldValue){var n=xt(e.oldValue);It(t,e,n)}}var Dt={bind:At,unbind:Ot,update:kt},Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pt=["color","file","time","date","datetime-local","week","month"],Mt=Q.extend({name:"v-text-field",directives:{Ripple:Dt},mixins:[ct,mt],inheritAttrs:!1,props:{appendOuterIcon:String,appendOuterIconCb:Function,autofocus:Boolean,box:Boolean,browserAutocomplete:String,clearable:Boolean,clearIcon:{type:String,default:"$vuetify.icons.clear"},clearIconCb:Function,color:{type:String,default:"primary"},counter:[Boolean,Number,String],flat:Boolean,fullWidth:Boolean,label:String,outline:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,prependInnerIconCb:Function,reverse:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,initialValue:null,internalChange:!1,isClearing:!1}},computed:{classes:function(){return{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--box":this.box,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outline":this.hasOutline,"v-text-field--placeholder":this.placeholder}},counterValue:function(){return(this.internalValue||"").toString().length},directivesInput:function(){return[]},hasOutline:function(){return this.outline||this.textarea},internalValue:{get:function(){return this.lazyValue},set:function(t){this.mask?(this.lazyValue=this.unmaskText(this.maskText(this.unmaskText(t))),this.setSelectionRange()):(this.lazyValue=t,this.$emit("input",this.lazyValue))}},isDirty:function(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput},isEnclosed:function(){return this.box||this.isSolo||this.hasOutline||this.fullWidth},isLabelActive:function(){return this.isDirty||Pt.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var t=this.prefix&&!this.labelValue?this.prefixWidth:0;return!this.$vuetify.rtl!==!this.reverse?{left:"auto",right:t}:{left:t,right:"auto"}},showLabel:function(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder&&!this.prefixLabel)},labelValue:function(){return!this.isSingle&&Boolean(this.isFocused||this.isLabelActive||this.placeholder||this.prefixLabel)},prefixWidth:function(){if(this.prefix||this.$refs.prefix)return this.$refs.prefix.offsetWidth},prefixLabel:function(){return this.prefix&&!this.value}},watch:{isFocused:function(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},value:function(t){var e=this;if(this.mask&&!this.internalChange){var n=this.maskText(this.unmaskText(t));this.lazyValue=this.unmaskText(n),String(t)!==this.lazyValue&&this.$nextTick((function(){e.$refs.input.value=n,e.$emit("input",e.lazyValue)}))}else this.lazyValue=t}},mounted:function(){this.autofocus&&this.onFocus()},methods:{focus:function(){this.onFocus()},blur:function(){this.$refs.input?this.$refs.input.blur():this.onBlur()},clearableCallback:function(){var t=this;this.internalValue=null,this.$nextTick((function(){return t.$refs.input.focus()}))},genAppendSlot:function(){var t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot:function(){var t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot:function(){var t=[];return this.$slots["append"]?t.push(this.$slots["append"]):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot:function(){var t=Q.options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&t.children.unshift(e),t},genClearIcon:function(){if(!this.clearable)return null;var t=!!this.isDirty&&"clear";return this.clearIconCb&&Object(w["d"])(":clear-icon-cb","@click:clear",this),this.genSlot("append","inner",[this.genIcon(t,!this.$listeners["click:clear"]&&this.clearIconCb||this.clearableCallback,!1)])},genCounter:function(){if(!1===this.counter||null==this.counter)return null;var t=!0===this.counter?this.$attrs.maxlength:this.counter;return this.$createElement(tt,{props:{dark:this.dark,light:this.light,max:t,value:this.counterValue}})},genDefaultSlot:function(){return[this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genLabel:function(){if(!this.showLabel)return null;var t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.disabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$attrs.id&&(t.props.for=this.$attrs.id),this.$createElement(G,t,this.$slots.label||this.label)},genInput:function(){var t=Object.assign({},this.$listeners);delete t["change"];var e={style:{},domProps:{value:this.maskText(this.lazyValue)},attrs:Nt({"aria-label":(!this.$attrs||!this.$attrs.id)&&this.label},this.$attrs,{autofocus:this.autofocus,disabled:this.disabled,readonly:this.readonly,type:this.type}),on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input"};return this.placeholder&&(e.attrs.placeholder=this.placeholder),this.mask&&(e.attrs.maxlength=this.masked.length),this.browserAutocomplete&&(e.attrs.autocomplete=this.browserAutocomplete),this.$createElement("input",e)},genMessages:function(){return this.hideDetails?null:this.$createElement("div",{staticClass:"v-text-field__details"},[Q.options.methods.genMessages.call(this),this.genCounter()])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(t){return this.$createElement("div",{class:"v-text-field__"+t,ref:t},this[t])},onBlur:function(t){this.isFocused=!1,this.internalChange=!1,this.$emit("blur",t)},onClick:function(){this.isFocused||this.disabled||this.$refs.input.focus()},onFocus:function(t){if(this.$refs.input)return document.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,this.$emit("focus",t)))},onInput:function(t){this.internalChange=!0,this.mask&&this.resetSelections(t.target),this.internalValue=t.target.value,this.badInput=t.target.validity&&t.target.validity.badInput},onKeyDown:function(t){this.internalChange=!0,t.keyCode===M["g"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown:function(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),Q.options.methods.onMouseDown.call(this,t)},onMouseUp:function(t){this.hasMouseDown&&this.focus(),Q.options.methods.onMouseUp.call(this,t)}}}),Rt=(n("7e63"),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),Lt={name:"v-textarea",extends:Mt,props:{autoGrow:Boolean,noResize:Boolean,outline:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Rt({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},Mt.options.computed.classes.call(this,null))},dynamicHeight:function(){return this.autoGrow?this.inputHeight:"auto"},isEnclosed:function(){return this.textarea||Mt.options.computed.isEnclosed.call(this)},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){!this.internalChange&&this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0),this.autoGrow&&this.noResize&&Object(w["b"])('"no-resize" is now implied when using "auto-grow", and can be removed',this)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height=0;var e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+"px"}},genInput:function(){var t=Mt.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){Mt.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.internalChange=!0,this.$emit("keydown",t)}}};function jt(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e("template",{slot:r},t[r]));return n}function Vt(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){var e=t.on.input.indexOf(t.model.callback);e>-1&&t.on.input.splice(e,1)}else delete t.on.input}var Bt={functional:!0,$_wrapperFor:Mt,props:{textarea:Boolean,multiLine:Boolean},render:function(t,e){var n=e.props,r=e.data,i=e.slots,o=e.parent;Vt(r);var s=jt(i(),t);return n.textarea&&Object(w["d"])("<v-text-field textarea>","<v-textarea outline>",Bt,o),n.multiLine&&Object(w["d"])("<v-text-field multi-line>","<v-textarea>",Bt,o),n.textarea||n.multiLine?(r.attrs.outline=n.textarea,t(Lt,r,s)):t(Mt,r,s)}},zt=Object(p["a"])(f,c,h,!1,null,null,null),Ft=zt.exports;v()(zt,{VContainer:m,VFlex:y,VForm:S,VLayout:I,VTextField:Bt});var Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[n("v-text-field",{staticClass:"md5",attrs:{hint:"Try searching for 'Dragon'.",label:"Search for a token..."},on:{"click:append":function(e){return t.$emit("search-cards",this.target.value)},submit:t.handleSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1)},qt=[],Gt={name:"SearchToken",data:function(){return{loading:!1,post:null,error:null,value:""}},methods:{handleSearch:function(){this.$emit("search-cards",this.value)}}},Wt=Gt,Ht=Object(p["a"])(Wt,Ut,qt,!1,null,null,null),$t=Ht.exports;v()(Ht,{VContainer:m,VFlex:y,VForm:S,VLayout:I,VTextField:Bt});var Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.cards,(function(t){return n("v-flex",{key:t.mtgo_id,attrs:{"d-flex":""}})})),1)},Xt=[],Kt=(n("7514"),n("6b54"),{name:"Result",props:["cards","error","symbols","commander"],data:function(){return{}},computed:{pnt:function(t){return this.cards[0].power||this.cards[0].toughness?"".concat(this.cards[0].power," / ").concat(this.cards[0].toughness):this.commander[0].power||this.commander[0].toughness?"".concat(this.commander[0].power," / ").concat(this.commander[0].toughness):void 0},mana_cost:function(t){var e=this.cards[0].mana_cost,n=this.symbols[62];if(console.log(e),n){n.toString((function(t){return t.code==e}));var r=this.symbols.find((function(t){if(t.code==e)return"{background-image:".concat(t.url,";}")}));console.log(r)}}}}),Qt=Kt,Zt=(n("b94b"),Object(p["a"])(Qt,Yt,Xt,!1,null,"43d1287c",null)),Jt=Zt.exports;v()(Zt,{VFlex:y,VLayout:I});var te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.commander,(function(e){return n("v-flex",{key:e.mtgo_id,attrs:{"d-flex":""}},[n("v-card",{staticClass:"d-flex",attrs:{flat:"",tile:""}},[n("Moveable",t._b({staticClass:"moveable",on:{drag:t.handleDrag}},"Moveable",t.moveable,!1),[t._v("\n          "+t._s(t.isCommander)+"\n\t\t\t\t\t"),t._l(t.commander,(function(t){return n("img",{key:t.oracle_id,attrs:{id:"commander",src:t.image_uris.png}})}))],2)],1)],1)})),1)},ee=[],ne=n("9e77"),re=n.n(ne),ie={name:"CommanderResult",props:["commander","isCommander"],components:{Moveable:re.a},data:function(){return{moveable:{draggable:!0,throttleDrag:0,resizable:!1,throttleResize:1,keepRatio:!0,scalable:!1,throttleScale:0,rotatable:!1,throttleRotate:0}}},methods:{TapUntap:function(t,e){t.shiftKey&&(1==this.tappedCard?this.tappedCard=!1:this.tappedCard=!0)},handleDrag:function(t){var e=t.target,n=t.right,r=t.top;e.style.right="".concat(n,"px"),e.style.top="".concat(r,"px")}}},oe=ie;n("7804"),n("4c94"),n("d0e7");function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ae=b["default"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){return this.computedElevation?se({},"elevation-"+this.computedElevation,!0):{}}}}),ue=b["default"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(M["a"])(this.height),n=Object(M["a"])(this.minHeight),r=Object(M["a"])(this.minWidth),i=Object(M["a"])(this.maxHeight),o=Object(M["a"])(this.maxWidth),s=Object(M["a"])(this.width);return e&&(t.height=e),n&&(t.minHeight=n),r&&(t.minWidth=r),i&&(t.maxHeight=i),o&&(t.maxWidth=o),s&&(t.width=s),t}}}),ce=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he=R(D,ae,ue,P["a"]).extend({name:"v-sheet",props:{tag:{type:String,default:"div"},tile:Boolean},computed:{classes:function(){return ce({"v-sheet":!0,"v-sheet--tile":this.tile},this.themeClasses,this.elevationClasses)},styles:function(){return this.measurableStyles}},render:function(t){var e={class:this.classes,style:this.styles,on:this.$listeners};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}}),le=he,fe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var de=b["default"].extend({name:"routable",directives:{Ripple:Dt},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:[Boolean,Object],tag:String,target:String},computed:{computedRipple:function(){return!(!this.ripple||this.disabled)&&this.ripple}},methods:{click:function(t){this.$emit("click",t)},generateRouteLink:function(t){var e=this.exact,n=void 0,r=pe({attrs:{disabled:this.disabled},class:t,props:{},directives:[{name:"ripple",value:this.computedRipple}]},this.to?"nativeOn":"on",fe({},this.$listeners,{click:this.click}));if("undefined"===typeof this.exact&&(e="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var i=this.activeClass,o=this.exactActiveClass||i;this.proxyClass&&(i+=" "+this.proxyClass,o+=" "+this.proxyClass),n=this.nuxt?"nuxt-link":"router-link",Object.assign(r.props,{to:this.to,exact:e,activeClass:i,exactActiveClass:o,append:this.append,replace:this.replace})}else n=(this.href?"a":this.tag)||"a","a"===n&&this.href&&(r.attrs.href=this.href);return this.target&&(r.attrs.target=this.target),{tag:n,data:r}}}}),ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ge=R(de,le).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,raised:Boolean},computed:{classes:function(){return ve({"v-card":!0,"v-card--flat":this.flat,"v-card--hover":this.hover},le.options.computed.classes.call(this))},styles:function(){var t=ve({},le.options.computed.styles.call(this));return this.img&&(t.background='url("'+this.img+'") center center / cover no-repeat'),t}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.tag,r=e.data;return r.style=this.styles,t(n,this.setBackgroundColor(this.color,r),this.$slots.default)}}),me=Object(p["a"])(oe,te,ee,!1,null,"04af22a2",null),ye=me.exports;v()(me,{VCard:ge,VFlex:y,VLayout:I});var be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[t.cannotMove?t._e():r("Moveable",t._b({staticClass:"moveable",on:{drag:t.handleDrag}},"Moveable",t.moveable,!1),[t.type||t.isToken||t.flip||t.isTokenList?t._e():r("figure",{on:{click:function(e){return t.TapUntapCard(e,t.id)}}},[t.showModifier?t._e():r("span",{staticClass:"counter",on:{click:function(e){return t.AddCounter(e)}}},[t._v("Add Counter (CTRL-LClick)")]),t.showModifier?r("span",{staticClass:"modifier",on:{click:function(e){return t.IncreaseCounter(e)},contextmenu:function(e){return t.DecreaseCounter(e)}}},[t._v(t._s(t.modifiersign)+t._s(t.modifier))]):t._e(),r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})]),t.isTokenList?r("figure",{staticClass:"token",on:{click:function(e){return t.AddToken(t.name,t.image)}}},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})]):t._e(),t.isToken?r("figure",{staticClass:"token",on:{click:function(e){return t.TapUntapCard(e,t.id)}}},[t.showModifier?t._e():r("span",{staticClass:"counter",on:{click:function(e){return t.AddCounter(e)}}},[t._v("Add Counter (CTRL-LClick)")]),t.showModifier?r("span",{staticClass:"modifier",on:{click:function(e){return t.IncreaseCounter(e)},contextmenu:function(e){return t.DecreaseCounter(e)}}},[t._v(t._s(t.modifiersign)+t._s(t.modifier))]):t._e(),r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})]):t._e(),t.type?r("figure",{on:{click:function(e){return t.TapUntapLand(e,t.id)}}},[t.showModifier?t._e():r("span",{staticClass:"counter",on:{click:function(e){return t.AddCounter(e)}}},[t._v("Add Counter (CTRL-LClick)")]),t.showModifier?r("span",{staticClass:"modifier",on:{click:function(e){return t.IncreaseCounter(e)},contextmenu:function(e){return t.DecreaseCounter(e)}}},[t._v(t._s(t.modifiersign)+t._s(t.modifier))]):t._e(),"white"==t.type?r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("fea0")}}):t._e(),"blue"==t.type?r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("4383")}}):t._e(),"black"==t.type?r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("a06b")}}):t._e(),"red"==t.type?r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("f9a3")}}):t._e(),"green"==t.type?r("img",{class:{tapped:1==t.tappedCard},attrs:{src:n("d3ac")}}):t._e()]):t._e(),t.type||t.isToken||!t.flip?t._e():r("figure",{staticClass:"flip-card",class:{isflipped:1==t.transformed},on:{click:function(e){return t.TapUntapCard(e,t.id)}}},[r("div",{staticClass:"actions"},[r("span",{staticClass:"transform-action",on:{click:function(e){return t.transformCard(e,t.id)}}},[t._v("Transform")]),t.showModifier?t._e():r("span",{staticClass:"counter",on:{click:function(e){return t.AddCounter()}}},[t._v("Add Counter")]),t.showModifier?r("span",{staticClass:"modifier",on:{click:function(e){return t.IncreaseCounter(e)},contextmenu:function(e){return t.DecreaseCounter(e)}}},[t._v(t._s(t.modifiersign)+t._s(t.modifier))]):t._e()]),r("div",{staticClass:"card-inner"},[r("div",{staticClass:"card-face face-back"},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.imagealt,title:t.name}})]),r("div",{staticClass:"card-face face-front"},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})])])])]),t.cannotMove?r("div",{staticClass:"static"},[r("figure",{on:{click:function(e){return t.AddTokenToBattlefield(t.name,t.image)}}},[r("img",{class:{tapped:1==t.tappedCard},attrs:{src:t.image,title:t.name}})])]):t._e()],1)},we=[],_e=n("69e0"),Ee={name:"Card",props:["image","name","id","type","commander","isToken","isTokenList","flip","imagealt","cannotMove"],components:{Moveable:re.a},data:function(){return{moveable:{draggable:!0,throttleDrag:0,resizable:!1,throttleResize:1,keepRatio:!0,scalable:!1,throttleScale:0,rotatable:!1,throttleRotate:0},cardIndex:16,tappedCard:!1,transformed:!1,modifier:null,showModifier:!1,modifiersign:null}},methods:{AddTokenToBattlefield:function(t,e){console.log(this.$parent.$parent.$parent.$parent.$parent)},transformCard:function(t,e){1==this.transformed?this.transformed=!1:0==this.transformed&&(this.transformed=!0)},AddCounter:function(t){t.ctrlKey&&(this.showModifier=!0,this.modifier=0)},IncreaseCounter:function(t){t.shiftKey?this.modifier+=5:t.altKey?(this.showModifier=!1,this.modifier=0):this.modifier++,this.modifier>0?this.modifiersign="+":this.modifiersign=null},DecreaseCounter:function(t){t.preventDefault(),t.shiftKey?this.modifier-=5:this.modifier--,this.modifier>0?this.modifiersign="+":this.modifiersign=null},AddToken:function(t,e){this.$parent.$parent.AddToken(t,e)},TapUntapCard:function(t,e){t.shiftKey?1==this.tappedCard?this.tappedCard=!1:this.tappedCard=!0:t.altKey?_e["b"].doc(this.$router.app._route.params.library).collection("cards").doc(String(e)).delete():t.ctrlKey&&(this.transformed=!0)},TapUntapLand:function(t,e){t.shiftKey?1==this.tappedCard?this.tappedCard=!1:this.tappedCard=!0:t.altKey&&this.$parent.$parent.basiclands.splice(e,1)},IncreaseIndex:function(){this.cardIndex++},handleDrag:function(t){var e=t.target,n=t.left,r=t.right,i=t.top;0==this.$parent.$parent.gameStarted&&(this.$parent.$parent.gameStarted=!0,console.log(this.$parent.$parent.gameStarted)),e.classList.add("active"),e.style.zIndex=this.cardIndex,0==this.commander?e.style.left="".concat(n,"px"):e.style.right="".concat(r,"px"),e.style.top="".concat(i,"px")}}},xe=Ee,Te=(n("8450"),Object(p["a"])(xe,be,we,!1,null,"1bc5cd77",null)),Se=Te.exports,Ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"basic-lands"},[r("ul",[r("li",{on:{click:function(e){return t.AddLand("white")}}},[r("img",{attrs:{src:n("8f5a"),title:"Plains"}})]),r("li",{on:{click:function(e){return t.AddLand("blue")}}},[r("img",{attrs:{src:n("acb7"),title:"Island"}})]),r("li",{on:{click:function(e){return t.AddLand("black")}}},[r("img",{attrs:{src:n("db22"),title:"Swamp"}})]),r("li",{on:{click:function(e){return t.AddLand("red")}}},[r("img",{attrs:{src:n("6243"),title:"Mountain"}})]),r("li",{on:{click:function(e){return t.AddLand("green")}}},[r("img",{attrs:{src:n("b79f"),title:"Forest"}})])])])},Ce=[],Ae={name:"BasicLands",components:{Moveable:re.a},data:function(){return{moveable:{draggable:!0,throttleDrag:0,resizable:!1,throttleResize:1,keepRatio:!0,scalable:!1,throttleScale:0,rotatable:!1,throttleRotate:0}}},methods:{AddLand:function(t){if("white"==t);else if("blue"==t);else if("black"==t);else if("red"==t);else if("green"==t);var e=t,n={landName:name,landType:e};this.$parent.$parent.basiclands.push(n),console.log(this.$parent.$parent.basiclands)}}},Oe=Ae,ke=(n("47ed"),Object(p["a"])(Oe,Ie,Ce,!1,null,"2d2cd8fd",null)),De=ke.exports,Ne=20,Pe={name:"App",components:{Search:Ft,SearchToken:$t,Result:Jt,CommanderResult:ye,Card:Se,LandMenu:De},data:function(){return{tabs:null,lifecount:Ne,cardResults:[],commander:[],cards:[],messages:[],tempCards:[],tokenLibrary:[],tokenList:[],tokensActive:[],error:"",symbols:[],library:[],basiclands:[],hasSearchedCommander:null,testlibrary:[],playmat:"",size:"normal",commanderdamages:[],commanderid:0,alllibraries:[],currentDeck:this.$router.app._route.params.library,showLibraryList:!1,settings:[],showTokenList:!1,showTokens:!0,gameStarted:!1,showImportWindow:!1,importInit:!1,importedCards:0,importTotal:0,importFinished:!1}},created:function(){var t=this;window.addEventListener("beforeunload",(function(e){t.gameStarted&&(e.preventDefault(),e.returnValue="")}))},methods:{DuplicateToken:function(t,e){this.tokensActive.push({name:t,image:e,id:this.tokensActive.length})},showLibrary:function(){0==this.showLibraryList?this.showLibraryList=!0:this.showLibraryList=!1},showTokenSearch:function(){this.showTokenList=!0},showImport:function(){this.showImportWindow=!0},hideImport:function(){this.showImportWindow=!1},hideTokenSearch:function(){this.showTokenList=!1},AddToken:function(t,e){_e["b"].doc(this.$router.app._route.params.library).collection("tokens").doc().set({name:t,image:e})},getLibraries:function(){var t=this;_e["b"].get().then((function(e){e.forEach((function(e){if(e.exists&&t.$router.app._route.params.library!=e.id){var n={name:e.id,active:!1};t.alllibraries.push(n)}}))}))},checkCommander:function(){var t=this,e=_e["b"].doc(this.$router.app._route.params.library);e.get().then((function(e){if(e.exists){var n=e.data();void 0!=n.commander.name&&(t.lifecount=40,t.hasSearchedCommander=!0)}}))},AddCommander:function(){var t={id:this.commanderid,name:"Name",dmg:0};this.commanderdamages.push(t),this.commaderid++},ChangeView:function(t){this.size=t},SavePlaymat:function(t){_e["b"].doc(this.$router.app._route.params.library).update({playmat:t})},DecreaseCDamage:function(t,e){t.preventDefault(),t.shiftKey?this.commanderdamages[e].dmg-=5:this.commanderdamages[e].dmg--},IncreaseCDamage:function(t,e){t.shiftKey?this.commanderdamages[e].dmg+=5:this.commanderdamages[e].dmg++},DecreaseLife:function(t){t.shiftKey?this.lifecount-=5:this.lifecount--},IncreaseLife:function(t){t.preventDefault(),t.shiftKey?this.lifecount+=5:this.lifecount++},AddTempCard:function(t){if(console.log(t),t[0].card_faces){var e={id:this.tempCards.length+1,name:t[0].name,image:t[0].card_faces[0].image_uris.png,alternative_image:t[0].card_faces[1].image_uris.png,flip:!0};this.tempCards.push(e)}else{var n={id:this.tempCards.length+1,name:t[0].name,image:t[0].image_uris.png};this.tempCards.push(n),console.log(this.tempCards)}},SaveLibrary:function(t){var e=this;t.forEach((function(t){var n=t.name;if(t.card_faces){var r=t.card_faces[0].image_uris.png,i=t.card_faces[1].image_uris.png;if(e.library.length>0)_e["b"].doc(e.$router.app._route.params.library).collection("cards").orderBy("id","desc").limit(1).get().then((function(t){t.forEach((function(t){if(t.exists){var o=t.data(),s=o.id+1;_e["b"].doc(e.$router.app._route.params.library).collection("cards").doc(String(s)).set({id:s,name:n,image:r,flip:!0,alternative_image:i})}}))})).catch((function(t){console.log("Error occurred")}));else{var o=0;_e["b"].doc(e.$router.app._route.params.library).collection("cards").doc(String(o)).set({id:o,name:n,image:r,flip:!0,alternative_image:i})}}else{var s=t.image_uris.png;if(e.library.length>0)_e["b"].doc(e.$router.app._route.params.library).collection("cards").orderBy("id","desc").limit(1).get().then((function(t){t.forEach((function(t){if(t.exists){var r=t.data(),i=r.id+1;_e["b"].doc(e.$router.app._route.params.library).collection("cards").doc(String(i)).set({id:i,name:n,image:s})}}))})).catch((function(t){console.log("Error occurred")}));else{var a=0;_e["b"].doc(e.$router.app._route.params.library).collection("cards").doc(String(a)).set({id:a,name:n,image:s})}}}))},searchData:function(t){var e="https://api.scryfall.com/cards/named?fuzzy=";this.cards=[],this.error=this.post=null,this.loading=!0;var n=this;fetch(e+t).then((function(t){if(200===t.status)return t.json();n.error="No results found"})).then((function(t){var e=t;n.cards=new Array(e)})).catch((function(t){console.error("Error:",t)}))},searchTokenData:function(t){var e="https://api.scryfall.com//cards/search?q=",n="+%2B%2Bis%3Atoken";this.tokenList=[],this.error=this.post=null,this.loading=!0;var r=this;fetch(e+t+n).then((function(t){if(200===t.status)return t.json();r.error="No results found"})).then((function(t){t.name,t.image_uris;t.data.forEach((function(t){var e={id:t.mtgo_id,name:t.name,image:t.image_uris.png};r.tokenList.push(e)}))})).catch((function(t){console.error("Error:",t)}))},ImportDeck:function(){var t=u(regeneratorRuntime.mark((function t(e){var n,r,i,o,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.split("\n"),r="https://api.scryfall.com/cards/named?fuzzy=",i=function(t){return new s.a((function(e){return setTimeout(e,t)}))},o=0;case 4:if(!(o<n.length)){t.next=14;break}return this.importInit=!0,this.importedCards=o+1,this.importTotal=n.length,fetch(r+n[o]).then((function(t){if(200===t.status)return t.json();self.error="No results found"})).then((function(t){var e=t;self.icards=new Array(e),a.SaveLibrary(self.icards)})).catch((function(t){console.error("Error:",t)})),t.next=11,i(1e3);case 11:o++,t.next=4;break;case 14:o===n.length&&(console.log("Finished adding cards."),this.importInit=!1,this.importFinished=!0);case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),searchCommander:function(t){var e=this,n="https://api.scryfall.com/cards/named?fuzzy=";this.commander=[],this.error=this.post=null,this.loading=!0;var r=this;fetch(n+t).then((function(t){if(200===t.status)return t.json();r.error="No results found"})).then((function(t){var n=t;if(r.commander=new Array(n),r.settings.commander){var i={id:r.commander[0].oracle_id,name:r.commander[0].name,image:r.commander[0].image_uris.png};_e["b"].doc(e.$router.app._route.params.library).update({partner:i})}else{var o={id:r.commander[0].oracle_id,name:r.commander[0].name,image:r.commander[0].image_uris.png};_e["b"].doc(e.$router.app._route.params.library).update({playmat:e.settings.playmat,commander:o})}})).catch((function(t){console.error("Error:",t)})),this.hasSearchedCommander=!0,this.lifecount=40}},firestore:function(){return{library:_e["b"].doc(this.$router.app._route.params.library).collection("cards").orderBy("name"),tokenLibrary:_e["b"].doc(this.$router.app._route.params.library).collection("tokens").orderBy("name"),settings:_e["b"].doc(this.$router.app._route.params.library),messages:_e["c"].orderBy("timeStamp"),hasCommander:this.checkCommander()}},mounted:function(){this.getLibraries()}},Me=Pe,Re=(n("b65e"),n("7496"));function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function je(t,e,n){return x(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[t])return this[t].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Le({},this.activeClass,this.isActive):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}je("itemGroup");var Ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Be={name:"v-tab",mixins:[de,je("tabGroup"),P["a"]],props:{ripple:{type:[Boolean,Object],default:!0}},computed:{classes:function(){return Ve({"v-tabs__item":!0,"v-tabs__item--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href||"";if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},watch:{$route:"onRouteChange"},mounted:function(){this.onRouteChange()},methods:{click:function(t){this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),this.$emit("click",t),this.to||this.toggle()},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link){var e="_vnode.data.class."+this.activeClass;this.$nextTick((function(){Object(M["e"])(t.$refs.link,e)&&t.toggle()}))}}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.data,r=this.disabled?"div":e.tag;return n.ref="link",t("div",{staticClass:"v-tabs__div"},[t(r,n,this.$slots.default)])}},ze=b["default"].extend().extend({name:"bootable",props:{lazy:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||!this.lazy||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},methods:{showLazyContent:function(t){return this.hasContent?t:void 0}}}),Fe=function(t){var e=t.touchstartX,n=t.touchendX,r=t.touchstartY,i=t.touchendY,o=.5,s=16;t.offsetX=n-e,t.offsetY=i-r,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&n<e-s&&t.left(t),t.right&&n>e+s&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&i<r-s&&t.up(t),t.down&&i>r+s&&t.down(t))};function Ue(t,e){var n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}function qe(t,e){var n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),Fe(e)}function Ge(t,e){var n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}function We(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return Ue(t,e)},touchend:function(t){return qe(t,e)},touchmove:function(t){return Ge(t,e)}}}function He(t,e,n){var r=e.value,i=r.parent?t.parentElement:t,o=r.options||{passive:!0};if(i){var s=We(e.value);i._touchHandlers=Object(i._touchHandlers),i._touchHandlers[n.context._uid]=s,Object(M["h"])(s).forEach((function(t){i.addEventListener(t,s[t],o)}))}}function $e(t,e,n){var r=e.value.parent?t.parentElement:t;if(r&&r._touchHandlers){var i=r._touchHandlers[n.context._uid];Object(M["h"])(i).forEach((function(t){r.removeEventListener(t,i[t])})),delete r._touchHandlers[n.context._uid]}}var Ye={inserted:He,unbind:$e},Xe=R(ze,je("windowGroup","v-window-item","v-window")).extend({name:"v-window-item",directives:{Touch:Ye},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{done:null,isActive:!1,wasCancelled:!1}},computed:{computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},mounted:function(){this.$el.addEventListener("transitionend",this.onTransitionEnd,!1)},beforeDestroy:function(){this.$el.removeEventListener("transitionend",this.onTransitionEnd,!1)},methods:{genDefaultSlot:function(){return this.$slots.default},onAfterEnter:function(){var t=this;this.wasCancelled?this.wasCancelled=!1:requestAnimationFrame((function(){t.windowGroup.internalHeight=void 0,t.windowGroup.isActive=!1}))},onBeforeEnter:function(){this.windowGroup.isActive=!0},onLeave:function(t){this.windowGroup.internalHeight=Object(M["a"])(t.clientHeight)},onEnterCancelled:function(){this.wasCancelled=!0},onEnter:function(t,e){var n=this,r=this.windowGroup.isBooted;r&&(this.done=e),requestAnimationFrame((function(){if(!n.computedTransition)return e();n.windowGroup.internalHeight=Object(M["a"])(t.clientHeight),!r&&setTimeout(e,100)}))},onTransitionEnd:function(t){"transform"===t.propertyName&&t.target===this.$el&&this.done&&(this.done(),this.done=null)}},render:function(t){var e=t("div",{staticClass:"v-window-item",directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.showLazyContent(this.genDefaultSlot()));return t("transition",{props:{name:this.computedTransition},on:{afterEnter:this.onAfterEnter,beforeEnter:this.onBeforeEnter,leave:this.onLeave,enter:this.onEnter,enterCancelled:this.onEnterCancelled}},[e])}}),Ke=Xe.extend({name:"v-tab-item",props:{id:String},render:function(t){var e=Xe.options.render.call(this,t);return this.id&&(Object(w["d"])("id","value",this),e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id),e}});n("f413"),n("58db");function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return b["default"].extend({name:"proxyable",model:{prop:t,event:e},props:Qe({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:Qe({},t,(function(t){this.internalLazyValue=t}))})}var Je=Ze(),tn=Je,en=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nn=R(tn,P["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return en({},this.themeClasses)},selectedItems:function(){var t=this;return this.items.filter((function(e,n){return t.toggleMethod(t.getValue(e,n))}))},selectedValues:function(){return Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(w["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t,e){this.updateInternalValue(this.getValue(t,e))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t,n)})),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);var r=this.selectedValues.indexOf(n);if(!(r<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(t){return t!==n})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=t?this.items.length-1:0;this.updateInternalValue(this.getValue(this.items[e],e))}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),r=n.findIndex((function(e){return e===t}));this.mandatory&&r>-1&&n.length-1<1||null!=this.max&&r<0&&n.length+1>this.max||(r>-1?n.splice(r,1):n.push(t),this.internalValue=n)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",{staticClass:"v-item-group",class:this.classes},this.$slots.default)}}),rn=(nn.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}}),{computed:{activeTab:function(){if(this.selectedItems.length)return this.selectedItems[0]},containerStyles:function(){return this.height?{height:parseInt(this.height,10)+"px"}:null},hasArrows:function(){return(this.showArrows||!this.isMobile)&&this.isOverflowing},isMobile:function(){return this.$vuetify.breakpoint.width<this.mobileBreakPoint},sliderStyles:function(){return{left:this.sliderLeft+"px",transition:null!=this.sliderLeft?null:"none",width:this.sliderWidth+"px"}}}}),on=(n("0832"),nn.extend({name:"v-window",provide:function(){return{windowGroup:this}},directives:{Touch:Ye},props:{mandatory:{type:Boolean,default:!0},reverse:{type:Boolean,default:void 0},touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{internalHeight:void 0,isActive:!1,isBooted:!1,isReverse:!1}},computed:{computedTransition:function(){if(!this.isBooted)return"";var t=this.vertical?"y":"x",e=this.internalReverse===!this.$vuetify.rtl?"-reverse":"";return"v-window-"+t+e+"-transition"},internalIndex:function(){var t=this;return this.items.findIndex((function(e,n){return t.internalValue===t.getValue(e,n)}))},internalReverse:function(){return void 0!==this.reverse?this.reverse:this.isReverse}},watch:{internalIndex:"updateReverse"},mounted:function(){var t=this;this.$nextTick((function(){return t.isBooted=!0}))},methods:{genContainer:function(){return this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight}},this.$slots.default)},next:function(){this.isReverse=!1;var t=(this.internalIndex+1)%this.items.length,e=this.items[t];this.internalValue=this.getValue(e,t)},prev:function(){this.isReverse=!0;var t=(this.internalIndex+this.items.length-1)%this.items.length,e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse:function(t,e){this.isReverse=t<e}},render:function(t){var e={staticClass:"v-window",directives:[]};if(!this.touchless){var n=this.touch||{left:this.next,right:this.prev};e.directives.push({name:"touch",value:n})}return t("div",e,[this.genContainer()])}})),sn=on.extend({name:"v-tabs-items",inject:{registerItems:{default:null},tabProxy:{default:null},unregisterItems:{default:null}},props:{cycle:Boolean},watch:{internalValue:function(t){this.tabProxy&&this.tabProxy(t)}},created:function(){this.registerItems&&this.registerItems(this.changeModel)},beforeDestroy:function(){this.unregisterItems&&this.unregisterItems()},methods:{changeModel:function(t){this.internalValue=t},getValue:function(t,e){return t.id?t.id:on.options.methods.getValue.call(this,t,e)},next:function(){(this.cycle||this.internalIndex!==this.items.length-1)&&on.options.methods.next.call(this)},prev:function(){(this.cycle||0!==this.internalIndex)&&on.options.methods.prev.call(this)}}}),an={name:"v-tabs-slider",mixins:[D],render:function(t){return t("div",this.setBackgroundColor(this.color||"accent",{staticClass:"v-tabs__slider"}))}},un={methods:{genBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs__bar",class:this.themeClasses,ref:"bar"}),[this.genTransition("prev"),this.genWrapper(this.genContainer(t)),this.genTransition("next")])},genContainer:function(t){return this.$createElement("div",{staticClass:"v-tabs__container",class:{"v-tabs__container--align-with-title":this.alignWithTitle,"v-tabs__container--centered":this.centered,"v-tabs__container--fixed-tabs":this.fixedTabs,"v-tabs__container--grow":this.grow,"v-tabs__container--icons-and-text":this.iconsAndText,"v-tabs__container--overflow":this.isOverflowing,"v-tabs__container--right":this.right},style:this.containerStyles,ref:"container"},t)},genIcon:function(t){var e=this;return this.hasArrows&&this[t+"IconVisible"]?this.$createElement(F,{staticClass:"v-tabs__icon v-tabs__icon--"+t,props:{disabled:!this[t+"IconVisible"]},on:{click:function(){return e.scrollTo(t)}}},this[t+"Icon"]):null},genItems:function(t,e){return t.length>0?t:e.length?this.$createElement(sn,e):null},genTransition:function(t){return this.$createElement("transition",{props:{name:"fade-transition"}},[this.genIcon(t)])},genWrapper:function(t){var e=this;return this.$createElement("div",{staticClass:"v-tabs__wrapper",class:{"v-tabs__wrapper--show-arrows":this.hasArrows},ref:"wrapper",directives:[{name:"touch",value:{start:function(t){return e.overflowCheck(t,e.onTouchStart)},move:function(t){return e.overflowCheck(t,e.onTouchMove)},end:function(t){return e.overflowCheck(t,e.onTouchEnd)}}}]},[t])},genSlider:function(t){return t.length||(t=[this.$createElement(an,{props:{color:this.sliderColor}})]),this.$createElement("div",{staticClass:"v-tabs__slider-wrapper",style:this.sliderStyles},t)}}},cn={props:{activeClass:{type:String,default:"v-tabs__item--active"},alignWithTitle:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0,validator:function(t){return!isNaN(parseInt(t))}},hideSlider:Boolean,iconsAndText:Boolean,mandatory:{type:Boolean,default:!0},mobileBreakPoint:{type:[Number,String],default:1264,validator:function(t){return!isNaN(parseInt(t))}},nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},right:Boolean,showArrows:Boolean,sliderColor:{type:String,default:"accent"},value:[Number,String]}},hn={methods:{newOffset:function(t){var e=this.$refs.wrapper.clientWidth;return"prev"===t?Math.max(this.scrollOffset-e,0):Math.min(this.scrollOffset+e,this.$refs.container.clientWidth-e)},onTouchStart:function(t){this.startX=this.scrollOffset+t.touchstartX,this.$refs.container.style.transition="none",this.$refs.container.style.willChange="transform"},onTouchMove:function(t){this.scrollOffset=this.startX-t.touchmoveX},onTouchEnd:function(){var t=this.$refs.container,e=this.$refs.wrapper,n=t.clientWidth-e.clientWidth;t.style.transition=null,t.style.willChange=null,this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n)}}},ln={watch:{activeTab:function(t,e){this.setOverflow(),t&&(this.tabItems&&this.tabItems(this.getValue(t,this.items.indexOf(t))),null!=e&&this.updateTabsView())},alignWithTitle:"callSlider",centered:"callSlider",fixedTabs:"callSlider",hasArrows:function(t){t||(this.scrollOffset=0)},internalValue:function(t){this.$listeners["input"]&&this.$emit("input",t)},lazyValue:"updateTabs",right:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize",scrollOffset:function(t){this.$refs.container.style.transform="translateX("+-t+"px)",this.hasArrows&&(this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon())}}},fn=b["default"].extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame((function(){t.$el.setAttribute("data-booted","true"),t.isBooted=!0}))}}),pn=n("0d3d"),dn=R(P["a"]).extend({name:"theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:P["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}}),vn=nn.extend({name:"v-tabs",directives:{Resize:pn["a"],Touch:Ye},mixins:[D,fn,rn,cn,un,hn,ln,P["a"]],provide:function(){return{tabGroup:this,tabProxy:this.tabProxy,registerItems:this.registerItems,unregisterItems:this.unregisterItems}},data:function(){return{bar:[],content:[],isOverflowing:!1,nextIconVisible:!1,prevIconVisible:!1,resizeTimeout:null,scrollOffset:0,sliderWidth:null,sliderLeft:null,startX:0,tabItems:null,transitionTime:300,widths:{bar:0,container:0,wrapper:0}}},watch:{items:"onResize",tabs:"onResize"},mounted:function(){this.init()},methods:{checkIcons:function(){this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon()},checkPrevIcon:function(){return this.scrollOffset>0},checkNextIcon:function(){return this.widths.container>this.scrollOffset+this.widths.wrapper},callSlider:function(){var t=this;if(this.hideSlider||!this.activeTab)return!1;var e=this.activeTab;this.$nextTick((function(){e&&e.$el&&(t.sliderWidth=e.$el.scrollWidth,t.sliderLeft=e.$el.offsetLeft)}))},init:function(){this.$listeners["input"]&&Object(w["d"])("@input","@change",this)},onResize:function(){if(!this._isDestroyed){this.setWidths();var t=this.isBooted?this.transitionTime:0;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.updateTabsView,t)}},overflowCheck:function(t,e){this.isOverflowing&&e(t)},scrollTo:function(t){this.scrollOffset=this.newOffset(t)},setOverflow:function(){this.isOverflowing=this.widths.bar<this.widths.container},setWidths:function(){var t=this.$refs.bar?this.$refs.bar.clientWidth:0,e=this.$refs.container?this.$refs.container.clientWidth:0,n=this.$refs.wrapper?this.$refs.wrapper.clientWidth:0;this.widths={bar:t,container:e,wrapper:n},this.setOverflow()},parseNodes:function(){for(var t=[],e=[],n=[],r=[],i=(this.$slots.default||[]).length,o=0;o<i;o++){var s=this.$slots.default[o];if(s.componentOptions)switch(s.componentOptions.Ctor.options.name){case"v-tabs-slider":n.push(s);break;case"v-tabs-items":e.push(s);break;case"v-tab-item":t.push(s);break;default:r.push(s)}else r.push(s)}return{tab:r,slider:n,items:e,item:t}},registerItems:function(t){this.tabItems=t,t(this.internalValue)},unregisterItems:function(){this.tabItems=null},updateTabsView:function(){this.callSlider(),this.scrollIntoView(),this.checkIcons()},scrollIntoView:function(){if(this.activeTab){if(!this.isOverflowing)return this.scrollOffset=0;var t=this.widths.wrapper+this.scrollOffset,e=this.activeTab.$el,n=e.clientWidth,r=e.offsetLeft,i=n+r,o=.3*n;this.activeTab===this.items[this.items.length-1]&&(o=0),r<this.scrollOffset?this.scrollOffset=Math.max(r-o,0):t<i&&(this.scrollOffset-=t-i-o)}},tabProxy:function(t){this.internalValue=t}},render:function(t){var e=this.parseNodes(),n=e.tab,r=e.slider,i=e.items,o=e.item;return t("div",{staticClass:"v-tabs",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar([this.hideSlider?null:this.genSlider(r),n]),t(dn,{props:{dark:this.theme.isDark,light:!this.theme.isDark}},[this.genItems(i,o)])])}}),gn=Object(p["a"])(Me,r,i,!1,null,"5c17dfb7",null);e["default"]=gn.exports;v()(gn,{VApp:Re["a"],VTab:Be,VTabItem:Ke,VTabs:vn,VTabsItems:sn})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f9a3:function(t,e,n){t.exports=n.p+"img/mountain.547826f1.png"},fbb0:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return x})),n.d(e,"__classPrivateFieldGet",(function(){return T})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{u(i[t](e))}catch(n){l(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,h):l(o[0][2],t)}function c(t){a("next",t)}function h(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof p?p(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},fea0:function(t,e,n){t.exports=n.p+"img/plains.d1a0b9fa.png"}}]);
//# sourceMappingURL=about.2f4a42a3.js.map